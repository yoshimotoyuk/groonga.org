<!DOCTYPE html>
<html lang="{{ page.language }}">
<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-7532323-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-7532323-1');
  </script>

  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Groonga - {{ page.title }}</title>
  <meta name="author" content="Groonga Project">

  <link rel="shortcut icon" href="/favicon.ico">
  <link rel="icon" href="/favicon.png">

  <meta name="google-site-verification" content="VxHy-mpdLjpXw2ttgasUPxmY2gC6voEEvZTS7PsZG0U">

  <meta property="fb:page_id" content="201193596592346"><!-- groonga -->
  <meta property="fb:admins" content="664204556"><!-- kouhei.sutou -->
  <meta property="og:type" content="website">
  <meta property="og:image" content="{{ "/images/groonga-icon.png" | absolute_url }}">
  <meta property="og:site_name" content="Groonga">
  <meta property="og:url" content="{{ page.url | remove:'index.html' | absolute_url }}">
  <meta property="og:title" content="{{ page.title }}">
  {% if page.description %}<meta property="og:description" content="{{ page.description }}">{% endif %}

  <!--[if lt IE 9]>
  <script src="//html5shim.googlecode.com/svn/trunk/html5.js"></script>
  <![endif]-->

{% case page.language %}
{% when "en" %}
  <link rel="alternate" type="application/rss+xml" title="RSS" href="/blog/index.rdf">
{% when "ja" %}
  <link rel="alternate" type="application/rss+xml" title="RSS" href="/ja/blog/index.rdf">
{% endcase %}

{% if page.language == "ja" %}
  <script type="text/javascript"
          src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script type="text/javascript"
          src="//search.groonga.org/static/js/myautocomplete.js"></script>
  <link rel="stylesheet"
        href="//search.groonga.org/static/css/myautocomplete.css"
        type="text/css">
{% endif %}

  <link rel="stylesheet"
        href="{{ "/css/syntax.css" | relative_url }}"
        type="text/css">
  <link rel="stylesheet"
        href="{{ "/css/screen.css" | relative_url }}"
        type="text/css"
        media="screen, projection">

{% if page.language == "ja" %}
  <script type="text/javascript" src="//s.hatena.ne.jp/js/HatenaStar.js"></script>
  <script type="text/javascript">
    Hatena.Star.SiteConfig = {
      entryNodes: {
        'div.post': {
          uri: 'span.date a',
          title: 'h2',
          container: 'h2'
        }
      }
    };
    (function() {
      if (!window.addEventListener) {
        return;
      }

      var NodeInsert = function(evt) {
        Hatena.Star.EntryLoader.loadNewEntries(evt.target);
      };
      window.addEventListener('AutoPagerize_DOMNodeInserted', NodeInsert, false);
      window.addEventListener('AutoPatchWork.DOMNodeInserted', NodeInsert, false);
    })();
  </script>
{% endif %}
</head>
<body>
  <div id="fb-root"></div>
  {{ content }}

{% if page.language == "ja" %}
  <script type="text/javascript"
          src="{{ "/js/site-search.js" | relative_url }}"
          async="async"></script>
{% endif %}
  <script type="text/javascript"
          src="//b.st-hatena.com/js/bookmark_button.js"
          charset="utf-8"
          async="async"></script>
  <script src="//platform.twitter.com/widgets.js"
          type="text/javascript"></script>
  <script type="text/javascript" src="//apis.google.com/js/plusone.js">
    {lang: '{{ page.language }}'}
  </script>
  <script src="//connect.facebook.net/{{ page.language }}_{{ page.country }}/all.js"></script>

  <script>
    FB.init({
       appId  : null,
       status : true, // check login status
       cookie : true, // enable cookies to allow the server to access the session
       xfbml  : true  // parse XFBML
    });
  </script>
</body>
</html>
