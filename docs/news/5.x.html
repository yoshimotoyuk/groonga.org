
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>News - 5.x &#8212; Groonga v12.0.4 documentation</title>
    
    <link href="../_static/styles/theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">
<link href="../_static/styles/pydata-sphinx-theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">
  
    
    <link rel="stylesheet"
      href="../_static/vendor/fontawesome/5.13.0/css/all.min.css">
    <link rel="preload" as="font" type="font/woff2" crossorigin
      href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
    <link rel="preload" as="font" type="font/woff2" crossorigin
      href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">
  
    
      
  
    
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/pydata-sphinx-theme.css" />
    
    <link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf">
  
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="en">
    

    <!-- Google Analytics -->
    
<script async="" src="https://www.google-analytics.com/analytics.js"></script>
<script>
                        window.ga = window.ga || function () {
                            (ga.q = ga.q || []).push(arguments) };
                        ga.l = +new Date;
                        ga('create', 'UA-7532323-1', 'auto');
                        ga('set', 'anonymizeIp', true);
                        ga('send', 'pageview');
                    </script>

  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <div class="container-fluid" id="banner"></div>

    
    <nav class="navbar navbar-light navbar-expand-lg bg-light fixed-top bd-navbar" id="navbar-main"><div class="container-xl">

  <div id="navbar-start">
    
    

<a class="navbar-brand" href="https://groonga.org/">
  <img src="../_static/groonga.png" class="logo" alt="logo">
</a>


    
  </div>

  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-collapsible" aria-controls="navbar-collapsible" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>

  
  <div id="navbar-collapsible" class="col-lg-9 collapse navbar-collapse">
    <div id="navbar-center" class="mr-auto">
      
    </div>

    <div id="navbar-end">
      
      <div class="navbar-end-item">
        <ul id="navbar-icon-links" class="navbar-nav" aria-label="Icon Links">
        <li class="nav-item">
          <a class="nav-link" href="https://github.com/groonga/groonga" rel="noopener" target="_blank" title="GitHub"><span><i class="fab fa-github-square"></i></span>
            <label class="sr-only">GitHub</label></a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="https://twitter.com/groonga" rel="noopener" target="_blank" title="Twitter"><span><i class="fab fa-twitter-square"></i></span>
            <label class="sr-only">Twitter</label></a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="/blog" rel="noopener" target="_blank" title="Blog"><span><i class="fas fa-blog"></i></span>
            <label class="sr-only">Blog</label></a>
        </li>
      </ul>
      </div>
      
      <div class="navbar-end-item">
        <div class="dropdown" id="version_switcher">
    <button type="button" class="btn btn-primary btn-sm navbar-btn dropdown-toggle" id="version_switcher_button" data-toggle="dropdown">
        English  <!-- this text may get changed later by javascript -->
        <span class="caret"></span>
    </button>
    <div id="version_switcher_menu" class="dropdown-menu list-group-flush py-0" aria-labelledby="version_switcher_button">
    <!-- dropdown will be populated by javascript on page load -->
    </div>
</div>

<!-- NOTE: this JS must live here (not in our global JS file) because it relies
     on being processed by Jinja before it is run (specifically for replacing
     variables news/5.x and {'json_url': 'https://groonga.org/docs/_static/switcher.json', 'url_template': 'https://groonga.org/{version}docs/', 'version_match': 'English'}.
-->

<script type="text/javascript">
// Construct the target URL from the JSON components
function buildURL(entry) {
    var template = "https://groonga.org/{version}docs/";  // supplied by jinja
    template = template.replace("{version}", entry.version);
    return template;
}

// Check if corresponding page path exists in other version of docs
// and, if so, go there instead of the homepage of the other docs version
function checkPageExistsAndRedirect(event) {
    const currentFilePath = "news/5.x.html",
          tryUrl = event.target.getAttribute("href");
    let otherDocsHomepage = tryUrl.replace(currentFilePath, "");
    $.ajax({
        type: 'HEAD',
        url: tryUrl,
        // if the page exists, go there
        success: function() {
            location.href = tryUrl;
        }
    }).fail(function() {
        location.href = otherDocsHomepage;
    });
    // this prevents the browser from following the href of the clicked node
    // (which is fine because this function takes care of redirecting)
    return false;
}

// Populate the version switcher from the JSON config file
(function () {
    $.getJSON("https://groonga.org/docs/_static/switcher.json", function(data, textStatus, jqXHR) {
        const currentFilePath = "news/5.x.html";
        // create links to the corresponding page in the other docs versions
        $.each(data, function(index, entry) {
            // if no custom name specified (e.g., "latest"), use version string
            if (!("name" in entry)) {
                entry.name = entry.version;
            }
            // create the node
            const node = document.createElement("a");
            node.setAttribute("class", "list-group-item list-group-item-action py-1");
            node.textContent = `${entry.name}`;
            // get the base URL for that doc version, add the current page's
            // path to it, and set as `href`
            entry.url = buildURL(entry);
            node.setAttribute("href", `${entry.url}${currentFilePath}`);
            // on click, AJAX calls will check if the linked page exists before
            // trying to redirect, and if not, will redirect to the homepage
            // for that version of the docs.
            node.onclick = checkPageExistsAndRedirect;
            $("#version_switcher_menu").append(node);
            // replace dropdown button text with the preferred display name of
            // this version, rather than using sphinx's 12.0.4 variable.
            // also highlight the dropdown entry for the currently-viewed
            // version's entry
            if (entry.version == "English") {
                node.classList.add("active");
                $("#version_switcher_button").text(entry.name);
            }
        });
    });
})();
</script>
      </div>
      
    </div>
  </div>
</div>
    </nav>
    

    <div class="container-xl">
      <div class="row">
          
            
            <!-- Only show if we have sidebars configured, else just a small margin  -->
            <div class="col-12 col-md-3 bd-sidebar">
              <div class="sidebar-start-items"><form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search the docs ..." aria-label="Search the docs ..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
  <div class="bd-toc-item active">
    
  </div>
</nav>
              </div>
              <div class="sidebar-end-items">
              </div>
            </div>
            
          

          
          <div class="d-none d-xl-block col-xl-2 bd-toc">
            
              
              <div class="toc-item">
                
<div class="tocsection onthispage pt-5 pb-3">
    <i class="fas fa-list"></i> On this page
</div>

<nav id="bd-toc-nav">
    <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#release-5-1-2-2016-01-29">
   Release 5.1.2 - 2016-01-29
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#improvements">
     Improvements
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#fixes">
     Fixes
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#thanks">
     Thanks
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#release-5-1-1-2015-12-29">
   Release 5.1.1 - 2015-12-29
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id1">
     Improvements
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id2">
     Fixes
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id3">
     Thanks
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#release-5-1-0-2015-11-29">
   Release 5.1.0 - 2015-11-29
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id4">
     Improvements
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id5">
     Fixes
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id6">
     Thanks
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#release-5-0-9-2015-10-29">
   Release 5.0.9 - 2015-10-29
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id7">
     Improvements
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id8">
     Fixes
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id9">
     Thanks
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#release-5-0-8-2015-09-29">
   Release 5.0.8 - 2015-09-29
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id10">
     Improvements
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id11">
     Fixes
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id12">
     Thanks
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#release-5-0-7-2015-08-31">
   Release 5.0.7 - 2015-08-31
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id13">
     Improvements
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id14">
     Fixes
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id15">
     Thanks
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#release-5-0-6-2015-07-29">
   Release 5.0.6 - 2015-07-29
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id16">
     Improvements
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id17">
     Fixes
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id18">
     Thanks
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#release-5-0-5-2015-06-29">
   Release 5.0.5 - 2015-06-29
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id19">
     Improvements
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id20">
     Fixes
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id21">
     Thanks
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#release-5-0-4-2015-05-29">
   Release 5.0.4 - 2015-05-29
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id22">
     Improvements
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id23">
     Fixes
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id24">
     Thanks
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#release-5-0-3-2015-04-29">
   Release 5.0.3 - 2015-04-29
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id25">
     Improvements
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id26">
     Fixes
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id27">
     Thanks
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#release-5-0-2-2015-03-31">
   Release 5.0.2 - 2015-03-31
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id28">
     Improvements
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id29">
     Fixes
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id30">
     Thanks
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#release-5-0-1-2015-03-29">
   Release 5.0.1 - 2015-03-29
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id31">
     Improvements
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id32">
     Fixes
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id33">
     Thanks
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#release-5-0-0-2015-02-09">
   Release 5.0.0 - 2015-02-09
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id34">
     Improvements
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id35">
     Fixes
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id36">
     Thanks
    </a>
   </li>
  </ul>
 </li>
</ul>

</nav>
              </div>
              
              <div class="toc-item">
                

<div class="tocsection editthispage">
    <a href="https://github.com/groonga/groonga/edit/master/doc/source/news/5.x.rst">
        <i class="fas fa-pencil-alt"></i> Edit this page
    </a>
</div>

              </div>
              
            
          </div>
          

          
          
            
          
          <main class="col-12 col-md-9 col-xl-7 py-md-5 pl-md-5 pr-md-4 bd-content" role="main">
              
              <div>
                
  <div class="section" id="news-5-x">
<h1>News - 5.x<a class="headerlink" href="#news-5-x" title="Permalink to this headline">¶</a></h1>
<div class="section" id="release-5-1-2-2016-01-29">
<span id="release-5-1-2"></span><h2>Release 5.1.2 - 2016-01-29<a class="headerlink" href="#release-5-1-2-2016-01-29" title="Permalink to this headline">¶</a></h2>
<div class="section" id="improvements">
<h3>Improvements<a class="headerlink" href="#improvements" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Improved performance for sequential search against constant value
such as <code class="docutils literal notranslate"><span class="pre">true</span></code> and <code class="docutils literal notranslate"><span class="pre">29</span></code>.</p></li>
<li><p>Improved performance for sequential search against binary operation
with constant value such as <code class="docutils literal notranslate"><span class="pre">x</span> <span class="pre">==</span> <span class="pre">29</span></code> and <code class="docutils literal notranslate"><span class="pre">x</span> <span class="pre">&lt;</span> <span class="pre">29</span></code>.</p></li>
<li><p>[<a class="reference internal" href="../reference/commands/select.html"><span class="doc">select</span></a>] Changed score type to <code class="docutils literal notranslate"><span class="pre">Float</span></code>
from <code class="docutils literal notranslate"><span class="pre">Int32</span></code> when <a class="reference internal" href="../reference/command/command_version.html"><span class="doc">Command version</span></a> is 2.
The current default command version is 1. Command version 2 is
experimental. So this change isn’t affected to normal users.
[GitHub#450][Patch by Naoya Murakami]</p></li>
<li><p>[grn_ts] Supported match operator.</p></li>
<li><p>[<a class="reference internal" href="../reference/executables/grndb.html"><span class="doc">grndb</span></a>] Added <code class="docutils literal notranslate"><span class="pre">--target</span></code> option to
<code class="docutils literal notranslate"><span class="pre">check</span></code> command. It reduces check target.</p></li>
<li><p>[Windows] Updated bundled msgpack to 1.3.0 from 1.0.1.</p></li>
<li><p>[Windows] Updated bundled MeCab to 0.996 from 0.98.</p></li>
<li><p>[<code class="docutils literal notranslate"><span class="pre">grn_hash_size()</span></code>] Added a new API that returns the number of
records in the hash table.</p></li>
<li><p>[<code class="docutils literal notranslate"><span class="pre">GRN_HASH_TINY</span></code>] Added a new flag to create tiny hash table.</p></li>
<li><p>[<code class="docutils literal notranslate"><span class="pre">grn_dump_table_create_flags()</span></code>] Added a new API that converts
<code class="docutils literal notranslate"><span class="pre">flags</span></code> value of a table to <code class="docutils literal notranslate"><span class="pre">flags</span></code> parameter format of
<a class="reference internal" href="../reference/commands/table_create.html"><span class="doc">table_create</span></a>.</p></li>
<li><p>[<code class="docutils literal notranslate"><span class="pre">grn_dump_column_create_flags()</span></code>] Added a new API that converts
<code class="docutils literal notranslate"><span class="pre">flags</span></code> value of a column to <code class="docutils literal notranslate"><span class="pre">flags</span></code> parameter format of
<a class="reference internal" href="../reference/commands/column_create.html"><span class="doc">column_create</span></a>.</p></li>
<li><p>[<code class="docutils literal notranslate"><span class="pre">grn_plugin_get_names()</span></code>] Added a new API that returns all plugin
names in a database.</p></li>
<li><p>[<code class="docutils literal notranslate"><span class="pre">grn_column_get_all_index_data()</span></code>] Added a new API that returns
all index data for a table or data column.</p></li>
<li><p>[<a class="reference internal" href="../reference/commands/schema.html"><span class="doc">schema</span></a>] Added indexes information to
indexed tables and data columns.</p></li>
<li><p>[<code class="docutils literal notranslate"><span class="pre">grn_config_get()</span></code>] Renamed from <code class="docutils literal notranslate"><span class="pre">grn_conf_get()</span></code>.</p></li>
<li><p>[<code class="docutils literal notranslate"><span class="pre">grn_config_set()</span></code>] Renamed from <code class="docutils literal notranslate"><span class="pre">grn_conf_set()</span></code>.</p></li>
<li><p>[<code class="docutils literal notranslate"><span class="pre">grn_config_delete()</span></code>] Added a new API that deletes a
configuration item.</p></li>
<li><p>[<a class="reference internal" href="../reference/commands/config_set.html"><span class="doc">config_set</span></a>] Added a new command that
sets a configuration item.</p></li>
<li><p>[<a class="reference internal" href="../reference/commands/config_get.html"><span class="doc">config_get</span></a>] Added a new command that
gets a configuration item value.</p></li>
<li><p>[<a class="reference internal" href="../reference/commands/config_delete.html"><span class="doc">config_delete</span></a>] Added a new command that
deletes a configuration item.</p></li>
<li><p>[<code class="docutils literal notranslate"><span class="pre">grn_config_cursor_open()</span></code>] Added a new API that opens a new
cursor that iterates all configuration items.</p></li>
<li><p>[<code class="docutils literal notranslate"><span class="pre">grn_config_cursor_next()</span></code>] Added a new API that moves to the
next configuration item in the cursor.</p></li>
<li><p>[<code class="docutils literal notranslate"><span class="pre">grn_config_cursor_get_key()</span></code>] Added a new API that gets the
key of the current configuration item.</p></li>
<li><p>[<code class="docutils literal notranslate"><span class="pre">grn_config_cursor_get_value()</span></code>] Added a new API that gets the
value of the current configuration item.</p></li>
<li><p>[<a class="reference internal" href="../reference/alias.html"><span class="doc">Alias</span></a>] Supported aliasing table and column names.</p></li>
<li><p>[hash table] Added total key size overflow check.</p></li>
<li><p>[<a class="reference internal" href="../reference/commands/dump.html"><span class="doc">dump</span></a>] Supported dumping configurations
set by <a class="reference internal" href="../reference/commands/config_set.html"><span class="doc">config_set</span></a>.</p></li>
<li><p>[patricia trie] Improved inspection.
[GitHub#452][GitHub#457][Patch by Naoya Murakami]</p></li>
<li><p>[<code class="docutils literal notranslate"><span class="pre">grn_get_global_error_message()</span></code>] Added a new API that gets the
current error message in the process.</p></li>
<li><p>[<a class="reference internal" href="../reference/commands/lock_acquire.html"><span class="doc">lock_acquire</span></a>] Added a new command that
acquires a lock of a database, table or column.</p></li>
<li><p>[<a class="reference internal" href="../reference/commands/lock_release.html"><span class="doc">lock_release</span></a>] Added a new command that
releases a lock of a database, table or column.</p></li>
<li><p>[<a class="reference internal" href="../reference/executables/groonga-httpd.html"><span class="doc">groonga-httpd</span></a>] Updated bundled nginx
version to 1.9.10 from 1.9.7.</p></li>
</ul>
</div>
<div class="section" id="fixes">
<h3>Fixes<a class="headerlink" href="#fixes" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Fixed mruby related crash bugs.</p></li>
<li><p>[Windows] Fixed label in installer.
[groonga-dev,03825][Reported by Atsushi Shinoda]</p></li>
<li><p>[doc] Fixed typos.
[GitHub#456][GitHub#458][Patch by tSU_RooT]</p></li>
<li><p>[<a class="reference internal" href="../server/memcached.html"><span class="doc">Memcached binary protocol</span></a>] Added more description.
[GitHub#454][Patch by Hiroyuki Sato]</p></li>
<li><p>Fixed a bug that <a class="reference internal" href="../reference/command/command_version.html"><span class="doc">Command version</span></a> specified
by <code class="docutils literal notranslate"><span class="pre">command_version</span></code> parameter in a request isn’t reset.</p></li>
</ul>
</div>
<div class="section" id="thanks">
<h3>Thanks<a class="headerlink" href="#thanks" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Naoya Murakami</p></li>
<li><p>Atsushi Shinoda</p></li>
<li><p>tSU_RooT</p></li>
<li><p>Hiroyuki Sato</p></li>
</ul>
</div>
</div>
<div class="section" id="release-5-1-1-2015-12-29">
<span id="release-5-1-1"></span><h2>Release 5.1.1 - 2015-12-29<a class="headerlink" href="#release-5-1-1-2015-12-29" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id1">
<h3>Improvements<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>[<a class="reference internal" href="../reference/grn_expr/script_syntax.html"><span class="doc">Script syntax</span></a>] Supported <code class="docutils literal notranslate"><span class="pre">INDEX_COLUMN</span>
<span class="pre">==</span> <span class="pre">VALUE</span></code> as index search with an equal supported index.</p></li>
<li><p>Reduced the continuous same messages from inverted index module.</p></li>
<li><p>Supported detecting truncated tables by another process.
[GitHub#447] [groonga-dev,03761] [Reported by Yutaro SHIMAMURA]</p></li>
<li><p>[<a class="reference internal" href="../reference/api/grn_db.html#c.grn_db_recover" title="grn_db_recover"><code class="xref c c-func docutils literal notranslate"><span class="pre">grn_db_recover()</span></code></a>] Supported detecting a broken object.</p></li>
<li><p>Improved performance for sequential scan search by
<a class="reference internal" href="../reference/regular_expression.html"><span class="doc">Regular expression</span></a> match with constant pattern
such as <code class="docutils literal notranslate"><span class="pre">COLUMN</span> <span class="pre">&#64;~</span> <span class="pre">&quot;CONSTANT_PATTERN&quot;</span></code>.</p></li>
</ul>
</div>
<div class="section" id="id2">
<h3>Fixes<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Fixed build error on MessagePack support build.
[groonga-dev,03708] [Reported by Ryo Sugimoto]</p></li>
<li><p>[mruby] Fixed a crash bug on error.
mruby exception feature is disabled as workaround for now.</p></li>
<li><p>[<a class="reference internal" href="../reference/commands/thread_limit.html"><span class="doc">thread_limit</span></a>] Fixed a bug that
<code class="docutils literal notranslate"><span class="pre">thread_limit?max=1</span></code> may not reduce the number of current running
threads to <code class="docutils literal notranslate"><span class="pre">1</span></code>.</p></li>
<li><p>[<a class="reference internal" href="../reference/commands/thread_limit.html"><span class="doc">thread_limit</span></a>] Fixed a bug that
<code class="docutils literal notranslate"><span class="pre">thread_limit?max=1</span></code> may not return.</p></li>
<li><p>[<a class="reference internal" href="../reference/tuning.html"><span class="doc">Tuning</span></a>] Fixed wrong <code class="docutils literal notranslate"><span class="pre">sysctl</span></code> argument.
[GitHub#448] [Reported by Hiroyuki Sato]</p></li>
</ul>
</div>
<div class="section" id="id3">
<h3>Thanks<a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Ryo Sugimoto</p></li>
<li><p>Yutaro SHIMAMURA</p></li>
<li><p>Hiroyuki Sato</p></li>
</ul>
</div>
</div>
<div class="section" id="release-5-1-0-2015-11-29">
<span id="release-5-1-0"></span><h2>Release 5.1.0 - 2015-11-29<a class="headerlink" href="#release-5-1-0-2015-11-29" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id4">
<h3>Improvements<a class="headerlink" href="#id4" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>[patiricia trie] Added an error check for the max total key
size. See <a class="reference internal" href="../limitations.html"><span class="doc">Limitations</span></a> about the max total key size.</p></li>
<li><p>[<a class="reference internal" href="../reference/executables/grndb.html"><span class="doc">grndb</span></a>] Added a check for broken
object. The check can detect a case that the object can’t be opened.</p></li>
<li><p>[<code class="docutils literal notranslate"><span class="pre">grn_obj_reindex()</span></code>] Added a new API that recreates existing
indexes.</p></li>
<li><p>[<a class="reference internal" href="../reference/commands/reindex.html"><span class="doc">reindex</span></a>] Added a new command that
recreates existing indexes.</p></li>
<li><p>[inverted index] Improved estimation precision for query.</p></li>
<li><p>[<a class="reference internal" href="../reference/commands/logical_range_filter.html"><span class="doc">logical_range_filter</span></a>] Added fallback
mode for sequential search. If sequential search checked many
records but didn’t find required the number of records, index search
is used as fallback.</p></li>
<li><p>[<code class="docutils literal notranslate"><span class="pre">grn_get_package_label()</span></code>] Added a new API that returns package
label. It returns <code class="docutils literal notranslate"><span class="pre">Groonga</span></code>.</p></li>
<li><p>[<a class="reference internal" href="../reference/executables/groonga-server-http.html"><span class="doc">Groonga HTTP server</span></a>] Added <code class="docutils literal notranslate"><span class="pre">Server:</span>
<span class="pre">Groonga/VERSION</span></code> response header.</p></li>
<li><p>[<a class="reference internal" href="../reference/executables/groonga-httpd.html"><span class="doc">groonga-httpd</span></a>] Improved performance
by reusing <code class="docutils literal notranslate"><span class="pre">grn_ctx</span></code> object.</p></li>
<li><p>[<code class="docutils literal notranslate"><span class="pre">grn_file_reader</span></code>] Added a new API that provides <code class="docutils literal notranslate"><span class="pre">fgets()</span></code>
feature. It fixes a crash bug of
<a class="reference internal" href="../reference/executables/groonga.html"><span class="doc">groonga executable file</span></a>. If
<a class="reference internal" href="../reference/executables/groonga.html"><span class="doc">groonga executable file</span></a> is built with static C runtime
by Visual Studio, the crash bug is occurred.</p></li>
<li><p>[<a class="reference internal" href="../reference/functions/prefix_rk_search.html"><span class="doc">prefix_rk_search</span></a>] Added a new selector
that provides prefix RK search feature.</p></li>
<li><p>[<code class="docutils literal notranslate"><span class="pre">grn_obj_is_accessor()</span></code>] Added a new predicate that checks
whether the object is an accessor.</p></li>
<li><p>[<code class="docutils literal notranslate"><span class="pre">grn_obj_is_key_accessor()</span></code>] Added a new predicate that checks
whether the object is an accessor for <code class="docutils literal notranslate"><span class="pre">_key</span></code>
<a class="reference internal" href="../reference/columns/pseudo.html"><span class="doc">Pseudo column</span></a>.</p></li>
<li><p>Supported <a class="reference internal" href="../reference/command/pretty_print.html"><span class="doc">Pretty print</span></a> for JSON output.</p></li>
</ul>
</div>
<div class="section" id="id5">
<h3>Fixes<a class="headerlink" href="#id5" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>[inverted index] Fixed a possible infinite loop bug when log level
is <code class="docutils literal notranslate"><span class="pre">debug</span></code>.</p></li>
<li><p>Fixed a bug that <code class="docutils literal notranslate"><span class="pre">&#64;</span></code> operator (match operator) may not match
record that should be matched in sequential search mode.</p></li>
<li><p>[patricia trie] Fixed a bug that invalid value may be returned for
empty string key. [groonga-dev,03632] [Reported by Naoya Murakami]</p></li>
</ul>
</div>
<div class="section" id="id6">
<h3>Thanks<a class="headerlink" href="#id6" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Naoya Murakami</p></li>
</ul>
</div>
</div>
<div class="section" id="release-5-0-9-2015-10-29">
<span id="release-5-0-9"></span><h2>Release 5.0.9 - 2015-10-29<a class="headerlink" href="#release-5-0-9-2015-10-29" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id7">
<h3>Improvements<a class="headerlink" href="#id7" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>[inverted index] Reduced log levels of logs for developers.</p></li>
<li><p>Flushed pending changed on creating new database. It guards database
from crash.</p></li>
<li><p>[<code class="docutils literal notranslate"><span class="pre">grn_geo_table_sort()</span></code>] Added a new API that sorts table by
geometry index.</p></li>
<li><p>[experimental] Added expression rewrite mechanism. You can write
custom expression rewriter by mruby. Expression rewriter can be used
for optimizing an expression, changing conditions in an expression
and so on.</p></li>
<li><p>[experimental] Added database global configuration mechanism. You
can put configurations (key and value pairs) into database. For
example, it will be used in <a class="reference internal" href="../reference/token_filters/token_filter_stop_word.html#token-filter-stop-word"><span class="std std-ref">TokenFilterStopWord</span></a> to custom
column name from <code class="docutils literal notranslate"><span class="pre">is_stop_word</span></code>.</p></li>
<li><p>[<code class="docutils literal notranslate"><span class="pre">grn_conf_set()</span></code>] Added a new API that sets a configuration.</p></li>
<li><p>[<code class="docutils literal notranslate"><span class="pre">grn_conf_get()</span></code>] Added a new API that gets a configuration.</p></li>
<li><p>[deb] Changed to <code class="docutils literal notranslate"><span class="pre">all</span></code> from <code class="docutils literal notranslate"><span class="pre">any</span></code> for
<code class="docutils literal notranslate"><span class="pre">Architecture</span></code> value.
[debian-bugs:799167][Reported by Matthias Klose]</p></li>
<li><p>[Windows][CMake] Supported building bundled MeCab.
[groonga-dev,03562][Reported by Sato]</p></li>
<li><p>[<a class="reference internal" href="../reference/commands/schema.html"><span class="doc">schema</span></a>] Added a new command that returns
schema. Schema is consists with loaded plugins, loaded tokenizers,
loaded normalizers, loaded token filters, defined tables and defined
columns.</p></li>
<li><p>[<a class="reference internal" href="../reference/api/plugin.html#c.grn_plugin_win32_base_dir" title="grn_plugin_win32_base_dir"><code class="xref c c-func docutils literal notranslate"><span class="pre">grn_plugin_win32_base_dir()</span></code></a>] Deprecated. Use
<a class="reference internal" href="../reference/api/plugin.html#c.grn_plugin_windows_base_dir" title="grn_plugin_windows_base_dir"><code class="xref c c-func docutils literal notranslate"><span class="pre">grn_plugin_windows_base_dir()</span></code></a> instead.</p></li>
<li><p>[<a class="reference internal" href="../reference/api/plugin.html#c.grn_plugin_windows_base_dir" title="grn_plugin_windows_base_dir"><code class="xref c c-func docutils literal notranslate"><span class="pre">grn_plugin_windows_base_dir()</span></code></a>] Renamed from
<a class="reference internal" href="../reference/api/plugin.html#c.grn_plugin_win32_base_dir" title="grn_plugin_win32_base_dir"><code class="xref c c-func docutils literal notranslate"><span class="pre">grn_plugin_win32_base_dir()</span></code></a>.</p></li>
<li><p>[<code class="docutils literal notranslate"><span class="pre">grn_obj_is_type()</span></code>] Add a new API that returns true when the
passed object is a type object.</p></li>
<li><p>[<code class="docutils literal notranslate"><span class="pre">grn_obj_is_tokenizer_proc()</span></code>] Add a new API that returns true
when the passed object is a tokenizer object.</p></li>
<li><p>[<code class="docutils literal notranslate"><span class="pre">grn_obj_is_normalizer_proc()</span></code>] Add a new API that returns true
when the passed object is a normalizer object.</p></li>
<li><p>[<code class="docutils literal notranslate"><span class="pre">grn_obj_is_token_filter_proc()</span></code>] Add a new API that returns true
when the passed object is a token filter object.</p></li>
<li><p>[<code class="docutils literal notranslate"><span class="pre">grn_ctx_get_all_types()</span></code>] Add a new API that returns all type
objects in database.</p></li>
<li><p>[<code class="docutils literal notranslate"><span class="pre">grn_ctx_get_all_tokenizers()</span></code>] Add a new API that returns all
tokenizer objects in database.</p></li>
<li><p>[<code class="docutils literal notranslate"><span class="pre">grn_ctx_get_all_normalizers()</span></code>] Add a new API that returns all
normalizer objects in database.</p></li>
<li><p>[<code class="docutils literal notranslate"><span class="pre">grn_ctx_get_all_token_filters()</span></code>] Add a new API that returns all
token filter objects in database.</p></li>
<li><p>[<code class="docutils literal notranslate"><span class="pre">grn_ctx_output_uint64()</span></code>] Add a new API that outputs 64bit
unsigned integer value.</p></li>
<li><p>[<code class="docutils literal notranslate"><span class="pre">grn_ctx_output_null()</span></code>] Add a new API that outputs <code class="docutils literal notranslate"><span class="pre">NULL</span></code>.</p></li>
<li><p>[<code class="docutils literal notranslate"><span class="pre">GRN_OBJ_IS_TRUE()</span></code>] Add a new API that returns true when the
passed object is true value.</p></li>
<li><p>[experimental] Enabled grn_ts by default.</p></li>
<li><p>[<a class="reference internal" href="../install/ubuntu.html"><span class="doc">Ubuntu</span></a>] Added Ubuntu 15.10 Wily Werewolf support.</p></li>
</ul>
</div>
<div class="section" id="id8">
<h3>Fixes<a class="headerlink" href="#id8" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>[patricia trie] Fixed a bug that the number of records may be
counted up unexpectedly on adding a new entry. [GitHub#417]</p></li>
<li><p>[patricia trie] Fixed a bug that a variable may be used
uninitialized.</p></li>
<li><p>[patricia trie] Fixed a bug that <code class="docutils literal notranslate"><span class="pre">grn_pat_cursor_next()</span></code> may enter
an infinite loop. [GitHub#419]</p></li>
<li><p>[patricia trie] Fixed a bug that deleting an entry may break
patricia trie.
[GitHub#415][groonga-dev,03515][Reported by Hiroshi Kagami]</p></li>
<li><p>[patricia trie] Fixed a bug that deleting a nonexistent entry may
break patricia trie. [GitHub#420]</p></li>
<li><p>Fixed a bug that wrong proc type is used for token filter objects.</p></li>
</ul>
</div>
<div class="section" id="id9">
<h3>Thanks<a class="headerlink" href="#id9" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Matthias Klose</p></li>
<li><p>Hiroshi Kagami</p></li>
<li><p>Sato</p></li>
</ul>
</div>
</div>
<div class="section" id="release-5-0-8-2015-09-29">
<span id="release-5-0-8"></span><h2>Release 5.0.8 - 2015-09-29<a class="headerlink" href="#release-5-0-8-2015-09-29" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id10">
<h3>Improvements<a class="headerlink" href="#id10" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p>[Windows] Supported build with MySQL again.</p></li>
<li><p>[<a class="reference internal" href="../reference/grn_expr/script_syntax.html"><span class="doc">Script syntax</span></a>] Changed return value type
to <code class="docutils literal notranslate"><span class="pre">Bool</span></code> from <code class="docutils literal notranslate"><span class="pre">Int32</span></code> for predicate operations such as
<a class="reference internal" href="../reference/grn_expr/script_syntax.html#script-syntax-match-operator"><span class="std std-ref">Match operator</span></a> and
<a class="reference internal" href="../reference/grn_expr/script_syntax.html#script-syntax-equal-operator"><span class="std std-ref">Equal operator</span></a>.</p></li>
<li><p>[<a class="reference internal" href="../reference/api.html"><span class="doc">API</span></a>] Supported owning other <code class="docutils literal notranslate"><span class="pre">grn_obj</span></code> by
<code class="docutils literal notranslate"><span class="pre">GRN_PTR</span></code> and <code class="docutils literal notranslate"><span class="pre">GRN_PVECTOR</span></code> bulk. If you specify <code class="docutils literal notranslate"><span class="pre">GRN_OBJ_OWN</span></code>
flag to <code class="docutils literal notranslate"><span class="pre">GRN_PTR</span></code> and <code class="docutils literal notranslate"><span class="pre">GRN_PVECTOR</span></code> bulks, they call
<a class="reference internal" href="../reference/api/grn_obj.html#c.grn_obj_close" title="grn_obj_close"><code class="xref c c-func docutils literal notranslate"><span class="pre">grn_obj_close()</span></code></a> against <code class="docutils literal notranslate"><span class="pre">grn_obj</span></code> that is held by
them when they are closed.</p></li>
<li><p>[incompatible][<a class="reference internal" href="../reference/regular_expression.html"><span class="doc">Regular expression</span></a>] Changed to
normalize regular expression match target text before matching. It’s
for consistency and performance.</p>
<p>Other operations such as <a class="reference internal" href="../reference/grn_expr/script_syntax.html#script-syntax-prefix-search-operator"><span class="std std-ref">Prefix search operator</span></a>
normalize target text.</p>
<p>Some simple regular expressions such as <code class="docutils literal notranslate"><span class="pre">\Ahello</span></code> can be
evaluated by index. It’s fast.</p>
<p>If target text isn’t normalized, you need to use complex regular
expressions such as <code class="docutils literal notranslate"><span class="pre">\A[Hh]ello</span></code> and <code class="docutils literal notranslate"><span class="pre">\A(?i)hello</span></code>. Complex
regular expressions can’t be evaluated by index. If target text is
normalized, you can use simple regular expressions. They may be
evaluated by index. It’s fast.</p>
</li>
<li><p>[doc] Improved documents.
[GitHub#393][GitHub#396][GitHub#397][GitHub#399][GitHub#403]
[GitHub#405][GitHub#409]
[Reported by Hiroyuki Sato][Patch by Hiroyuki Sato]</p></li>
<li><p>[<a class="reference internal" href="../reference/functions/highlight_html.html"><span class="doc">highlight_html</span></a>] Improved performance.
[groonga-dev,03427] [Reported by Hiroyuki Sato]</p></li>
<li><p>[<a class="reference internal" href="../reference/functions/snippet_html.html"><span class="doc">snippet_html</span></a>] Improved performance.</p></li>
<li><p>[CMake] Stopped to run <code class="docutils literal notranslate"><span class="pre">pkg-config</span></code> twice.
[Patch by Sergei Golubchik]</p></li>
<li><p>Removed needless check for year in time. B.C. is always invalid time
without this change. B.C. is valid time when system (<code class="docutils literal notranslate"><span class="pre">mktime()</span></code>)
supports it with this change.</p></li>
<li><p>[<a class="reference internal" href="../reference/api/grn_ctx.html#c.grn_ctx_is_opened" title="grn_ctx_is_opened"><code class="xref c c-func docutils literal notranslate"><span class="pre">grn_ctx_is_opened()</span></code></a>] Added a new API that checks whether
object with the ID is opened or not.</p></li>
<li><p>[<a class="reference internal" href="../reference/api/grn_obj.html#c.grn_obj_remove" title="grn_obj_remove"><code class="xref c c-func docutils literal notranslate"><span class="pre">grn_obj_remove()</span></code></a>] Reduced the maximum memory usage. If
<a class="reference internal" href="../reference/api/grn_thread.html#c.grn_thread_get_limit" title="grn_thread_get_limit"><code class="xref c c-func docutils literal notranslate"><span class="pre">grn_thread_get_limit()</span></code></a> returns <code class="docutils literal notranslate"><span class="pre">1</span></code>, it closes temporary
opened objects after it finished to use them.</p></li>
<li><p>[doc][<a class="reference internal" href="../reference/commands/table_remove.html"><span class="doc">table_remove</span></a>] Updated with many
descriptions.</p></li>
<li><p>[<a class="reference internal" href="../reference/executables/groonga.html"><span class="doc">groonga executable file</span></a>] Ensured to add the last new
line to <a class="reference internal" href="../reference/commands/dump.html"><span class="doc">dump</span></a> result on stand alone mode.</p></li>
<li><p>[<a class="reference internal" href="../reference/log.html#process-log"><span class="std std-ref">Process log</span></a>] Added Groonga version into <code class="docutils literal notranslate"><span class="pre">grn_init</span></code> log.</p></li>
<li><p>Opened <a class="reference external" href="https://gitter.im/groonga/public">chat room on Gitter</a>.</p></li>
<li><p>[<a class="reference internal" href="../reference/commands/status.html"><span class="doc">status</span></a>] Added <code class="docutils literal notranslate"><span class="pre">start_time</span></code> as alias of
<code class="docutils literal notranslate"><span class="pre">starttime</span></code> for consistency. Other keys use <code class="docutils literal notranslate"><span class="pre">snake_case</span></code> style.
<code class="docutils literal notranslate"><span class="pre">starttime</span></code> is deprecated. Use <code class="docutils literal notranslate"><span class="pre">start_time</span></code> instead.</p></li>
<li><p>Updated bundled Onigmo.</p></li>
<li><p>[doc][<a class="reference internal" href="../reference/scorers/scorer_tf_at_most.html"><span class="doc">scorer_tf_at_most</span></a>] Documented.</p></li>
<li><p>Supported columns for temporary table. It’s only available C API
users for now. <a class="reference internal" href="../reference/commands/select.html"><span class="doc">select</span></a> will use this
feature in the next release.</p></li>
<li><p>[<code class="docutils literal notranslate"><span class="pre">grn_vector_pop_element()</span></code>] Exported.</p></li>
<li><p>[<a class="reference internal" href="../reference/executables/groonga.html"><span class="doc">groonga executable file</span></a>] Added checks whether
acquiring lock is succeeded or not.</p></li>
<li><p>[<a class="reference internal" href="../reference/executables/groonga-suggest-create-dataset.html"><span class="doc">groonga-suggest-create-dataset</span></a>]
Changed to use <code class="docutils literal notranslate"><span class="pre">--normalizer</span></code> instead of <code class="docutils literal notranslate"><span class="pre">KEY_NORMALIZE</span></code> because
<code class="docutils literal notranslate"><span class="pre">KEY_NORMALIZE</span></code> is deprecated.</p></li>
<li><p>[<code class="docutils literal notranslate"><span class="pre">grn_obj_cast()</span></code>] Exported.</p></li>
<li><p>[experimental][<code class="docutils literal notranslate"><span class="pre">grn_ii_cursor</span></code>] Exported.</p></li>
<li><p>[experimental][<code class="docutils literal notranslate"><span class="pre">grn_ii_cursor_open()</span></code>] Exported.</p></li>
<li><p>[experimental][<code class="docutils literal notranslate"><span class="pre">grn_ii_cursor_next()</span></code>] Exported.</p></li>
<li><p>[experimental][<code class="docutils literal notranslate"><span class="pre">grn_ii_cursor_close()</span></code>] Exported.</p></li>
<li><p>[<a class="reference internal" href="../reference/grn_expr/script_syntax.html#script-syntax-match-operator"><span class="std std-ref">Match operator</span></a>] Improved index detection.
Index its lexicon has a tokenizer is preferred.</p></li>
<li><p>[<a class="reference internal" href="../reference/executables/groonga-httpd.html"><span class="doc">groonga-httpd</span></a>] Updated bundled nginx
to 1.9.5 that supports HTTP/2. HTTP/2 module is enabled.</p></li>
</ul>
</div>
<div class="section" id="id11">
<h3>Fixes<a class="headerlink" href="#id11" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>[<a class="reference internal" href="../reference/grn_expr/script_syntax.html"><span class="doc">Script syntax</span></a>] Fixed a bug that <code class="docutils literal notranslate"><span class="pre">&amp;!</span></code>
does nothing when right hand side is <code class="docutils literal notranslate"><span class="pre">true</span></code>.</p></li>
<li><p>Fixed performance regression with libtool 2.4.6.
[GitHub#406][GitHub#407] [Patch by Hiroyuki Sato]</p></li>
<li><p>[<a class="reference internal" href="../reference/grn_expr/script_syntax.html#script-syntax-equal-operator"><span class="std std-ref">Equal operator</span></a>] Fixed a bug that section is
ignored.</p></li>
</ul>
</div>
<div class="section" id="id12">
<h3>Thanks<a class="headerlink" href="#id12" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Hiroyuki Sato</p></li>
<li><p>Sergei Golubchik</p></li>
</ul>
</div>
</div>
<div class="section" id="release-5-0-7-2015-08-31">
<span id="release-5-0-7"></span><h2>Release 5.0.7 - 2015-08-31<a class="headerlink" href="#release-5-0-7-2015-08-31" title="Permalink to this headline">¶</a></h2>
<p>This release includes a bug fix of <a class="reference internal" href="../reference/indexing.html#offline-index-construction"><span class="std std-ref">Offline index construction</span></a>.</p>
<p>If you’re using any multiple column index (index column with
<code class="docutils literal notranslate"><span class="pre">WITH_SECTION</span></code> flag) and <a class="reference internal" href="../reference/indexing.html#offline-index-construction"><span class="std std-ref">Offline index construction</span></a>, we
recommend that you upgrade your Groonga.</p>
<p>This release has an important experimental feature for Windows users.
See “sparse file support” entry in the following improvement list for
details.</p>
<div class="section" id="id13">
<h3>Improvements<a class="headerlink" href="#id13" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p>[experimental][Windows] Added sparse file support. It’s experimental
feature. It’s disabled by default. You can enable it by specifying
<code class="docutils literal notranslate"><span class="pre">GRN_IO_USE_SPARSE=yes</span></code> environment variable.</p>
<p>It reduces database file size on Windows. Please try the feature and
report the result. Groonga developers are interested in the
followings:</p>
<ul class="simple">
<li><p>Disk usage</p></li>
<li><p>Performance (Improved? Degraded? No difference?)</p></li>
<li><p>Memory usage (Especially virtual memory usage)</p></li>
</ul>
</li>
<li><p>[experimental][<a class="reference internal" href="../reference/commands/logical_shard_list.html"><span class="doc">logical_shard_list</span></a>] Added
a command that returns a shard list of the specified logical table.</p></li>
<li><p>[experimental][<a class="reference internal" href="../reference/grn_expr/script_syntax.html#script-syntax-regular-expression-operator"><span class="std std-ref">Regular expression operator</span></a>]
Supported regular expression match against vector column without
index.</p></li>
<li><p>[<a class="reference internal" href="../reference/commands/logical_range_filter.html"><span class="doc">logical_range_filter</span></a>] Supported
<code class="docutils literal notranslate"><span class="pre">--cache</span> <span class="pre">no</span></code> option. It’s same as <a class="reference internal" href="../reference/commands/select.html#select-cache"><span class="std std-ref">cache</span></a> option in
<a class="reference internal" href="../reference/commands/select.html"><span class="doc">select</span></a>.</p></li>
<li><p>[<a class="reference internal" href="../reference/executables/groonga-httpd.html"><span class="doc">groonga-httpd</span></a>] Supported returning
the max number of threads feature of
<a class="reference internal" href="../reference/commands/thread_limit.html"><span class="doc">thread_limit</span></a>. You can’t set the max
number of threads.</p></li>
<li><p>[<a class="reference internal" href="../reference/api/grn_db.html#c.grn_db_unmap" title="grn_db_unmap"><code class="xref c c-func docutils literal notranslate"><span class="pre">grn_db_unmap()</span></code></a>] Added a new API that unmaps all opened
tables and columns. It’s a thread unsafe operation. You can’t touch
the database while <a class="reference internal" href="../reference/api/grn_db.html#c.grn_db_unmap" title="grn_db_unmap"><code class="xref c c-func docutils literal notranslate"><span class="pre">grn_db_unmap()</span></code></a> is running.</p></li>
<li><p>[<a class="reference internal" href="../reference/commands/database_unmap.html"><span class="doc">database_unmap</span></a>] Added a command that
unmaps all opened tables and columns in database.</p></li>
<li><p>[<a class="reference internal" href="../reference/commands/object_exist.html"><span class="doc">object_exist</span></a>] Added a command that
checks whether object with the specified name exists or not in
database.</p></li>
<li><p>[<a class="reference internal" href="../reference/commands/column_copy.html"><span class="doc">column_copy</span></a>] Added a command that copies
all values from source column to destination column.</p>
<p>You can use this command to change column value type, column type,
table type and so on.</p>
</li>
<li><p>Stopped to use non-standard <code class="docutils literal notranslate"><span class="pre">__uint32_t</span></code>
type. [GitHub#375][Reported by Natanael Copa]</p></li>
<li><p>[experimental][Windows] Supported Windows Event log.</p></li>
<li><p>[mruby] Supported error handling on mruby initialization error.</p></li>
<li><p>[experimental][<a class="reference internal" href="../reference/commands/thread_limit.html"><span class="doc">thread_limit</span></a>] Renamed from
<code class="docutils literal notranslate"><span class="pre">thread_count</span></code>.</p></li>
<li><p>Supported logging used indexes in <code class="docutils literal notranslate"><span class="pre">info</span></code> level and <code class="docutils literal notranslate"><span class="pre">debug</span></code>
level. It can be used like <code class="docutils literal notranslate"><span class="pre">EXPLAIN</span></code> in RDBMS. It’s useful to
improve slow query.</p></li>
<li><p>[doc] Replaced deprecated <code class="docutils literal notranslate"><span class="pre">KEY_NORMALIZE</span></code> flags.
[GitHub#378][GitHub#380][GitHub#382] [Patch by Hiroyuki Sato]</p></li>
<li><p>[doc] Removed needless Sphinx configurations.
[GitHub#379] [Patch by Ayumu Osanai]</p></li>
<li><p>[experimental][incompatible][<a class="reference internal" href="../reference/grn_expr/script_syntax.html#script-syntax-regular-expression-operator"><span class="std std-ref">Regular expression operator</span></a>]
Changed <code class="docutils literal notranslate"><span class="pre">.</span></code> match behavior. <code class="docutils literal notranslate"><span class="pre">.</span></code> matches new line. It’s backward
incompatible change.</p></li>
<li><p>[doc][<a class="reference internal" href="../contribution/development/build.html"><span class="doc">How to build Groonga at the repository</span></a>] Added a document about
building Groonga as Groonga developer.
[GitHub#353] [Suggested by Hiro Yoshioka]</p></li>
</ul>
</div>
<div class="section" id="id14">
<h3>Fixes<a class="headerlink" href="#id14" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p>[mruby] Fixed a time overflow bug.</p></li>
<li><p>[<a class="reference internal" href="../reference/executables/groonga.html"><span class="doc">groonga executable file</span></a>] Fixed a crash bug when
PID file can’t be created. [GitHub#368] [Reported by Hiroyuki Sato]</p></li>
<li><p>Fixed a bug that <a class="reference internal" href="../reference/indexing.html#offline-index-construction"><span class="std std-ref">Offline index construction</span></a> may generate
broken index. It may be caused for multiple column index. In other
words, index column with <code class="docutils literal notranslate"><span class="pre">WITH_SECTION</span></code> flag may be broken.</p>
<p>If you’re using <a class="reference internal" href="../reference/indexing.html#online-index-construction"><span class="std std-ref">Online index construction</span></a> for index columns
with <code class="docutils literal notranslate"><span class="pre">WITH_SECTION</span></code> flag, this bug isn’t affected.</p>
<p>You can recover this bug by recreating existing multiple column
indexes.</p>
</li>
<li><p>[<a class="reference internal" href="../reference/functions/query.html"><span class="doc">query</span></a>] Fixed a crash bug when
<a class="reference internal" href="../reference/functions/query.html"><span class="doc">query</span></a> is used in <a class="reference internal" href="../reference/commands/select.html#select-scorer"><span class="std std-ref">scorer</span></a>.</p></li>
<li><p>[<a class="reference internal" href="../reference/commands/select.html#select-filter"><span class="std std-ref">filter</span></a>] Fixed a bug that
<a class="reference internal" href="../reference/grn_expr/script_syntax.html#script-syntax-bitwise-not"><span class="std std-ref">Bitwise NOT operator</span></a> against unsigned int value doesn’t
work for comparing to <code class="docutils literal notranslate"><span class="pre">-NUMBER_LITERAL</span></code>.</p>
<p>For example, the following expression doesn’t work:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">~</span><span class="n">UINT32_COLUMN</span> <span class="o">==</span> <span class="o">-</span><span class="mi">6</span>
</pre></div>
</div>
</li>
<li><p>Fixed a bug that <a class="reference internal" href="../reference/grn_expr/script_syntax.html#script-syntax-regular-expression-operator"><span class="std std-ref">Regular expression operator</span></a>
doesn’t work in multithread.</p></li>
<li><p>Fixed some memory leaks.</p></li>
<li><p>Fixed a build error. [GitHub#381] [Patch by Hiroshi Hatake]</p></li>
</ul>
</div>
<div class="section" id="id15">
<h3>Thanks<a class="headerlink" href="#id15" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Hiroyuki Sato</p></li>
<li><p>Natanael Copa</p></li>
<li><p>Ayumu Osanai</p></li>
<li><p>Hiroshi Hatake</p></li>
<li><p>Hiro Yoshioka</p></li>
</ul>
</div>
</div>
<div class="section" id="release-5-0-6-2015-07-29">
<span id="release-5-0-6"></span><h2>Release 5.0.6 - 2015-07-29<a class="headerlink" href="#release-5-0-6-2015-07-29" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id16">
<h3>Improvements<a class="headerlink" href="#id16" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p>[<a class="reference internal" href="../install/ubuntu.html"><span class="doc">Ubuntu</span></a>] Dropped Ubuntu 14.10 (Utopic Unicorn) support. It had been
End of Life on July 23, 2015.</p></li>
<li><p>Supported offline index construction for reference vector. For example, <code class="docutils literal notranslate"><span class="pre">load</span></code>
data before <code class="docutils literal notranslate"><span class="pre">column_create</span></code> an index:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">table_create</span> <span class="n">Entries</span> <span class="n">TABLE_NO_KEY</span>
<span class="n">column_create</span> <span class="n">Entries</span> <span class="n">numbers</span> <span class="n">COLUMN_VECTOR</span> <span class="n">Int32</span>

<span class="n">load</span> <span class="o">--</span><span class="n">table</span> <span class="n">Entries</span>
<span class="p">[</span>
<span class="p">[</span><span class="s2">&quot;numbers&quot;</span><span class="p">],</span>
<span class="p">[[</span><span class="mi">18</span><span class="p">,</span> <span class="mi">19</span><span class="p">,</span> <span class="mi">20</span><span class="p">]],</span>
<span class="p">[[</span><span class="mi">100</span><span class="p">,</span> <span class="mi">200</span><span class="p">]]</span>
<span class="p">]</span>

<span class="n">table_create</span> <span class="n">Numbers</span> <span class="n">TABLE_PAT_KEY</span> <span class="n">Int32</span>
<span class="n">column_create</span> <span class="n">Numbers</span> <span class="n">entries_numbers</span> <span class="n">COLUMN_INDEX</span> <span class="n">Entries</span> <span class="n">numbers</span>

<span class="n">select</span> <span class="n">Numbers</span> <span class="o">--</span><span class="n">output_columns</span> <span class="n">_key</span>
</pre></div>
</div>
</li>
<li><p>Supported <code class="docutils literal notranslate"><span class="pre">'vector_text_column</span> <span class="pre">&#64;</span> <span class="pre">&quot;element&quot;'</span></code> without index. For example, the
<code class="docutils literal notranslate"><span class="pre">select</span></code> command in the following commands:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">table_create</span> <span class="n">Memos</span> <span class="n">TABLE_NO_KEY</span>
<span class="n">column_create</span> <span class="n">Memos</span> <span class="n">tags</span> <span class="n">COLUMN_VECTOR</span> <span class="n">Text</span>

<span class="n">load</span> <span class="o">--</span><span class="n">table</span> <span class="n">Memos</span>
<span class="p">[</span>
<span class="p">{</span><span class="s2">&quot;tags&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;Groonga&quot;</span><span class="p">,</span> <span class="s2">&quot;Rroonga&quot;</span><span class="p">,</span> <span class="s2">&quot;Mroonga&quot;</span><span class="p">]}</span>
<span class="p">]</span>

<span class="n">select</span> <span class="n">Memos</span> <span class="o">--</span><span class="nb">filter</span> <span class="s1">&#39;tags @ &quot;Rroonga&quot;&#39;</span>
</pre></div>
</div>
</li>
<li><p>Supported <code class="docutils literal notranslate"><span class="pre">'fixed_size_type_vector_column</span> <span class="pre">&#64;</span> <span class="pre">n'</span></code> without index. For example, the
<code class="docutils literal notranslate"><span class="pre">select</span></code> command in the following commands:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">table_create</span> <span class="n">Memos</span> <span class="n">TABLE_NO_KEY</span>
<span class="n">column_create</span> <span class="n">Memos</span> <span class="n">numbers</span> <span class="n">COLUMN_VECTOR</span> <span class="n">Int32</span>

<span class="n">load</span> <span class="o">--</span><span class="n">table</span> <span class="n">Memos</span>
<span class="p">[</span>
<span class="p">{</span><span class="s2">&quot;numbers&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]}</span>
<span class="p">]</span>

<span class="n">select</span> <span class="n">Memos</span> <span class="o">--</span><span class="nb">filter</span> <span class="s1">&#39;numbers @ 2&#39;</span>
</pre></div>
</div>
</li>
<li><p>[<a class="reference internal" href="../install/centos.html"><span class="doc">CentOS</span></a>][<a class="reference internal" href="../server/package.html"><span class="doc">Server packages</span></a>][<a class="reference internal" href="../reference/executables/groonga-httpd.html"><span class="doc">groonga-httpd</span></a>]
Show exit status. [GitHub#357] [Patch by jacob16bit]</p></li>
<li><p>[<a class="reference internal" href="../install/windows.html"><span class="doc">Windows</span></a>][<a class="reference internal" href="../reference/executables/groonga.html"><span class="doc">groonga executable file</span></a>] Supported <code class="docutils literal notranslate"><span class="pre">--pid-path</span></code>.</p></li>
<li><p>[<a class="reference internal" href="../install/windows.html"><span class="doc">Windows</span></a>] Allowed to delete file that is opened by other process.</p></li>
<li><p>Accepted selector only proc. Note that the proc can’t be used as function. It means
that the proc can’t be used with sequential search.</p></li>
<li><p>Supported function call with complex argument. An example complex argument is
<code class="docutils literal notranslate"><span class="pre">Table[&quot;key&quot;].column</span></code>. For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">function</span><span class="p">(</span><span class="n">_key</span><span class="p">,</span> <span class="n">Table</span><span class="p">[</span><span class="s2">&quot;key&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">column</span><span class="p">)</span>
</pre></div>
</div>
</li>
<li><p>[doc][<a class="reference internal" href="../tutorial.html"><span class="doc">Tutorial</span></a>] Added more description about database creation fails if DB_PATH
points to an existing file. [GitHub#354] [Suggested by Hirotaka Takayama]</p></li>
<li><p>[doc][<a class="reference internal" href="../tutorial.html"><span class="doc">Tutorial</span></a>] Described JSON formatting tools.
[GitHub#355] [Suggested by tiwawan]</p></li>
<li><p>[experimental] Added an API to get/set the number of threads. It’s a experimental API.</p></li>
<li><p>[experimental][<code class="docutils literal notranslate"><span class="pre">thread_count</span></code>] Added a command that get/set the number of threads.
It’s a experimental command.</p></li>
<li><p>[experimental][<a class="reference internal" href="../reference/executables/groonga.html"><span class="doc">groonga executable file</span></a>] Supported changing the number
of threads by <code class="docutils literal notranslate"><span class="pre">thread_count</span></code> command. It’s a experimental feature.</p></li>
<li><p>[experimental][<a class="reference internal" href="../install/windows.html"><span class="doc">Windows</span></a>] Added Windows event log support.
It’s a experimental feature.</p></li>
<li><p>[experimental][<a class="reference internal" href="../reference/executables/groonga.html"><span class="doc">groonga executable file</span></a>] Added Windows event log related
option <code class="docutils literal notranslate"><span class="pre">--use-windows-event-log</span></code>. It reports logs as Windows events.
It’s a experimental feature.</p></li>
<li><p>[<a class="reference internal" href="../install/windows.html"><span class="doc">Windows</span></a>] Used Groonga’s default encoding for log message.</p></li>
<li><p>Log used indexes in <code class="docutils literal notranslate"><span class="pre">INFO</span></code> level. The default level <code class="docutils literal notranslate"><span class="pre">NOTICE</span></code>. So the logs aren’t
showed by default.</p></li>
<li><p>[API] Added <code class="xref c c-func docutils literal notranslate"><span class="pre">grn_log_level_to_string()</span></code> and <code class="xref c c-func docutils literal notranslate"><span class="pre">grn_log_level_parse()</span></code>.</p></li>
<li><p>[<a class="reference internal" href="../reference/executables/groonga.html"><span class="doc">groonga executable file</span></a>] Accepted log level name (e.g. <code class="docutils literal notranslate"><span class="pre">info</span></code>,
<code class="docutils literal notranslate"><span class="pre">debug</span></code> and so on) for <code class="docutils literal notranslate"><span class="pre">--log-level</span></code> value.</p></li>
<li><p>[<a class="reference internal" href="../reference/commands/log_level.html"><span class="doc">log_level</span></a>][<a class="reference internal" href="../reference/commands/log_put.html"><span class="doc">log_put</span></a>]
Accepted log level name for <code class="docutils literal notranslate"><span class="pre">--level</span></code> argument.</p></li>
<li><p>[plugin] Added <code class="xref c c-func docutils literal notranslate"><span class="pre">grn_command_input_get_arguments()</span></code>.</p></li>
<li><p>Updated sharding plugins.</p>
<ul class="simple">
<li><p>[<a class="reference internal" href="../reference/commands/logical_select.html"><span class="doc">logical_select</span></a>] Fixed output format.
It has become <a class="reference internal" href="../reference/commands/select.html"><span class="doc">select</span></a> compatible format.</p></li>
<li><p>[<a class="reference internal" href="../reference/commands/logical_select.html"><span class="doc">logical_select</span></a>] Supported the following parameters.</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">--output_columns</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">--offset</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">--limit</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">--drilldown</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">--drilldown_sortby</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">--drilldown_offset</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">--drilldown_limit</span></code></p></li>
</ul>
</li>
<li><p>[<a class="reference internal" href="../reference/commands/logical_select.html"><span class="doc">logical_select</span></a>] Used the same default output_columns
(<code class="docutils literal notranslate"><span class="pre">&quot;_id,</span> <span class="pre">_key,</span> <span class="pre">*&quot;</span></code>) as <a class="reference internal" href="../reference/commands/select.html"><span class="doc">select</span></a>.</p></li>
<li><p>[<a class="reference internal" href="../reference/commands/logical_select.html"><span class="doc">logical_select</span></a>] Supported
<a class="reference internal" href="../reference/commands/logical_select.html#logical-select-drilldowns-label-calc-types"><span class="std std-ref">drilldowns[${LABEL}].calc_types</span></a> and
<a class="reference internal" href="../reference/commands/logical_select.html#logical-select-drilldowns-label-calc-target"><span class="std std-ref">drilldowns[${LABEL}].calc_target</span></a> for labeled drilldown.</p></li>
<li><p>[<a class="reference internal" href="../reference/commands/logical_select.html"><span class="doc">logical_select</span></a>] Supported cache.</p></li>
<li><p>[<a class="reference internal" href="../reference/commands/logical_count.html"><span class="doc">logical_count</span></a>] Supported logging whether range index is
used or not.</p></li>
<li><p>[<a class="reference internal" href="../reference/commands/logical_count.html"><span class="doc">logical_count</span></a>] Show target table name in debug log.</p></li>
<li><p>[<a class="reference internal" href="../reference/commands/logical_count.html"><span class="doc">logical_count</span></a>] Supported cache.</p></li>
<li><p>[<a class="reference internal" href="../reference/commands/logical_range_filter.html"><span class="doc">logical_range_filter</span></a>] Supported
<code class="docutils literal notranslate"><span class="pre">'fixed_size_type_vector_column</span> <span class="pre">&#64;</span> <span class="pre">element'</span></code>.</p></li>
<li><p>[<a class="reference internal" href="../reference/commands/logical_range_filter.html"><span class="doc">logical_range_filter</span></a>] Added <code class="docutils literal notranslate"><span class="pre">use_range_index</span></code> parameter.
It’s a parameter for test. It should not be used for production.</p></li>
<li><p>[<a class="reference internal" href="../reference/commands/logical_range_filter.html"><span class="doc">logical_range_filter</span></a>] Log which mode (range-index or
select mode) is used.</p></li>
<li><p>[<a class="reference internal" href="../reference/commands/logical_range_filter.html"><span class="doc">logical_range_filter</span></a>] Supported cache.</p></li>
<li><p>[<a class="reference internal" href="../reference/commands/logical_range_filter.html"><span class="doc">logical_range_filter</span></a>] Supported nested reference vector
accessor.</p></li>
<li><p>[<a class="reference internal" href="../reference/commands/logical_range_filter.html"><span class="doc">logical_range_filter</span></a>] Used range_index value set by
<a class="reference internal" href="../reference/commands/logical_parameters.html"><span class="doc">logical_parameters</span></a>.</p></li>
<li><p>[<a class="reference internal" href="../reference/commands/logical_parameters.html"><span class="doc">logical_parameters</span></a>] Added.</p></li>
</ul>
</li>
<li><p>Added mruby APIs.</p>
<ul class="simple">
<li><p>[mrb] Added <code class="docutils literal notranslate"><span class="pre">Accessor#name</span></code>.</p></li>
<li><p>[mrb] Added <code class="docutils literal notranslate"><span class="pre">Column#[]</span></code>.</p></li>
<li><p>[mrb] Added <code class="docutils literal notranslate"><span class="pre">Column#scalar?</span></code>, <code class="docutils literal notranslate"><span class="pre">Column#vector?</span></code> and <code class="docutils literal notranslate"><span class="pre">Column#index?</span></code>.</p></li>
<li><p>[mrb] Added <code class="docutils literal notranslate"><span class="pre">Context#command_version</span></code> and <code class="docutils literal notranslate"><span class="pre">Context#command_version=</span></code> (accessors).</p></li>
<li><p>[mrb] Added <code class="docutils literal notranslate"><span class="pre">Context#with_command_version</span></code>.</p></li>
<li><p>[mrb] Added <code class="docutils literal notranslate"><span class="pre">Database#each_name</span></code>.</p></li>
<li><p>[mrb] Added <code class="docutils literal notranslate"><span class="pre">Groonga::Cache.current</span></code>.</p></li>
<li><p>[mrb] Added <code class="docutils literal notranslate"><span class="pre">Record</span></code>.</p></li>
<li><p>[mrb] Added <code class="docutils literal notranslate"><span class="pre">Table#each</span></code>.</p></li>
<li><p>[mrb] Added <code class="docutils literal notranslate"><span class="pre">TableCursor#key</span></code>.</p></li>
<li><p>[mrb] Binded <code class="xref c c-func docutils literal notranslate"><span class="pre">grn_command_input_get_arguments()</span></code> to <code class="docutils literal notranslate"><span class="pre">CommandInput#arguments</span></code>.</p></li>
<li><p>[mrb] Binded <a class="reference internal" href="../reference/api/grn_table.html#c.grn_table_group" title="grn_table_group"><code class="xref c c-func docutils literal notranslate"><span class="pre">grn_table_group()</span></code></a> to <code class="docutils literal notranslate"><span class="pre">Table#group</span></code>.</p></li>
<li><p>[mrb] Binded <a class="reference internal" href="../reference/api/grn_table.html#c.grn_table_group_flags" title="grn_table_group_flags"><code class="xref c c-func docutils literal notranslate"><span class="pre">grn_table_group_flags()</span></code></a> to <code class="docutils literal notranslate"><span class="pre">TableGroupFlags</span></code>.</p></li>
<li><p>[mrb] Binded <code class="docutils literal notranslate"><span class="pre">GRN_COMMAND_VERSION_DEFAULT</span></code>.</p></li>
<li><p>[mrb] Binded <code class="docutils literal notranslate"><span class="pre">grn_cache</span></code>.</p></li>
<li><p>[mrb][estimate_size] Supported <code class="docutils literal notranslate"><span class="pre">(...</span> <span class="pre">||</span> <span class="pre">...)</span> <span class="pre">&amp;&amp;</span> <span class="pre">(...</span> <span class="pre">||</span> <span class="pre">...)</span></code> as expression case.</p></li>
<li><p>[mrb] Supported query log.</p></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="id17">
<h3>Fixes<a class="headerlink" href="#id17" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p>Fixed a memory leak when an error is occurred in <a class="reference internal" href="../reference/api/grn_expr.html#c.grn_expr_exec" title="grn_expr_exec"><code class="xref c c-func docutils literal notranslate"><span class="pre">grn_expr_exec()</span></code></a>.
For example, unsupported operator (e.g. <code class="docutils literal notranslate"><span class="pre">GRN_OP_TERM_EXTRACT</span></code>) is used
(<code class="docutils literal notranslate"><span class="pre">not</span> <span class="pre">implemented</span> <span class="pre">operator</span> <span class="pre">assigned</span></code> is occurred for the case).</p></li>
<li><p>[bindings/php] Added a missing check for a memory allocation failure.
[Reported by Bill Parker]</p></li>
<li><p>[<a class="reference internal" href="../install/centos.html"><span class="doc">CentOS</span></a>][<a class="reference internal" href="../server/package.html"><span class="doc">Server packages</span></a>][logrotate] Fixed syntax error in script.</p></li>
<li><p>[<a class="reference internal" href="../install/centos.html"><span class="doc">CentOS</span></a>][<a class="reference internal" href="../server/package.html"><span class="doc">Server packages</span></a>][logrotate] Fixed wrong daemon running check.</p></li>
<li><p>[<a class="reference internal" href="../install/centos.html"><span class="doc">CentOS</span></a>][<a class="reference internal" href="../server/package.html"><span class="doc">Server packages</span></a>][logrotate] Stop to set owner/group to log files.
Because it’s not consistent. groonga-httpd creates log files with root
owner/group. But logrotated log files are created with groonga
owner/group. [GitHub#358] [Reported by jacob16bit]</p></li>
<li><p>[<a class="reference internal" href="../reference/executables/groonga.html"><span class="doc">groonga executable file</span></a>] Fixed reported the maximum number of threads.</p></li>
<li><p>[<a class="reference internal" href="../reference/executables/groonga-httpd.html"><span class="doc">groonga-httpd</span></a>] Remove a needless space in log message:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">|</span><span class="n">n</span><span class="o">|</span>  <span class="n">grn_fin</span> <span class="p">(</span><span class="mi">0</span><span class="p">)</span> <span class="o">-&gt;</span>
<span class="o">|</span><span class="n">n</span><span class="o">|</span> <span class="n">grn_fin</span> <span class="p">(</span><span class="mi">0</span><span class="p">)</span>
    <span class="o">^</span>
</pre></div>
</div>
</li>
<li><p>Fixed a bug that estimating size by regexp query with anchor (e.g. <code class="docutils literal notranslate"><span class="pre">\\\\A</span></code> in
<code class="docutils literal notranslate"><span class="pre">--filter</span> <span class="pre">'comment</span> <span class="pre">&#64;~</span> <span class="pre">&quot;\\\\Abc&quot;'</span></code>) doesn’t work. The feature is used in
<a class="reference internal" href="../reference/commands/logical_range_filter.html"><span class="doc">logical_range_filter</span></a>.</p></li>
<li><p>[<a class="reference internal" href="../reference/command/request_id.html"><span class="doc">Request ID</span></a>] Fixed a memory leak when <code class="docutils literal notranslate"><span class="pre">request_id</span></code> byte size &gt;= 24.</p></li>
<li><p>[<a class="reference internal" href="../reference/commands/lock_clear.html"><span class="doc">lock_clear</span></a>] Fixed a typo in command name in Syntax section.
[GitHub#363] [Reported by Christian Kakesa]</p></li>
<li><p>[sharding] Fixed wrong min include detection for month range type.</p></li>
</ul>
</div>
<div class="section" id="id18">
<h3>Thanks<a class="headerlink" href="#id18" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Bill Parker</p></li>
<li><p>jacob16bit</p></li>
<li><p>Hirotaka Takayama</p></li>
<li><p>tiwawan</p></li>
<li><p>Christian Kakesa</p></li>
</ul>
</div>
</div>
<div class="section" id="release-5-0-5-2015-06-29">
<span id="release-5-0-5"></span><h2>Release 5.0.5 - 2015-06-29<a class="headerlink" href="#release-5-0-5-2015-06-29" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id19">
<h3>Improvements<a class="headerlink" href="#id19" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p>Show correct error information such as NoSuchFileOrDirectory when opening a database.</p></li>
<li><p>Don’t set the default logger path for library use.</p>
<ul class="simple">
<li><p>It’s backward incompatible change. But it will not effect to many users.</p></li>
<li><p>Server use (groonga command, Mroonga, PGroonga and so on) users can get
log by default. In server use, developers set up log in their software.</p></li>
<li><p>Most library use (Rroonga, groonga-gobject and so on) users couldn’t get
log by default with earlier versions. The default log path is system
path such as /var/log/groonga/groonga.log. It’s not writable for normal
users.</p></li>
</ul>
</li>
<li><p>[windows] Show error information when memory isn’t enough on failing <code class="docutils literal notranslate"><span class="pre">CreateFileMapping()</span></code>.</p></li>
<li><p>[<a class="reference internal" href="../reference/commands/tokenize.html"><span class="doc">tokenize</span></a>] Updated example to show new “force_prefix” value.
This value is added since 5.0.4.</p></li>
<li><p>[windows] Show error information when disk has any problem (disk full and so on) on failing <code class="docutils literal notranslate"><span class="pre">FlushViewOfFile()</span></code>.</p></li>
<li><p>[API] Added <code class="xref c c-func docutils literal notranslate"><span class="pre">grn_obj_flush()</span></code>.</p></li>
<li><p>[API] Added <code class="xref c c-func docutils literal notranslate"><span class="pre">grn_obj_flush_recursive()</span></code>.</p></li>
<li><p>[<a class="reference internal" href="../reference/commands/io_flush.html"><span class="doc">io_flush</span></a>] Added. It flushes memory mapped data to disk.
Usually memory data automatically flush by an OS, but you can explicitly flush with
this command.</p></li>
<li><p>[mruby] Binded <code class="docutils literal notranslate"><span class="pre">grn_obj_remove()</span></code> to Object#remove.</p></li>
<li><p>[mruby] Binded <code class="docutils literal notranslate"><span class="pre">grn_table_delete()</span></code> and <code class="docutils literal notranslate"><span class="pre">grn_table_delete_by_id()</span></code> to Table#delete.</p></li>
<li><p>[<a class="reference internal" href="../reference/commands/logical_table_remove.html"><span class="doc">logical_table_remove</span></a>] Added.</p></li>
<li><p>[<a class="reference internal" href="../reference/commands/logical_select.html"><span class="doc">logical_select</span></a>] Added. <code class="docutils literal notranslate"><span class="pre">--filter</span></code> is only supported for now.</p></li>
<li><p>[cmake] Supported embedded MeCab tokenizer.</p></li>
<li><p>[<a class="reference internal" href="../reference/commands/logical_count.html"><span class="doc">logical_count</span></a>] Supported month and day mixed shards.
In the same month, month shard must have earlier records rather than day
shards in the same month. For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">XXX_201506</span>   <span class="o">&lt;-</span> <span class="n">includes</span> <span class="n">only</span> <span class="mi">2015</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">01</span> <span class="ow">and</span> <span class="mi">2015</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">02</span> <span class="n">records</span>
<span class="n">XXX_20150603</span> <span class="o">&lt;-</span> <span class="n">includes</span> <span class="n">only</span> <span class="mi">2015</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">03</span> <span class="n">records</span>
<span class="n">XXX_20150604</span> <span class="o">&lt;-</span> <span class="n">includes</span> <span class="n">only</span> <span class="mi">2015</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">04</span> <span class="n">records</span>
</pre></div>
</div>
</li>
</ul>
</div>
<div class="section" id="id20">
<h3>Fixes<a class="headerlink" href="#id20" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Fixed wrong macro to include netinet/in.h.
[GitHub#348] [Reported by OBATA Akio]</p></li>
<li><p>[rpm][<a class="reference internal" href="../reference/executables/groonga-httpd.html"><span class="doc">groonga-httpd</span></a>] Fixed failing restart.
[GitHub#351] [Patch by jacob16bit]</p></li>
</ul>
</div>
<div class="section" id="id21">
<h3>Thanks<a class="headerlink" href="#id21" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>OBATA Akio</p></li>
<li><p>jacob16bit</p></li>
</ul>
</div>
</div>
<div class="section" id="release-5-0-4-2015-05-29">
<span id="release-5-0-4"></span><h2>Release 5.0.4 - 2015-05-29<a class="headerlink" href="#release-5-0-4-2015-05-29" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id22">
<h3>Improvements<a class="headerlink" href="#id22" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>[mruby] Changed to use <code class="docutils literal notranslate"><span class="pre">inspect</span></code> to show meaningful error message for error value.</p></li>
<li><p>[mruby] Supported <code class="docutils literal notranslate"><span class="pre">Groonga::Bulk#inspect</span></code> to inspect bulk content.</p></li>
<li><p>[mruby] Supported <code class="docutils literal notranslate"><span class="pre">Bulk#value</span></code> to extract the value of record from bulk content.</p></li>
<li><p>[mruby] Supported estimating size for <code class="docutils literal notranslate"><span class="pre">reference_column</span> <span class="pre">==</span> <span class="pre">record_id</span></code> in
<a class="reference internal" href="../reference/commands/logical_range_filter.html"><span class="doc">logical_range_filter</span></a>. In above case, it can be searched
more effectively.</p></li>
<li><p>[<a class="reference internal" href="../reference/functions/sub_filter.html"><span class="doc">sub_filter</span></a>] Supported index column as <code class="docutils literal notranslate"><span class="pre">scope</span></code> parameter.</p></li>
<li><p>[<a class="reference internal" href="../reference/grn_expr/script_syntax.html"><span class="doc">Script syntax</span></a>] Described clearly about numerical
value. [GitHub groonga/groonga.org#16] [Suggested by Hiroyuki Sato]</p></li>
<li><p>[<a class="reference internal" href="../reference/commands/select.html"><span class="doc">select</span></a>] Supported accessing other table’s record in filter.
You can use <code class="docutils literal notranslate"><span class="pre">--filter</span> <span class="pre">'OTHER_TABLE[KEY].COLUMN'</span></code> for example.</p></li>
<li><p>[<a class="reference internal" href="../reference/commands/select.html"><span class="doc">select</span></a>] Supported operator in table key.
You can use <code class="docutils literal notranslate"><span class="pre">--filter</span> <span class="pre">'OTHER_TABLE[&quot;SOME</span> <span class="pre">STRING&quot;</span> <span class="pre">+</span> <span class="pre">&quot;ANOTHER</span> <span class="pre">STRING&quot;].COLUMN'&quot;</span></code> for example.</p></li>
<li><p>[example] Used Ruby 2.0 or later API in script for converting dictionary data.</p></li>
<li><p>Changed to show error message about invalid type of keys about table.</p></li>
<li><p>[doc] Fixed link from sourceforge.jp to osdn.me or osdn.jp about mailing list preference page.
SourceForge.jp is marked as obsoleted because of branding issue since May 11, 2015.</p></li>
<li><p>[<a class="reference internal" href="../reference/commands/tokenize.html"><span class="doc">tokenize</span></a>] Added <code class="docutils literal notranslate"><span class="pre">force_prefix</span></code> value to each token information. [Patch by Naoya Murakami]</p></li>
<li><p>Supported to search by shorter words such as 2 or less characters for <a class="reference internal" href="../reference/tokenizers/token_trigram.html#token-trigram"><span class="std std-ref">TokenTrigram</span></a>.
[Patch by Naoya Murakami]</p></li>
<li><p>[deb] Added service file for Systemd into groonga-httpd and groonga-server-gqtp packages.</p></li>
<li><p>[<a class="reference internal" href="../reference/commands/select.html"><span class="doc">select</span></a>] Ignored <code class="docutils literal notranslate"><span class="pre">--query</span></code> when its
value consists of only space characters. Space characters include
full-width space (<code class="docutils literal notranslate"><span class="pre">U+3000</span> <span class="pre">IDEOGRAPHIC</span> <span class="pre">SPACE</span></code> in
Unicode). [Suggested by TomyGX]</p></li>
</ul>
</div>
<div class="section" id="id23">
<h3>Fixes<a class="headerlink" href="#id23" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Fixed a crash bug when empty key is specified for <code class="docutils literal notranslate"><span class="pre">drilldown[label].keys</span></code>.</p></li>
<li><p>Fixed a bug that the return value of <code class="docutils literal notranslate"><span class="pre">grn_parse_query_flags</span></code> is not properly checked.
[GitHub#336] [Reported by Hiroaki Nakamura]</p></li>
<li><p>Fixed a build error on some BSD systems. They doesn’t have <code class="docutils literal notranslate"><span class="pre">-i</span></code> option for <code class="docutils literal notranslate"><span class="pre">sed</span></code>.</p></li>
<li><p>Fixed a build error on Solaris. It is changed to initialize by <code class="docutils literal notranslate"><span class="pre">sizeof(msghdr)</span></code> in <code class="docutils literal notranslate"><span class="pre">memset()</span></code> because
<code class="docutils literal notranslate"><span class="pre">msg_control</span></code>, <code class="docutils literal notranslate"><span class="pre">msg_controllen</span></code> and <code class="docutils literal notranslate"><span class="pre">msg_flags</span></code> doesn’t exist on Solaris by default.</p></li>
<li><p>[<a class="reference internal" href="../reference/tokenizers.html"><span class="doc">Tokenizers</span></a>] Fixed a typo. [GitHub#338] [Reported by Hiroyuki Sato]</p></li>
<li><p>[<a class="reference internal" href="../reference/output.html"><span class="doc">Output</span></a>] Fixed markup. [GitHub groonga/groonga.org#17]
[Reported by Hiroyuki Sato]</p></li>
<li><p>Reduced getenv() in each <code class="docutils literal notranslate"><span class="pre">grn_ii_cursor_set_min()</span></code>. This fixes performance
regression on Windows.</p></li>
<li><p>Fixed a build error on OpenBSD. [groonga-dev,03255] [Reported by fbnteqr]</p></li>
<li><p>[<a class="reference internal" href="../reference/executables/groonga-httpd.html"><span class="doc">groonga-httpd</span></a>] Fixed a bug that same message is
logged.</p></li>
<li><p>Fixed a crash bug which is caused by double free memory.</p></li>
<li><p>Fixed a memory leak. It’s occurred when <code class="docutils literal notranslate"><span class="pre">--match_columns</span></code> and <code class="docutils literal notranslate"><span class="pre">--query</span></code> are
used for non indexed text field and text fields have a value that isn’t bulk
embeddable. Normally, 32byte over size text isn’t bulk embeddable, so this bug
doesn’t affect to the case if only small text less than 32byte are stored.</p></li>
<li><p>[<a class="reference internal" href="../reference/tokenizers.html"><span class="doc">Tokenizers</span></a>] [TokenRegexp] Fixed a bug that it can’t be searched
correctly when query contains characters which are treated as blank character.
For example, the newline - “\n” is typical one.</p></li>
</ul>
</div>
<div class="section" id="id24">
<h3>Thanks<a class="headerlink" href="#id24" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Hiroaki Nakamura</p></li>
<li><p>Hiroyuki Sato</p></li>
<li><p>Naoya Murakami</p></li>
<li><p>fbnteqr</p></li>
<li><p>TomyGX</p></li>
</ul>
</div>
</div>
<div class="section" id="release-5-0-3-2015-04-29">
<span id="release-5-0-3"></span><h2>Release 5.0.3 - 2015-04-29<a class="headerlink" href="#release-5-0-3-2015-04-29" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id25">
<h3>Improvements<a class="headerlink" href="#id25" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>[<a class="reference internal" href="../reference/tokenizers.html"><span class="doc">Tokenizers</span></a>][<a class="reference internal" href="../reference/regular_expression.html"><span class="doc">Regular expression</span></a>]
Skip the last one character token.</p></li>
<li><p>[mruby] Supported regexp pattern for estimating size.</p></li>
<li><p>[mruby] Supported size estimation for accessor.</p></li>
<li><p>[<a class="reference internal" href="../reference/commands/logical_range_filter.html"><span class="doc">logical_range_filter</span></a>] Removed <code class="docutils literal notranslate"><span class="pre">GRN_LOGICAL_RANGE_FILTER_ENABLED</span></code>
environment variable which is introduced since Groonga 5.0.2.
Use <code class="docutils literal notranslate"><span class="pre">GRN_LOGICAL_RANGE_FILTER_THRESHOLD=0</span></code> to disable range index search
feature.</p></li>
<li><p>[<a class="reference internal" href="../reference/commands/logical_range_filter.html"><span class="doc">logical_range_filter</span></a>] Supported negative limit and offset.</p></li>
<li><p>[<a class="reference internal" href="../install/windows.html"><span class="doc">Windows</span></a>] Used <a class="reference external" href="https://github.com/groonga/groonga-admin">Groonga Admin</a> in package.</p></li>
<li><p>[<a class="reference internal" href="../reference/commands/logical_range_filter.html"><span class="doc">logical_range_filter</span></a>] Changed threshold meaning:</p>
<ul>
<li><p>threshold &lt;= 0.0: always use range index</p></li>
<li><p>threshold &gt;= 1.0: never use range index</p></li>
</ul>
</li>
<li><p>[<a class="reference internal" href="../reference/commands/dump.html"><span class="doc">dump</span></a>] Supported plugin.</p></li>
<li><p>[<a class="reference internal" href="../reference/commands/dump.html"><span class="doc">dump</span></a>] Added the following options:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">--dump_plugins</span> <span class="pre">[yes(default)/no]</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">--dump_schema</span> <span class="pre">[yes(default)/no]</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">--dump_records</span> <span class="pre">[yes(default)/no]</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">--dump_indexes</span> <span class="pre">[yes(default)/no]</span></code></p></li>
</ul>
</li>
<li><p>[API] Added <code class="xref c c-func docutils literal notranslate"><span class="pre">grn_plugin_get_ruby_suffix()</span></code>.</p></li>
<li><p>[<a class="reference internal" href="../reference/commands/dump.html"><span class="doc">dump</span></a>] Fixed order to put index columns after reference columns
because index column may refer reference columns.</p></li>
<li><p>[<a class="reference internal" href="../reference/commands/dump.html"><span class="doc">dump</span></a>] Don’t dump records of lexicon.</p></li>
<li><p>[<a class="reference internal" href="../reference/commands/dump.html"><span class="doc">dump</span></a>] Show <code class="docutils literal notranslate"><span class="pre">_id</span></code> for <code class="docutils literal notranslate"><span class="pre">TABLE_NO_KEY</span></code> again.</p></li>
<li><p>[<a class="reference internal" href="../reference/commands/dump.html"><span class="doc">dump</span></a>] Used offline index construnction.</p></li>
<li><p>Increased max hash key size from 4KiB (4096Byte) to 64KiB - 1 (65535Byte).</p></li>
<li><p>Increased max cache key size from 4KiB (4096Byte) to 64KiB - 1 (65535Byte).</p></li>
<li><p>Improved performance for nested index search.</p></li>
<li><p>Used index for nonexistent reference column value.</p></li>
<li><p>[experimental] Added plugin functions/vector. It includes <a class="reference internal" href="../reference/functions/vector_size.html"><span class="doc">vector_size</span></a> function.</p></li>
<li><p>[<a class="reference internal" href="../install/windows.html"><span class="doc">Windows</span></a>] Updated Visual Studio version
[GitHub groonga/meetup#4] [Reported by Hiroyuki Mizuhara]</p></li>
<li><p>[<a class="reference internal" href="../reference/commands/cache_limit.html"><span class="doc">cache_limit</span></a>] Expired old caches when the max N caches is decreased.
[Suggested by Gurunavi, Inc.]</p></li>
<li><p>Show more information such as errno for errors.</p></li>
<li><p>[windows] Used secure functions on Windows.</p></li>
<li><p>Added the following APIs to change log rotate threshold in file size.</p>
<ul>
<li><p><code class="xref c c-func docutils literal notranslate"><span class="pre">grn_default_logger_set_rotate_threshold_size()</span></code></p></li>
<li><p><code class="xref c c-func docutils literal notranslate"><span class="pre">grn_default_logger_get_rotate_threshold_size()</span></code></p></li>
<li><p><code class="xref c c-func docutils literal notranslate"><span class="pre">grn_default_query_logger_set_rotate_threshold_size()</span></code></p></li>
<li><p><code class="xref c c-func docutils literal notranslate"><span class="pre">grn_default_query_logger_get_rotate_threshold_size()</span></code></p></li>
</ul>
</li>
<li><p>[experimental] Supported log rotation. The feature is disabled by default.
You can enable log rotation by the following options:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">--log-rotate-threshold-size</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">--query-log-rotate-threshold-size</span></code></p></li>
</ul>
</li>
<li><p>[<a class="reference internal" href="../server/gqtp.html"><span class="doc">GQTP</span></a>] Documented about GQTP server.</p></li>
<li><p>[<a class="reference internal" href="../reference/executables/groonga.html"><span class="doc">groonga executable file</span></a>] Documented groonga executable file partially.</p></li>
<li><p>Supported Ubuntu 15.04 (Vivid Vervet).</p></li>
<li><p>Supported Debian 8.0 (Jessie).</p></li>
<li><p>[<a class="reference internal" href="../reference/executables/groonga-httpd.html"><span class="doc">groonga-httpd</span></a>] Updated bundled nginx version to the latest mainline (1.8.0).</p></li>
</ul>
</div>
<div class="section" id="id26">
<h3>Fixes<a class="headerlink" href="#id26" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>[windows] Fixed a bug that <a class="reference internal" href="../reference/indexing.html#offline-index-construction"><span class="std std-ref">Offline index construction</span></a> is
failed for large data (at least 1GB or larger) with Groonga built by
Microsoft Visual C++. [Reported by Hideki ARAI]</p></li>
<li><p>[mruby] Made <code class="docutils literal notranslate"><span class="pre">\\</span></code> index searchable in regular expression.</p></li>
<li><p>Fixed a bug that <code class="docutils literal notranslate"><span class="pre">GRN_II_CURSOR_SET_MIN_ENABLE=yes</span></code> doesn’t return some matched records.</p></li>
<li><p>[sharding] Fixed a bug that partial range is handled as all range.</p></li>
<li><p>[<a class="reference internal" href="../reference/commands/logical_range_filter.html"><span class="doc">logical_range_filter</span></a>] Fixed a bug that <code class="docutils literal notranslate"><span class="pre">:order</span> <span class="pre">=&gt;</span> <span class="pre">&quot;descending&quot;</span></code> doesn’t work.</p></li>
<li><p>[<a class="reference internal" href="../reference/commands/logical_count.html"><span class="doc">logical_count</span></a>] Re-supported counting with range index.</p></li>
<li><p>Fixed a bug causing malfunction of <code class="xref c c-func docutils literal notranslate"><span class="pre">grn_pat_del()</span></code>
and added a test for invalid patricia trie node add case.
[groonga-dev,03177] [Reported by yuya sako]</p></li>
</ul>
</div>
<div class="section" id="id27">
<h3>Thanks<a class="headerlink" href="#id27" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Hideki ARAI</p></li>
<li><p>Hiroyuki Mizuhara</p></li>
<li><p>Gurunavi, Inc.</p></li>
<li><p>yuya sako</p></li>
</ul>
</div>
</div>
<div class="section" id="release-5-0-2-2015-03-31">
<span id="release-5-0-2"></span><h2>Release 5.0.2 - 2015-03-31<a class="headerlink" href="#release-5-0-2-2015-03-31" title="Permalink to this headline">¶</a></h2>
<p>It’s a bug fix release of 5.0.1.</p>
<div class="section" id="id28">
<h3>Improvements<a class="headerlink" href="#id28" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Supported MessagePack 1.0.1. [Reported by Hiroshi Hatake]</p></li>
<li><p>[logical_range_filter] Disabled range index by default. It’s enabled
when you set the enviromnent variable <code class="docutils literal notranslate"><span class="pre">GRN_LOGICAL_RANGE_FILTER_ENABLED</span></code>
to <code class="docutils literal notranslate"><span class="pre">yes</span></code>.</p></li>
</ul>
</div>
<div class="section" id="id29">
<h3>Fixes<a class="headerlink" href="#id29" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Fixed a regression bug that JSONP doesn’t work. It was introduced
in Groonga 4.1.1.</p></li>
<li><p>[windows] Fixed a bug that crash on x86 for Groonga 5.0.1.
[groonga-dev,03131] [Reported by Atsushi Shinoda]</p></li>
<li><p>Fixed a crash bug that libedit is not properly initialized. The
problem is fixed in the environment such as CentOS 7.</p></li>
</ul>
</div>
<div class="section" id="id30">
<h3>Thanks<a class="headerlink" href="#id30" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Atsushi Shinoda</p></li>
<li><p>Hiroshi Hatake</p></li>
</ul>
</div>
</div>
<div class="section" id="release-5-0-1-2015-03-29">
<span id="release-5-0-1"></span><h2>Release 5.0.1 - 2015-03-29<a class="headerlink" href="#release-5-0-1-2015-03-29" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id31">
<h3>Improvements<a class="headerlink" href="#id31" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p>[<a class="reference internal" href="../reference/commands/logical_range_filter.html"><span class="doc">logical_range_filter</span></a>] Supported filter
and sort.</p></li>
<li><p>Supported range search by multiple column index.</p></li>
<li><p>Added API <a class="reference internal" href="../reference/api/overview.html"><span class="doc">Overview</span></a> document for users who want
to use Groonga as library.</p></li>
<li><p>[incompatible] Changed internal type of <code class="docutils literal notranslate"><span class="pre">_score</span></code> to floating point
number from 32bit integer number. This is incompatible change for DB
API users. This <em>isn’t</em> incompatible change for query API users. It
means that users who just use <a class="reference internal" href="../reference/commands/select.html"><span class="doc">select</span></a>
aren’t affected. Use the following code that works with both older
and newer Groonga:</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">grn_obj</span> <span class="o">*</span><span class="n">score</span><span class="p">;</span>
<span class="kt">double</span> <span class="n">score_value</span><span class="p">;</span>

<span class="k">if</span> <span class="p">(</span><span class="n">score</span><span class="o">-&gt;</span><span class="n">header</span><span class="p">.</span><span class="n">domain</span> <span class="o">==</span> <span class="n">GRN_DB_FLOAT</span><span class="p">)</span> <span class="p">{</span>
  <span class="n">score_value</span> <span class="o">=</span> <span class="n">GRN_FLOAT_VALUE</span><span class="p">(</span><span class="n">score</span><span class="p">);</span>
<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
  <span class="n">score_value</span> <span class="o">=</span> <span class="p">(</span><span class="kt">double</span><span class="p">)</span><span class="n">GRN_INT32_VALUE_FLOAT_VALUE</span><span class="p">(</span><span class="n">score</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
</li>
<li><p>[<a class="reference internal" href="../reference/commands/select.html"><span class="doc">select</span></a>] Added more strict check for
invalid drilldown parameter.</p></li>
<li><p>Added <a class="reference internal" href="../reference/api/grn_ctx.html#c.grn_ctx_get_all_tables" title="grn_ctx_get_all_tables"><code class="xref c c-func docutils literal notranslate"><span class="pre">grn_ctx_get_all_tables()</span></code></a>. [Suggested by Masatoshi
Teruya]</p></li>
<li><p>Supported to customize score function. See <a class="reference internal" href="../reference/scorer.html"><span class="doc">Scorer</span></a>
for details.</p></li>
<li><p>[incompatible] Custom score function feature introduced API and ABI
incompatibilities in DB API layer. If you’re using
<a class="reference internal" href="../reference/api/grn_search.html#c.grn_search_optarg" title="grn_search_optarg"><code class="xref c c-type docutils literal notranslate"><span class="pre">grn_search_optarg</span></code></a>, please check that your code initializes
your <a class="reference internal" href="../reference/api/grn_search.html#c.grn_search_optarg" title="grn_search_optarg"><code class="xref c c-type docutils literal notranslate"><span class="pre">grn_search_optarg</span></code></a> by <code class="docutils literal notranslate"><span class="pre">0</span></code> like the following:</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">grn_search_optarg</span> <span class="n">options</span><span class="p">;</span>
<span class="n">memset</span><span class="p">(</span><span class="o">&amp;</span><span class="n">options</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="k">sizeof</span><span class="p">(</span><span class="n">grn_search_optarg</span><span class="p">));</span>
</pre></div>
</div>
<p>If your code do the above thing, your code is API compatible and ABI
incompatible. You just need to rebuild your code without
modification.</p>
<p>If your code doesn’t the above thing, you need to added the above
thing to your code.</p>
</li>
<li><p>Added the following predicates that check <a class="reference internal" href="../reference/api/grn_obj.html#c.grn_obj" title="grn_obj"><code class="xref c c-type docutils literal notranslate"><span class="pre">grn_obj</span></code></a> type to
DB API:</p>
<ul class="simple">
<li><p><code class="xref c c-func docutils literal notranslate"><span class="pre">grn_obj_is_table()</span></code></p></li>
<li><p><code class="xref c c-func docutils literal notranslate"><span class="pre">grn_obj_is_proc_proc()</span></code></p></li>
<li><p><code class="xref c c-func docutils literal notranslate"><span class="pre">grn_obj_is_function_proc()</span></code></p></li>
<li><p><code class="xref c c-func docutils literal notranslate"><span class="pre">grn_obj_is_selector_proc()</span></code></p></li>
<li><p><code class="xref c c-func docutils literal notranslate"><span class="pre">grn_obj_is_scorer_proc()</span></code></p></li>
</ul>
</li>
<li><p>[experimental] Supported skipping posting list when searching
popular term and rare term at the same time. It will improve
performance. Set <code class="docutils literal notranslate"><span class="pre">GRN_II_CURSOR_SET_MIN_ENABLE</span></code> environment
variable to <code class="docutils literal notranslate"><span class="pre">1</span></code> to enable the feature. The feature is disabled by
default.</p></li>
<li><p>[doc] Added <a class="reference internal" href="../reference/functions/in_values.html"><span class="doc">in_values</span></a> document.</p></li>
<li><p>[doc] Added <a class="reference internal" href="../reference/commands/logical_count.html"><span class="doc">logical_count</span></a> document.</p></li>
<li><p>[mruby] Implemented custom <code class="docutils literal notranslate"><span class="pre">#inspect</span></code> method. Is is useful for
debugging.</p></li>
<li><p>Added <a class="reference internal" href="../reference/scorers/scorer_tf_at_most.html"><span class="doc">scorer_tf_at_most</span></a> scorer. It
limits not to exceed specified score regardless of term frequency.</p></li>
<li><p>[mruby] Supported estimating matched records for selecting index
search or sequential search.</p></li>
<li><p>Added the following functions to estimate size by index:</p>
<ul class="simple">
<li><p><code class="xref c c-func docutils literal notranslate"><span class="pre">grn_expr_estimate_size()</span></code></p></li>
<li><p><code class="xref c c-func docutils literal notranslate"><span class="pre">grn_ii_estimate_size_for_query()</span></code></p></li>
<li><p><code class="xref c c-func docutils literal notranslate"><span class="pre">grn_ii_estimate_size_for_lexicon_cursor()</span></code></p></li>
</ul>
</li>
<li><p>Added missing <a class="reference internal" href="../reference/normalizers/normalizer_auto.html#normalizer-auto"><span class="std std-ref">NormalizerAuto</span></a> availability check. [GitHub#283]
[Reported by Tasuku SUENAGA]</p></li>
<li><p>Dropped Visual Studio 2010 support.</p></li>
<li><p>[experimental][mecab] Supported chunked tokenization. This feature
is a workaround for MeCab’s “too long sentense” error.  Specify
<code class="docutils literal notranslate"><span class="pre">yes</span></code> to <code class="docutils literal notranslate"><span class="pre">GRN_MECAB_CHUNKED_TOKENIZE_ENABLED</span></code> environment
variable to enable it. By this configuration, Groonga splits a long
text (8192 bytes over text by default) into small chunks and passes
each chunk to MeCab. By this process, the above error isn’t
occurred. Additionally, you can customize chunk threshold bytes by
<code class="docutils literal notranslate"><span class="pre">GRN_MECAB_CHUNK_SIZE_THRESHOLD</span></code> environment variable. Note that
<code class="docutils literal notranslate"><span class="pre">,</span></code>, <code class="docutils literal notranslate"><span class="pre">.</span></code>, <code class="docutils literal notranslate"><span class="pre">!</span></code>, <code class="docutils literal notranslate"><span class="pre">?</span></code>, <code class="docutils literal notranslate"><span class="pre">U+3001</span> <span class="pre">IDEOGRAPHIC</span> <span class="pre">COMMA</span></code>, <code class="docutils literal notranslate"><span class="pre">U+3002</span>
<span class="pre">IDEOGRAPHIC</span> <span class="pre">FULL</span> <span class="pre">STOP</span></code>, <code class="docutils literal notranslate"><span class="pre">U+FF01</span> <span class="pre">FULLWIDTH</span> <span class="pre">EXCLAMATION</span> <span class="pre">MARK</span></code> and
<code class="docutils literal notranslate"><span class="pre">U+FF1F</span> <span class="pre">FULLWIDTH</span> <span class="pre">QUESTION</span> <span class="pre">MARK</span></code> are treated as chunk delimiter
characters.</p></li>
<li><p>Supported <code class="docutils literal notranslate"><span class="pre">--pid-file</span></code> in server mode of
<a class="reference internal" href="../reference/executables/groonga.html"><span class="doc">groonga executable file</span></a>.</p></li>
<li><p>[groonga-httpd] Supported graceful stop to clean Groonga. It doesn’t
terminate the open connections immediately.</p></li>
<li><p>[experimental] Supported regular expression. See
<a class="reference internal" href="../reference/regular_expression.html"><span class="doc">Regular expression</span></a> to know about how to use regular
expression.</p></li>
<li><p>[experimental] Added <a class="reference internal" href="../reference/commands/plugin_unregister.html"><span class="doc">plugin_unregister</span></a>
command.</p></li>
<li><p>[http][<a class="reference internal" href="../reference/commands/load.html"><span class="doc">load</span></a>] Added “,” as chunk separator
in POST data. It decreases internal buffer size and improves load
time when POST data don’t include any new line.</p></li>
<li><p>[doc] Added <a class="reference internal" href="../reference/tokenizers.html"><span class="doc">Tokenizers</span></a> document.</p></li>
<li><p>Improved POSIX.2 compatibility by using <code class="docutils literal notranslate"><span class="pre">.</span></code> as bash’s “source”
command replacement. [GitHub#317] [Patch by Jun Kuriyama]</p></li>
<li><p>[windows] Changed to the default IO version 1. It reduces disk usage
on Windows. [groonga-dev,03118] [Tested by ongaeshi]</p></li>
<li><p>[httpd] Updated bundled nginx version to the latest mainline
(1.7.11).</p></li>
<li><p>Changed mime-type for TSV output to <code class="docutils literal notranslate"><span class="pre">text/tab-separated-values</span></code>
from <code class="docutils literal notranslate"><span class="pre">text/plain</span></code>.</p></li>
<li><p>[<a class="reference internal" href="../reference/token_filters/token_filter_stop_word.html#token-filter-stop-word"><span class="std std-ref">TokenFilterStopWord</span></a>] Supported
<a class="reference internal" href="../reference/indexing.html#offline-index-construction"><span class="std std-ref">Offline index construction</span></a>. [GitHub#296] [Patch by Naoya
Murakami]</p></li>
</ul>
</div>
<div class="section" id="id32">
<h3>Fixes<a class="headerlink" href="#id32" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Fixed not to use obsolete <code class="docutils literal notranslate"><span class="pre">--address</span></code> parameter in the default
groonga.conf. <code class="docutils literal notranslate"><span class="pre">--bind-address</span></code> is used instead.  [Groonga-talk]
[Reported by Dewangga]</p></li>
<li><p>[<a class="reference internal" href="../reference/commands/truncate.html"><span class="doc">truncate</span></a>] Fixed a bug that
<a class="reference internal" href="../reference/tables.html#table-no-key"><span class="std std-ref">TABLE_NO_KEY</span></a> table can’t be truncated.</p></li>
<li><p>[mecab] Reduced needless logs for “empty token” and “ignore empty
token”.</p></li>
<li><p>Fixed a bug that wrong section in index is used. It means that wrong
search result is returned. If you satisfy all of the following
conditions, this bug is occurred:</p>
<ul>
<li><p>Multiple indexes are available.</p></li>
<li><p>The first defined index or the last defined index are
multi-column indexes.</p></li>
<li><p>When both of the first defined index and the last defined index are
multi-column indexes, source column orders are different in them.</p></li>
</ul>
</li>
<li><p>Fixed a bug that passing Groonga command line to
<a class="reference internal" href="../reference/executables/groonga.html"><span class="doc">groonga executable file</span></a> from shell command line style
usage always returns <code class="docutils literal notranslate"><span class="pre">0</span></code> as exit code. For example, <code class="docutils literal notranslate"><span class="pre">groonga</span>
<span class="pre">DB_PATH</span> <span class="pre">nonexistent_command</span></code> always returned <code class="docutils literal notranslate"><span class="pre">0</span></code> as exist code.</p></li>
<li><p>Fixed a bug that plugin path may be broken when two or more plugins
registered. [Reported by Naoya Murakami]</p></li>
<li><p>Fixed a bug that <code class="docutils literal notranslate"><span class="pre">Lexicon.index.source_column_name</span></code> style in
<a class="reference internal" href="../reference/commands/select.html#select-match-columns"><span class="std std-ref">match_columns</span></a> doesn’t work when source
column specified by <code class="docutils literal notranslate"><span class="pre">source_column_name</span></code> has two or more
indexes. [Reported by Naoya Murakami]</p></li>
</ul>
</div>
<div class="section" id="id33">
<h3>Thanks<a class="headerlink" href="#id33" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Masatoshi Teruya</p></li>
<li><p>Tasuku SUENAGA</p></li>
<li><p>Dewangga</p></li>
<li><p>Jun Kuriyama</p></li>
<li><p>ongaeshi</p></li>
<li><p>Naoya Murakami</p></li>
</ul>
</div>
</div>
<div class="section" id="release-5-0-0-2015-02-09">
<span id="release-5-0-0"></span><h2>Release 5.0.0 - 2015-02-09<a class="headerlink" href="#release-5-0-0-2015-02-09" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>Bump version to 5.0.0!</p></li>
</ul>
<div class="section" id="id34">
<h3>Improvements<a class="headerlink" href="#id34" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>[doc] Added <a class="reference internal" href="../reference/grn_expr/script_syntax.html#script-syntax-security"><span class="std std-ref">Security</span></a> about <a class="reference internal" href="../reference/grn_expr/script_syntax.html"><span class="doc">Script syntax</span></a>.</p></li>
<li><p>[experimental] Added sharding plugin. Execute <cite>register sharding</cite> to
enable this feature in advance, then use <a class="reference internal" href="../reference/commands/logical_count.html"><span class="doc">logical_count</span></a> to get the number of records.</p></li>
<li><p>[cmake] Supported embedded Groonga with Clang. It fixed compilation failure
on FreeBSD 10.1. <a class="reference external" href="https://mariadb.atlassian.net/browse/MDEV-7293">[MDEV-7293]</a>
[Reported by Bernard Spil]</p></li>
<li><p>Supported to customize plugins directory. Set <cite>GRN_PLUGINS_DIR</cite> environment variable.</p></li>
</ul>
</div>
<div class="section" id="id35">
<h3>Fixes<a class="headerlink" href="#id35" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Fixed build failure when system has an incompatible version of onigmo/oniguruma
headers installed. [GitHub#276] [Patch by Akinori MUSHA]</p></li>
<li><p>Fixed time related build failure on MSVC [GitHub#237]</p></li>
</ul>
</div>
<div class="section" id="id36">
<h3>Thanks<a class="headerlink" href="#id36" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Akinori MUSHA</p></li>
<li><p>Bernard Spil</p></li>
</ul>
</div>
</div>
</div>


              </div>
              
              
              <!-- Previous / next buttons -->
<div class='prev-next-area'>
</div>
              
          </main>
          

      </div>
    </div>
  
    <script src="../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf"></script>
  <footer class="footer mt-5 mt-md-0">
  <div class="container">
    
    <div class="footer-item">
      <p class="copyright">
    &copy; Copyright 2009-2022 Groonga Project.<br>
</p>
    </div>
    
    <div class="footer-item">
      <p class="sphinx-version">
Created using <a href="http://sphinx-doc.org/">Sphinx</a> 4.5.0.<br>
</p>
    </div>
    
  </div>
</footer>
  </body>
</html>