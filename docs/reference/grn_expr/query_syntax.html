
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>7.13.1. Query syntax &#8212; Groonga v12.0.4 documentation</title>
    
    <link href="../../_static/styles/theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">
<link href="../../_static/styles/pydata-sphinx-theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">
  
    
    <link rel="stylesheet"
      href="../../_static/vendor/fontawesome/5.13.0/css/all.min.css">
    <link rel="preload" as="font" type="font/woff2" crossorigin
      href="../../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
    <link rel="preload" as="font" type="font/woff2" crossorigin
      href="../../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">
  
    
      
  
    
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/styles/pydata-sphinx-theme.css" />
    
    <link rel="preload" as="script" href="../../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf">
  
    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="7.13.2. Script syntax" href="script_syntax.html" />
    <link rel="prev" title="7.13. grn_expr" href="../grn_expr.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="en">
    

    <!-- Google Analytics -->
    
<script async="" src="https://www.google-analytics.com/analytics.js"></script>
<script>
                        window.ga = window.ga || function () {
                            (ga.q = ga.q || []).push(arguments) };
                        ga.l = +new Date;
                        ga('create', 'UA-7532323-1', 'auto');
                        ga('set', 'anonymizeIp', true);
                        ga('send', 'pageview');
                    </script>

  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <div class="container-fluid" id="banner"></div>

    
    <nav class="navbar navbar-light navbar-expand-lg bg-light fixed-top bd-navbar" id="navbar-main"><div class="container-xl">

  <div id="navbar-start">
    
    

<a class="navbar-brand" href="https://groonga.org/">
  <img src="../../_static/groonga.png" class="logo" alt="logo">
</a>


    
  </div>

  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-collapsible" aria-controls="navbar-collapsible" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>

  
  <div id="navbar-collapsible" class="col-lg-9 collapse navbar-collapse">
    <div id="navbar-center" class="mr-auto">
      
    </div>

    <div id="navbar-end">
      
      <div class="navbar-end-item">
        <ul id="navbar-icon-links" class="navbar-nav" aria-label="Icon Links">
        <li class="nav-item">
          <a class="nav-link" href="https://github.com/groonga/groonga" rel="noopener" target="_blank" title="GitHub"><span><i class="fab fa-github-square"></i></span>
            <label class="sr-only">GitHub</label></a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="https://twitter.com/groonga" rel="noopener" target="_blank" title="Twitter"><span><i class="fab fa-twitter-square"></i></span>
            <label class="sr-only">Twitter</label></a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="/blog" rel="noopener" target="_blank" title="Blog"><span><i class="fas fa-blog"></i></span>
            <label class="sr-only">Blog</label></a>
        </li>
      </ul>
      </div>
      
      <div class="navbar-end-item">
        <div class="dropdown" id="version_switcher">
    <button type="button" class="btn btn-primary btn-sm navbar-btn dropdown-toggle" id="version_switcher_button" data-toggle="dropdown">
        English  <!-- this text may get changed later by javascript -->
        <span class="caret"></span>
    </button>
    <div id="version_switcher_menu" class="dropdown-menu list-group-flush py-0" aria-labelledby="version_switcher_button">
    <!-- dropdown will be populated by javascript on page load -->
    </div>
</div>

<!-- NOTE: this JS must live here (not in our global JS file) because it relies
     on being processed by Jinja before it is run (specifically for replacing
     variables reference/grn_expr/query_syntax and {'json_url': 'https://groonga.org/docs/_static/switcher.json', 'url_template': 'https://groonga.org/{version}docs/', 'version_match': 'English'}.
-->

<script type="text/javascript">
// Construct the target URL from the JSON components
function buildURL(entry) {
    var template = "https://groonga.org/{version}docs/";  // supplied by jinja
    template = template.replace("{version}", entry.version);
    return template;
}

// Check if corresponding page path exists in other version of docs
// and, if so, go there instead of the homepage of the other docs version
function checkPageExistsAndRedirect(event) {
    const currentFilePath = "reference/grn_expr/query_syntax.html",
          tryUrl = event.target.getAttribute("href");
    let otherDocsHomepage = tryUrl.replace(currentFilePath, "");
    $.ajax({
        type: 'HEAD',
        url: tryUrl,
        // if the page exists, go there
        success: function() {
            location.href = tryUrl;
        }
    }).fail(function() {
        location.href = otherDocsHomepage;
    });
    // this prevents the browser from following the href of the clicked node
    // (which is fine because this function takes care of redirecting)
    return false;
}

// Populate the version switcher from the JSON config file
(function () {
    $.getJSON("https://groonga.org/docs/_static/switcher.json", function(data, textStatus, jqXHR) {
        const currentFilePath = "reference/grn_expr/query_syntax.html";
        // create links to the corresponding page in the other docs versions
        $.each(data, function(index, entry) {
            // if no custom name specified (e.g., "latest"), use version string
            if (!("name" in entry)) {
                entry.name = entry.version;
            }
            // create the node
            const node = document.createElement("a");
            node.setAttribute("class", "list-group-item list-group-item-action py-1");
            node.textContent = `${entry.name}`;
            // get the base URL for that doc version, add the current page's
            // path to it, and set as `href`
            entry.url = buildURL(entry);
            node.setAttribute("href", `${entry.url}${currentFilePath}`);
            // on click, AJAX calls will check if the linked page exists before
            // trying to redirect, and if not, will redirect to the homepage
            // for that version of the docs.
            node.onclick = checkPageExistsAndRedirect;
            $("#version_switcher_menu").append(node);
            // replace dropdown button text with the preferred display name of
            // this version, rather than using sphinx's 12.0.4 variable.
            // also highlight the dropdown entry for the currently-viewed
            // version's entry
            if (entry.version == "English") {
                node.classList.add("active");
                $("#version_switcher_button").text(entry.name);
            }
        });
    });
})();
</script>
      </div>
      
    </div>
  </div>
</div>
    </nav>
    

    <div class="container-xl">
      <div class="row">
          
            
            <!-- Only show if we have sidebars configured, else just a small margin  -->
            <div class="col-12 col-md-3 bd-sidebar">
              <div class="sidebar-start-items"><form class="bd-search d-flex align-items-center" action="../../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search the docs ..." aria-label="Search the docs ..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
  <div class="bd-toc-item active">
    <ul class="current nav bd-sidenav">
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../executables.html">
   7.1. Executables
  </a>
  <input checked class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/>
  <label for="toctree-checkbox-1">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../executables/grndb.html">
     7.1.1.
     <code class="docutils literal notranslate">
      <span class="pre">
       grndb
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../executables/grnslap.html">
     7.1.2. grnslap
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../executables/groonga.html">
     7.1.3.
     <code class="docutils literal notranslate">
      <span class="pre">
       groonga
      </span>
     </code>
     executable file
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../executables/groonga-benchmark.html">
     7.1.4. groonga-benchmark
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../executables/groonga-httpd.html">
     7.1.5. groonga-httpd
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../executables/groonga-server-http.html">
     7.1.6. Groonga HTTP server
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../executables/groonga-suggest-create-dataset.html">
     7.1.7. groonga-suggest-create-dataset
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../executables/groonga-suggest-httpd.html">
     7.1.8.
     <code class="docutils literal notranslate">
      <span class="pre">
       groonga-suggest-httpd
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../executables/groonga-suggest-learner.html">
     7.1.9. groonga-suggest-learner
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../output.html">
   7.2. Output
  </a>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../command.html">
   7.3. Command
  </a>
  <input checked class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/>
  <label for="toctree-checkbox-2">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../command/command_version.html">
     7.3.1. Command version
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../command/output_format.html">
     7.3.2. Output format
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../command/pretty_print.html">
     7.3.3. Pretty print
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../command/request_id.html">
     7.3.4. Request ID
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../command/request_timeout.html">
     7.3.5. Request timeout
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../command/return_code.html">
     7.3.6. Return code
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../commands/cache_limit.html">
     7.3.7.
     <code class="docutils literal notranslate">
      <span class="pre">
       cache_limit
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../commands/check.html">
     7.3.8.
     <code class="docutils literal notranslate">
      <span class="pre">
       check
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../commands/clearlock.html">
     7.3.9.
     <code class="docutils literal notranslate">
      <span class="pre">
       clearlock
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../commands/column_copy.html">
     7.3.10.
     <code class="docutils literal notranslate">
      <span class="pre">
       column_copy
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../commands/column_create.html">
     7.3.11.
     <code class="docutils literal notranslate">
      <span class="pre">
       column_create
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../commands/column_list.html">
     7.3.12.
     <code class="docutils literal notranslate">
      <span class="pre">
       column_list
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../commands/column_remove.html">
     7.3.13.
     <code class="docutils literal notranslate">
      <span class="pre">
       column_remove
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../commands/column_rename.html">
     7.3.14.
     <code class="docutils literal notranslate">
      <span class="pre">
       column_rename
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../commands/config_delete.html">
     7.3.15.
     <code class="docutils literal notranslate">
      <span class="pre">
       config_delete
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../commands/config_get.html">
     7.3.16.
     <code class="docutils literal notranslate">
      <span class="pre">
       config_get
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../commands/config_set.html">
     7.3.17.
     <code class="docutils literal notranslate">
      <span class="pre">
       config_set
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../commands/database_unmap.html">
     7.3.18.
     <code class="docutils literal notranslate">
      <span class="pre">
       database_unmap
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../commands/define_selector.html">
     7.3.19.
     <code class="docutils literal notranslate">
      <span class="pre">
       define_selector
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../commands/defrag.html">
     7.3.20.
     <code class="docutils literal notranslate">
      <span class="pre">
       defrag
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../commands/delete.html">
     7.3.21.
     <code class="docutils literal notranslate">
      <span class="pre">
       delete
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../commands/dump.html">
     7.3.22.
     <code class="docutils literal notranslate">
      <span class="pre">
       dump
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../commands/index_column_diff.html">
     7.3.23.
     <code class="docutils literal notranslate">
      <span class="pre">
       index_column_diff
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../commands/io_flush.html">
     7.3.24.
     <code class="docutils literal notranslate">
      <span class="pre">
       io_flush
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../commands/load.html">
     7.3.25.
     <code class="docutils literal notranslate">
      <span class="pre">
       load
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../commands/lock_acquire.html">
     7.3.26.
     <code class="docutils literal notranslate">
      <span class="pre">
       lock_acquire
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../commands/lock_clear.html">
     7.3.27.
     <code class="docutils literal notranslate">
      <span class="pre">
       lock_clear
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../commands/lock_release.html">
     7.3.28.
     <code class="docutils literal notranslate">
      <span class="pre">
       lock_release
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../commands/log_level.html">
     7.3.29.
     <code class="docutils literal notranslate">
      <span class="pre">
       log_level
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../commands/log_put.html">
     7.3.30.
     <code class="docutils literal notranslate">
      <span class="pre">
       log_put
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../commands/log_reopen.html">
     7.3.31.
     <code class="docutils literal notranslate">
      <span class="pre">
       log_reopen
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../commands/logical_count.html">
     7.3.32.
     <code class="docutils literal notranslate">
      <span class="pre">
       logical_count
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../commands/logical_parameters.html">
     7.3.33.
     <code class="docutils literal notranslate">
      <span class="pre">
       logical_parameters
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../commands/logical_range_filter.html">
     7.3.34.
     <code class="docutils literal notranslate">
      <span class="pre">
       logical_range_filter
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../commands/logical_select.html">
     7.3.35.
     <code class="docutils literal notranslate">
      <span class="pre">
       logical_select
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../commands/logical_shard_list.html">
     7.3.36.
     <code class="docutils literal notranslate">
      <span class="pre">
       logical_shard_list
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../commands/logical_table_remove.html">
     7.3.37.
     <code class="docutils literal notranslate">
      <span class="pre">
       logical_table_remove
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../commands/normalize.html">
     7.3.38.
     <code class="docutils literal notranslate">
      <span class="pre">
       normalize
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../commands/normalizer_list.html">
     7.3.39.
     <code class="docutils literal notranslate">
      <span class="pre">
       normalizer_list
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../commands/object_exist.html">
     7.3.40.
     <code class="docutils literal notranslate">
      <span class="pre">
       object_exist
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../commands/object_inspect.html">
     7.3.41.
     <code class="docutils literal notranslate">
      <span class="pre">
       object_inspect
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../commands/object_list.html">
     7.3.42.
     <code class="docutils literal notranslate">
      <span class="pre">
       object_list
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../commands/object_remove.html">
     7.3.43.
     <code class="docutils literal notranslate">
      <span class="pre">
       object_remove
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../commands/plugin_register.html">
     7.3.44.
     <code class="docutils literal notranslate">
      <span class="pre">
       plugin_register
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../commands/plugin_unregister.html">
     7.3.45.
     <code class="docutils literal notranslate">
      <span class="pre">
       plugin_unregister
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../commands/query_expand.html">
     7.3.46.
     <code class="docutils literal notranslate">
      <span class="pre">
       query_expand
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../commands/quit.html">
     7.3.47.
     <code class="docutils literal notranslate">
      <span class="pre">
       quit
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../commands/range_filter.html">
     7.3.48.
     <code class="docutils literal notranslate">
      <span class="pre">
       range_filter
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../commands/reference_acquire.html">
     7.3.49.
     <code class="docutils literal notranslate">
      <span class="pre">
       reference_acquire
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../commands/reference_release.html">
     7.3.50.
     <code class="docutils literal notranslate">
      <span class="pre">
       reference_release
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../commands/register.html">
     7.3.51.
     <code class="docutils literal notranslate">
      <span class="pre">
       register
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../commands/reindex.html">
     7.3.52.
     <code class="docutils literal notranslate">
      <span class="pre">
       reindex
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../commands/request_cancel.html">
     7.3.53.
     <code class="docutils literal notranslate">
      <span class="pre">
       request_cancel
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../commands/ruby_eval.html">
     7.3.54.
     <code class="docutils literal notranslate">
      <span class="pre">
       ruby_eval
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../commands/schema.html">
     7.3.55.
     <code class="docutils literal notranslate">
      <span class="pre">
       schema
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../commands/select.html">
     7.3.56.
     <code class="docutils literal notranslate">
      <span class="pre">
       select
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../commands/shutdown.html">
     7.3.57.
     <code class="docutils literal notranslate">
      <span class="pre">
       shutdown
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../commands/status.html">
     7.3.58.
     <code class="docutils literal notranslate">
      <span class="pre">
       status
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../commands/suggest.html">
     7.3.59.
     <code class="docutils literal notranslate">
      <span class="pre">
       suggest
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../commands/table_copy.html">
     7.3.60.
     <code class="docutils literal notranslate">
      <span class="pre">
       table_copy
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../commands/table_create.html">
     7.3.61.
     <code class="docutils literal notranslate">
      <span class="pre">
       table_create
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../commands/table_list.html">
     7.3.62.
     <code class="docutils literal notranslate">
      <span class="pre">
       table_list
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../commands/table_remove.html">
     7.3.63.
     <code class="docutils literal notranslate">
      <span class="pre">
       table_remove
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../commands/table_rename.html">
     7.3.64.
     <code class="docutils literal notranslate">
      <span class="pre">
       table_rename
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../commands/table_tokenize.html">
     7.3.65.
     <code class="docutils literal notranslate">
      <span class="pre">
       table_tokenize
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../commands/thread_dump.html">
     7.3.66.
     <code class="docutils literal notranslate">
      <span class="pre">
       thread_dump
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../commands/thread_limit.html">
     7.3.67.
     <code class="docutils literal notranslate">
      <span class="pre">
       thread_limit
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../commands/tokenize.html">
     7.3.68.
     <code class="docutils literal notranslate">
      <span class="pre">
       tokenize
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../commands/tokenizer_list.html">
     7.3.69.
     <code class="docutils literal notranslate">
      <span class="pre">
       tokenizer_list
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../commands/truncate.html">
     7.3.70.
     <code class="docutils literal notranslate">
      <span class="pre">
       truncate
      </span>
     </code>
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../types.html">
   7.4. Data types
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../tables.html">
   7.5. Tables
  </a>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../column.html">
   7.6. Column
  </a>
  <input checked class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/>
  <label for="toctree-checkbox-3">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../columns/scalar.html">
     7.6.1. Scalar column
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../columns/vector.html">
     7.6.2. Vector column
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../columns/pseudo.html">
     7.6.3. Pseudo column
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../columns/index.html">
     7.6.4. Index column
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../normalizers.html">
   7.7. Normalizers
  </a>
  <input checked class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" type="checkbox"/>
  <label for="toctree-checkbox-4">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../normalizers/normalizer_auto.html">
     7.7.2.1.
     <code class="docutils literal notranslate">
      <span class="pre">
       NormalizerAuto
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../normalizers/normalizer_nfkc100.html">
     7.7.2.2.
     <code class="docutils literal notranslate">
      <span class="pre">
       NormalizerNFKC100
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../normalizers/normalizer_nfkc121.html">
     7.7.2.3.
     <code class="docutils literal notranslate">
      <span class="pre">
       NormalizerNFKC121
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../normalizers/normalizer_nfkc130.html">
     7.7.2.4.
     <code class="docutils literal notranslate">
      <span class="pre">
       NormalizerNFKC130
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../normalizers/normalizer_nfkc51.html">
     7.7.2.5.
     <code class="docutils literal notranslate">
      <span class="pre">
       NormalizerNFKC51
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../normalizers/normalizer_table.html">
     7.7.2.6.
     <code class="docutils literal notranslate">
      <span class="pre">
       NormalizerTable
      </span>
     </code>
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../tokenizers.html">
   7.8. Tokenizers
  </a>
  <input checked class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" type="checkbox"/>
  <label for="toctree-checkbox-5">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../tokenizer/summary.html">
     7.8.1. Summary
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../tokenizers/token_bigram.html">
     7.8.2.
     <code class="docutils literal notranslate">
      <span class="pre">
       TokenBigram
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../tokenizers/token_bigram_ignore_blank.html">
     7.8.3.
     <code class="docutils literal notranslate">
      <span class="pre">
       TokenBigramIgnoreBlank
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../tokenizers/token_bigram_ignore_blank_split_symbol.html">
     7.8.4.
     <code class="docutils literal notranslate">
      <span class="pre">
       TokenBigramIgnoreBlankSplitSymbol
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../tokenizers/token_bigram_ignore_blank_split_symbol_alpha.html">
     7.8.5.
     <code class="docutils literal notranslate">
      <span class="pre">
       TokenBigramIgnoreBlankSplitSymbolAlpha
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../tokenizers/token_bigram_ignore_blank_split_symbol_alpha_digit.html">
     7.8.6.
     <code class="docutils literal notranslate">
      <span class="pre">
       TokenBigramIgnoreBlankSplitSymbolAlphaDigit
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../tokenizers/token_bigram_split_symbol.html">
     7.8.7.
     <code class="docutils literal notranslate">
      <span class="pre">
       TokenBigramSplitSymbol
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../tokenizers/token_bigram_split_symbol_alpha.html">
     7.8.8.
     <code class="docutils literal notranslate">
      <span class="pre">
       TokenBigramSplitSymbolAlpha
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../tokenizers/token_bigram_split_symbol_alpha_digit.html">
     7.8.9.
     <code class="docutils literal notranslate">
      <span class="pre">
       TokenBigramSplitSymbolAlphaDigit
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../tokenizers/token_delimit.html">
     7.8.10.
     <code class="docutils literal notranslate">
      <span class="pre">
       TokenDelimit
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../tokenizers/token_delimit_null.html">
     7.8.11.
     <code class="docutils literal notranslate">
      <span class="pre">
       TokenDelimitNull
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../tokenizers/token_mecab.html">
     7.8.12.
     <code class="docutils literal notranslate">
      <span class="pre">
       TokenMecab
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../tokenizers/token_ngram.html">
     7.8.13.
     <code class="docutils literal notranslate">
      <span class="pre">
       TokenNgram
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../tokenizers/token_pattern.html">
     7.8.14.
     <code class="docutils literal notranslate">
      <span class="pre">
       TokenPattern
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../tokenizers/token_regexp.html">
     7.8.15.
     <code class="docutils literal notranslate">
      <span class="pre">
       TokenRegexp
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../tokenizers/token_table.html">
     7.8.16.
     <code class="docutils literal notranslate">
      <span class="pre">
       TokenTable
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../tokenizers/token_trigram.html">
     7.8.17.
     <code class="docutils literal notranslate">
      <span class="pre">
       TokenTrigram
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../tokenizers/token_unigram.html">
     7.8.18.
     <code class="docutils literal notranslate">
      <span class="pre">
       TokenUnigram
      </span>
     </code>
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../token_filters.html">
   7.9. Token filters
  </a>
  <input checked class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" type="checkbox"/>
  <label for="toctree-checkbox-6">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../token_filter/summary.html">
     7.9.1. Summary
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../token_filters/token_filter_nfkc100.html">
     7.9.2.
     <code class="docutils literal notranslate">
      <span class="pre">
       TokenFilterNFKC100
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../token_filters/token_filter_stem.html">
     7.9.3.
     <code class="docutils literal notranslate">
      <span class="pre">
       TokenFilterStem
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../token_filters/token_filter_stop_word.html">
     7.9.4.
     <code class="docutils literal notranslate">
      <span class="pre">
       TokenFilterStopWord
      </span>
     </code>
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../query_expanders.html">
   7.10. Query expanders
  </a>
  <input checked class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" type="checkbox"/>
  <label for="toctree-checkbox-7">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../query_expanders/tsv.html">
     7.10.1. QueryExpanderTSV
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../scorer.html">
   7.11. Scorer
  </a>
  <input checked class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" type="checkbox"/>
  <label for="toctree-checkbox-8">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../scorers/scorer_tf_at_most.html">
     7.11.3.1.
     <code class="docutils literal notranslate">
      <span class="pre">
       scorer_tf_at_most
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../scorers/scorer_tf_idf.html">
     7.11.3.2.
     <code class="docutils literal notranslate">
      <span class="pre">
       scorer_tf_idf
      </span>
     </code>
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../cast.html">
   7.12. Cast
  </a>
 </li>
 <li class="toctree-l1 current active has-children">
  <a class="reference internal" href="../grn_expr.html">
   7.13. grn_expr
  </a>
  <input checked class="toctree-checkbox" id="toctree-checkbox-9" name="toctree-checkbox-9" type="checkbox"/>
  <label for="toctree-checkbox-9">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul class="current">
   <li class="toctree-l2 current active">
    <a class="current reference internal" href="#">
     7.13.1. Query syntax
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="script_syntax.html">
     7.13.2. Script syntax
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../regular_expression.html">
   7.14. Regular expression
  </a>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../function.html">
   7.15. Function
  </a>
  <input checked class="toctree-checkbox" id="toctree-checkbox-10" name="toctree-checkbox-10" type="checkbox"/>
  <label for="toctree-checkbox-10">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../functions/between.html">
     7.15.1.
     <code class="docutils literal notranslate">
      <span class="pre">
       between
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../functions/cast_loose.html">
     7.15.2.
     <code class="docutils literal notranslate">
      <span class="pre">
       cast_loose
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../functions/edit_distance.html">
     7.15.3. edit_distance
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../functions/fuzzy_search.html">
     7.15.4.
     <code class="docutils literal notranslate">
      <span class="pre">
       fuzzy_search
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../functions/geo_distance.html">
     7.15.5.
     <code class="docutils literal notranslate">
      <span class="pre">
       geo_distance
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../functions/geo_in_circle.html">
     7.15.6. geo_in_circle
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../functions/geo_in_rectangle.html">
     7.15.7. geo_in_rectangle
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../functions/highlight_full.html">
     7.15.8.
     <code class="docutils literal notranslate">
      <span class="pre">
       highlight_full
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../functions/highlight_html.html">
     7.15.9.
     <code class="docutils literal notranslate">
      <span class="pre">
       highlight_html
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../functions/html_untag.html">
     7.15.10.
     <code class="docutils literal notranslate">
      <span class="pre">
       html_untag
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../functions/in_records.html">
     7.15.11.
     <code class="docutils literal notranslate">
      <span class="pre">
       in_records
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../functions/in_values.html">
     7.15.12.
     <code class="docutils literal notranslate">
      <span class="pre">
       in_values
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../functions/math_abs.html">
     7.15.13.
     <code class="docutils literal notranslate">
      <span class="pre">
       math_abs
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../functions/now.html">
     7.15.14. now
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../functions/number_classify.html">
     7.15.15.
     <code class="docutils literal notranslate">
      <span class="pre">
       number_classify
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../functions/prefix_rk_search.html">
     7.15.16.
     <code class="docutils literal notranslate">
      <span class="pre">
       prefix_rk_search
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../functions/query.html">
     7.15.17.
     <code class="docutils literal notranslate">
      <span class="pre">
       query
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../functions/query_parallel_or.html">
     7.15.18.
     <code class="docutils literal notranslate">
      <span class="pre">
       query_parallel_or
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../functions/rand.html">
     7.15.19. rand
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../functions/snippet.html">
     7.15.20.
     <code class="docutils literal notranslate">
      <span class="pre">
       snippet
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../functions/snippet_html.html">
     7.15.21.
     <code class="docutils literal notranslate">
      <span class="pre">
       snippet_html
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../functions/string_length.html">
     7.15.22.
     <code class="docutils literal notranslate">
      <span class="pre">
       string_length
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../functions/string_slice.html">
     7.15.23.
     <code class="docutils literal notranslate">
      <span class="pre">
       string_slice
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../functions/string_substring.html">
     7.15.24.
     <code class="docutils literal notranslate">
      <span class="pre">
       string_substring
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../functions/sub_filter.html">
     7.15.25.
     <code class="docutils literal notranslate">
      <span class="pre">
       sub_filter
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../functions/time_classify_day.html">
     7.15.26.
     <code class="docutils literal notranslate">
      <span class="pre">
       time_classify_day
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../functions/time_classify_day_of_week.html">
     7.15.27.
     <code class="docutils literal notranslate">
      <span class="pre">
       time_classify_day_of_week
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../functions/time_classify_hour.html">
     7.15.28.
     <code class="docutils literal notranslate">
      <span class="pre">
       time_classify_hour
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../functions/time_classify_minute.html">
     7.15.29.
     <code class="docutils literal notranslate">
      <span class="pre">
       time_classify_minute
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../functions/time_classify_month.html">
     7.15.30.
     <code class="docutils literal notranslate">
      <span class="pre">
       time_classify_month
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../functions/time_classify_second.html">
     7.15.31.
     <code class="docutils literal notranslate">
      <span class="pre">
       time_classify_second
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../functions/time_classify_week.html">
     7.15.32.
     <code class="docutils literal notranslate">
      <span class="pre">
       time_classify_week
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../functions/time_classify_year.html">
     7.15.33.
     <code class="docutils literal notranslate">
      <span class="pre">
       time_classify_year
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../functions/vector_find.html">
     7.15.34.
     <code class="docutils literal notranslate">
      <span class="pre">
       vector_find
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../functions/vector_new.html">
     7.15.35.
     <code class="docutils literal notranslate">
      <span class="pre">
       vector_new
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../functions/vector_size.html">
     7.15.36.
     <code class="docutils literal notranslate">
      <span class="pre">
       vector_size
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../functions/vector_slice.html">
     7.15.37.
     <code class="docutils literal notranslate">
      <span class="pre">
       vector_slice
      </span>
     </code>
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../window_function.html">
   7.16. Window function
  </a>
  <input checked class="toctree-checkbox" id="toctree-checkbox-11" name="toctree-checkbox-11" type="checkbox"/>
  <label for="toctree-checkbox-11">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../window_functions/record_number.html">
     7.16.1.
     <code class="docutils literal notranslate">
      <span class="pre">
       record_number
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../window_functions/window_count.html">
     7.16.2.
     <code class="docutils literal notranslate">
      <span class="pre">
       window_count
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../window_functions/window_rank.html">
     7.16.3.
     <code class="docutils literal notranslate">
      <span class="pre">
       window_rank
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../window_functions/window_record_number.html">
     7.16.4.
     <code class="docutils literal notranslate">
      <span class="pre">
       window_record_number
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../window_functions/window_sum.html">
     7.16.5.
     <code class="docutils literal notranslate">
      <span class="pre">
       window_sum
      </span>
     </code>
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../operations.html">
   7.17. Operations
  </a>
  <input checked class="toctree-checkbox" id="toctree-checkbox-12" name="toctree-checkbox-12" type="checkbox"/>
  <label for="toctree-checkbox-12">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../operations/geolocation_search.html">
     7.17.1. Geolocation search
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../operations/prefix_rk_search.html">
     7.17.2. Prefix RK search
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../configuration.html">
   7.18. Configuration
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../alias.html">
   7.19. Alias
  </a>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../suggest.html">
   7.20. Suggest
  </a>
  <input checked class="toctree-checkbox" id="toctree-checkbox-13" name="toctree-checkbox-13" type="checkbox"/>
  <label for="toctree-checkbox-13">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../suggest/introduction.html">
     7.20.1. Introduction
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../suggest/completion.html">
     7.20.2. Completion
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../suggest/correction.html">
     7.20.3. Correction
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../suggest/suggestion.html">
     7.20.4. Suggestion
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../indexing.html">
   7.21. Indexing
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../sharding.html">
   7.22. Sharding
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../log.html">
   7.23. Log
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../tuning.html">
   7.24. Tuning
  </a>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../api.html">
   7.25. API
  </a>
  <input checked class="toctree-checkbox" id="toctree-checkbox-14" name="toctree-checkbox-14" type="checkbox"/>
  <label for="toctree-checkbox-14">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../api/overview.html">
     7.25.1. Overview
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../api/global_configurations.html">
     7.25.2. Global configurations
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../api/plugin.html">
     7.25.3. Plugin
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../api/grn_cache.html">
     7.25.4.
     <code class="docutils literal notranslate">
      <span class="pre">
       grn_cache
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../api/grn_column.html">
     7.25.5.
     <code class="docutils literal notranslate">
      <span class="pre">
       grn_column
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../api/grn_command_version.html">
     7.25.6.
     <code class="docutils literal notranslate">
      <span class="pre">
       grn_command_version
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../api/grn_content_type.html">
     7.25.7.
     <code class="docutils literal notranslate">
      <span class="pre">
       grn_content_type
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../api/grn_ctx.html">
     7.25.8.
     <code class="docutils literal notranslate">
      <span class="pre">
       grn_ctx
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../api/grn_db.html">
     7.25.9.
     <code class="docutils literal notranslate">
      <span class="pre">
       grn_db
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../api/grn_encoding.html">
     7.25.10.
     <code class="docutils literal notranslate">
      <span class="pre">
       grn_encoding
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../api/grn_expr.html">
     7.25.11. grn_expr
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../api/grn_geo.html">
     7.25.12.
     <code class="docutils literal notranslate">
      <span class="pre">
       grn_geo
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../api/grn_hook.html">
     7.25.13.
     <code class="docutils literal notranslate">
      <span class="pre">
       grn_hook
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../api/grn_ii.html">
     7.25.14.
     <code class="docutils literal notranslate">
      <span class="pre">
       grn_ii
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../api/grn_index_cursor.html">
     7.25.15.
     <code class="docutils literal notranslate">
      <span class="pre">
       grn_index_cursor
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../api/grn_info.html">
     7.25.16.
     <code class="docutils literal notranslate">
      <span class="pre">
       grn_info
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../api/grn_inspect.html">
     7.25.17.
     <code class="docutils literal notranslate">
      <span class="pre">
       grn_inspect
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../api/grn_match_escalation.html">
     7.25.18.
     <code class="docutils literal notranslate">
      <span class="pre">
       grn_match_escalation
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../api/grn_obj.html">
     7.25.19.
     <code class="docutils literal notranslate">
      <span class="pre">
       grn_obj
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../api/grn_proc.html">
     7.25.20.
     <code class="docutils literal notranslate">
      <span class="pre">
       grn_proc
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../api/grn_search.html">
     7.25.21.
     <code class="docutils literal notranslate">
      <span class="pre">
       grn_search
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../api/grn_table.html">
     7.25.22.
     <code class="docutils literal notranslate">
      <span class="pre">
       grn_table
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../api/grn_table_cursor.html">
     7.25.23.
     <code class="docutils literal notranslate">
      <span class="pre">
       grn_table_cursor
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../api/grn_thread.html">
     7.25.24.
     <code class="docutils literal notranslate">
      <span class="pre">
       grn_thread_*
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../api/grn_type.html">
     7.25.25.
     <code class="docutils literal notranslate">
      <span class="pre">
       grn_type
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../api/grn_user_data.html">
     7.25.26.
     <code class="docutils literal notranslate">
      <span class="pre">
       grn_user_data
      </span>
     </code>
    </a>
   </li>
  </ul>
 </li>
</ul>

  </div>
</nav>
              </div>
              <div class="sidebar-end-items">
              </div>
            </div>
            
          

          
          <div class="d-none d-xl-block col-xl-2 bd-toc">
            
              
              <div class="toc-item">
                
<div class="tocsection onthispage pt-5 pb-3">
    <i class="fas fa-list"></i> On this page
</div>

<nav id="bd-toc-nav">
    <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#sample-data">
   7.13.1.1. Sample data
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#escape">
   7.13.1.2. Escape
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#conditional-expression">
   7.13.1.3. Conditional expression
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#full-text-search-condition">
     7.13.1.3.1. Full text search condition
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#phrase-search-condition">
     7.13.1.3.2. Phrase search condition
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#full-text-search-condition-with-explicit-match-column">
     7.13.1.3.3. Full text search condition (with explicit match column)
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#phrase-search-condition-with-explicit-match-column">
     7.13.1.3.4. Phrase search condition (with explicit match column)
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#prefix-search-condition">
     7.13.1.3.5. Prefix search condition
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#suffix-search-condition">
     7.13.1.3.6. Suffix search condition
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#near-search-condition">
     7.13.1.3.7. Near search condition
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#near-phrase-search-condition">
     7.13.1.3.8. Near phrase search condition
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#near-phrase-product-search-condition">
     7.13.1.3.9. Near phrase product search condition
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#ordered-near-phrase-search-condition">
     7.13.1.3.10. Ordered near phrase search condition
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#ordered-near-phrase-product-search-condition">
     7.13.1.3.11. Ordered near phrase product search condition
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#similar-search-condition">
     7.13.1.3.12. Similar search condition
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#equal-condition">
     7.13.1.3.13. Equal condition
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#not-equal-condition">
     7.13.1.3.14. Not equal condition
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#less-than-condition">
     7.13.1.3.15. Less than condition
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#greater-than-condition">
     7.13.1.3.16. Greater than condition
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#less-than-or-equal-to-condition">
     7.13.1.3.17. Less than or equal to condition
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#greater-than-or-equal-to-condition">
     7.13.1.3.18. Greater than or equal to condition
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#regular-expression-condition">
     7.13.1.3.19. Regular expression condition
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#combined-expression">
   7.13.1.4. Combined expression
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#logical-or">
     7.13.1.4.1. Logical OR
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#logical-and">
     7.13.1.4.2. Logical AND
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#logical-and-not">
     7.13.1.4.3. Logical AND NOT
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#grouping">
     7.13.1.4.4. Grouping
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#assignment-expression">
   7.13.1.5. Assignment expression
  </a>
 </li>
</ul>

</nav>
              </div>
              
              <div class="toc-item">
                

<div class="tocsection editthispage">
    <a href="https://github.com/groonga/groonga/edit/master/doc/source/reference/grn_expr/query_syntax.rst">
        <i class="fas fa-pencil-alt"></i> Edit this page
    </a>
</div>

              </div>
              
            
          </div>
          

          
          
            
          
          <main class="col-12 col-md-9 col-xl-7 py-md-5 pl-md-5 pr-md-4 bd-content" role="main">
              
              <div>
                
  <div class="section" id="query-syntax">
<h1><span class="section-number">7.13.1. </span>Query syntax<a class="headerlink" href="#query-syntax" title="Permalink to this headline">¶</a></h1>
<p>Query syntax is a syntax to specify search condition for common Web
search form. It is similar to the syntax of Google’s search form. For
example, <code class="docutils literal notranslate"><span class="pre">word1</span> <span class="pre">word2</span></code> means that groonga searches records that
contain both <code class="docutils literal notranslate"><span class="pre">word1</span></code> and <code class="docutils literal notranslate"><span class="pre">word2</span></code>. <code class="docutils literal notranslate"><span class="pre">word1</span> <span class="pre">OR</span> <span class="pre">word2</span></code> means that
groonga searches records that contain either <code class="docutils literal notranslate"><span class="pre">word1</span></code> or <code class="docutils literal notranslate"><span class="pre">word2</span></code>.</p>
<p>Query syntax consists of <code class="docutils literal notranslate"><span class="pre">conditional</span> <span class="pre">expression</span></code>, <code class="docutils literal notranslate"><span class="pre">combind</span>
<span class="pre">expression</span></code> and <code class="docutils literal notranslate"><span class="pre">assignment</span> <span class="pre">expression</span></code>. Nomrally <code class="docutils literal notranslate"><span class="pre">assignment</span>
<span class="pre">expression</span></code> can be ignored. Because <code class="docutils literal notranslate"><span class="pre">assignment</span> <span class="pre">expression</span></code> is
disabled in <code class="docutils literal notranslate"><span class="pre">--query</span></code> option of <a class="reference internal" href="../commands/select.html"><span class="doc">select</span></a>. You can use
it if you use groonga as library and customize query syntax parser
options.</p>
<p><code class="docutils literal notranslate"><span class="pre">Conditional</span> <span class="pre">expression</span></code> specifies an condition. <code class="docutils literal notranslate"><span class="pre">Combinded</span>
<span class="pre">expression</span></code> consists of one or more <code class="docutils literal notranslate"><span class="pre">conditional</span> <span class="pre">expression</span></code>,
<code class="docutils literal notranslate"><span class="pre">combined</span> <span class="pre">expression</span></code> or <code class="docutils literal notranslate"><span class="pre">assignment</span> <span class="pre">expression</span></code>. <code class="docutils literal notranslate"><span class="pre">Assignment</span>
<span class="pre">expression</span></code> can assigns a column to a value.</p>
<div class="section" id="sample-data">
<h2><span class="section-number">7.13.1.1. </span>Sample data<a class="headerlink" href="#sample-data" title="Permalink to this headline">¶</a></h2>
<p>Here are a schema definition and sample data to show usage.</p>
<p>Execution example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">table_create</span> <span class="n">Entries</span> <span class="n">TABLE_PAT_KEY</span> <span class="n">ShortText</span>
<span class="c1"># [[0, 1337566253.89858, 0.000355720520019531], true]</span>
<span class="n">column_create</span> <span class="n">Entries</span> <span class="n">content</span> <span class="n">COLUMN_SCALAR</span> <span class="n">Text</span>
<span class="c1"># [[0, 1337566253.89858, 0.000355720520019531], true]</span>
<span class="n">column_create</span> <span class="n">Entries</span> <span class="n">n_likes</span> <span class="n">COLUMN_SCALAR</span> <span class="n">UInt32</span>
<span class="c1"># [[0, 1337566253.89858, 0.000355720520019531], true]</span>
<span class="n">table_create</span> <span class="n">Terms</span> <span class="n">TABLE_PAT_KEY</span> <span class="n">ShortText</span> <span class="o">--</span><span class="n">default_tokenizer</span> <span class="n">TokenBigram</span> <span class="o">--</span><span class="n">normalizer</span> <span class="n">NormalizerAuto</span>
<span class="c1"># [[0, 1337566253.89858, 0.000355720520019531], true]</span>
<span class="n">column_create</span> <span class="n">Terms</span> <span class="n">entries_key_index</span> <span class="n">COLUMN_INDEX</span><span class="o">|</span><span class="n">WITH_POSITION</span> <span class="n">Entries</span> <span class="n">_key</span>
<span class="c1"># [[0, 1337566253.89858, 0.000355720520019531], true]</span>
<span class="n">column_create</span> <span class="n">Terms</span> <span class="n">entries_content_index</span> <span class="n">COLUMN_INDEX</span><span class="o">|</span><span class="n">WITH_POSITION</span> <span class="n">Entries</span> <span class="n">content</span>
<span class="c1"># [[0, 1337566253.89858, 0.000355720520019531], true]</span>
<span class="n">load</span> <span class="o">--</span><span class="n">table</span> <span class="n">Entries</span>
<span class="p">[</span>
<span class="p">{</span><span class="s2">&quot;_key&quot;</span><span class="p">:</span>    <span class="s2">&quot;The first post!&quot;</span><span class="p">,</span>
 <span class="s2">&quot;content&quot;</span><span class="p">:</span> <span class="s2">&quot;Welcome! This is my first post!&quot;</span><span class="p">,</span>
 <span class="s2">&quot;n_likes&quot;</span><span class="p">:</span> <span class="mi">5</span><span class="p">},</span>
<span class="p">{</span><span class="s2">&quot;_key&quot;</span><span class="p">:</span>    <span class="s2">&quot;Groonga&quot;</span><span class="p">,</span>
 <span class="s2">&quot;content&quot;</span><span class="p">:</span> <span class="s2">&quot;I started to use Groonga. It&#39;s very fast!&quot;</span><span class="p">,</span>
 <span class="s2">&quot;n_likes&quot;</span><span class="p">:</span> <span class="mi">10</span><span class="p">},</span>
<span class="p">{</span><span class="s2">&quot;_key&quot;</span><span class="p">:</span>    <span class="s2">&quot;Mroonga&quot;</span><span class="p">,</span>
 <span class="s2">&quot;content&quot;</span><span class="p">:</span> <span class="s2">&quot;I also started to use Mroonga. It&#39;s also very fast! Really fast!&quot;</span><span class="p">,</span>
 <span class="s2">&quot;n_likes&quot;</span><span class="p">:</span> <span class="mi">15</span><span class="p">},</span>
<span class="p">{</span><span class="s2">&quot;_key&quot;</span><span class="p">:</span>    <span class="s2">&quot;Good-bye Senna&quot;</span><span class="p">,</span>
 <span class="s2">&quot;content&quot;</span><span class="p">:</span> <span class="s2">&quot;I migrated all Senna system!&quot;</span><span class="p">,</span>
 <span class="s2">&quot;n_likes&quot;</span><span class="p">:</span> <span class="mi">3</span><span class="p">},</span>
<span class="p">{</span><span class="s2">&quot;_key&quot;</span><span class="p">:</span>    <span class="s2">&quot;Good-bye Tritonn&quot;</span><span class="p">,</span>
 <span class="s2">&quot;content&quot;</span><span class="p">:</span> <span class="s2">&quot;I also migrated all Tritonn system!&quot;</span><span class="p">,</span>
 <span class="s2">&quot;n_likes&quot;</span><span class="p">:</span> <span class="mi">3</span><span class="p">}</span>
<span class="p">]</span>
<span class="c1"># [[0, 1337566253.89858, 0.000355720520019531], 5]</span>
</pre></div>
</div>
<p>There is a table, <code class="docutils literal notranslate"><span class="pre">Entries</span></code>, for blog entries. An entry has title,
content and the number of likes for the entry. Title is key of
<code class="docutils literal notranslate"><span class="pre">Entries</span></code>. Content is value of <code class="docutils literal notranslate"><span class="pre">Entries.content</span></code> column. The
number of likes is value of <code class="docutils literal notranslate"><span class="pre">Entries.n_likes</span></code> column.</p>
<p><code class="docutils literal notranslate"><span class="pre">Entries._key</span></code> column and <code class="docutils literal notranslate"><span class="pre">Entries.content</span></code> column are indexed
using <code class="docutils literal notranslate"><span class="pre">TokenBigram</span></code> tokenizer. So both <code class="docutils literal notranslate"><span class="pre">Entries._key</span></code> and
<code class="docutils literal notranslate"><span class="pre">Entries.content</span></code> are fulltext search ready.</p>
<p>OK. The schema and data for examples are ready.</p>
</div>
<div class="section" id="escape">
<h2><span class="section-number">7.13.1.2. </span>Escape<a class="headerlink" href="#escape" title="Permalink to this headline">¶</a></h2>
<p>There are special characters in query syntax. To use a special
character as itself, it should be escaped by prepending <code class="docutils literal notranslate"><span class="pre">\</span></code>. For
example, <code class="docutils literal notranslate"><span class="pre">&quot;</span></code> is a special character. It is escaped as <code class="docutils literal notranslate"><span class="pre">\&quot;</span></code>.</p>
<p>Here is a special character list:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">[space]</span></code> (escaped as <code class="docutils literal notranslate"><span class="pre">[backslash][space]</span></code>) (You should
substitute <code class="docutils literal notranslate"><span class="pre">[space]</span></code> with a white space character that is 0x20
in ASCII and <code class="docutils literal notranslate"><span class="pre">[backslash]</span></code> with <code class="docutils literal notranslate"><span class="pre">\\</span></code>.)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;</span></code> (escaped as <code class="docutils literal notranslate"><span class="pre">\&quot;</span></code>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">(</span></code> (escaped as <code class="docutils literal notranslate"><span class="pre">\(</span></code>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">)</span></code> (escaped as <code class="docutils literal notranslate"><span class="pre">\)</span></code>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">\</span></code> (escaped as <code class="docutils literal notranslate"><span class="pre">\\</span></code>)</p></li>
</ul>
<p>You can use quote instead of escape special characters except <code class="docutils literal notranslate"><span class="pre">\</span></code>
(backslash). You need to use backslash for escaping backslash like
<code class="docutils literal notranslate"><span class="pre">\\</span></code> in quote.</p>
<p>Quote syntax is <code class="docutils literal notranslate"><span class="pre">&quot;...&quot;</span></code>. You need escape <code class="docutils literal notranslate"><span class="pre">&quot;</span></code> as
<code class="docutils literal notranslate"><span class="pre">\&quot;</span></code> in <code class="docutils literal notranslate"><span class="pre">&quot;...&quot;</span></code> quote syntax. For example, <code class="docutils literal notranslate"><span class="pre">You</span> <span class="pre">say</span> <span class="pre">&quot;Hello</span> <span class="pre">Alice!&quot;</span></code> can be
quoted <code class="docutils literal notranslate"><span class="pre">&quot;You</span> <span class="pre">say</span> <span class="pre">\&quot;Hello</span> <span class="pre">Alice!\&quot;&quot;</span></code>.</p>
<p>In addition <code class="docutils literal notranslate"><span class="pre">'...'</span></code> isn’t  available in query syntax.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>There is an important point which you have to care. The <code class="docutils literal notranslate"><span class="pre">\</span></code>
(backslash) character is interpreted by command line shell. So if
you want to search <code class="docutils literal notranslate"><span class="pre">(</span></code> itself for example, you need to escape
twice (<code class="docutils literal notranslate"><span class="pre">\\(</span></code>) in command line shell.  The command line shell
interprets <code class="docutils literal notranslate"><span class="pre">\\(</span></code> as <code class="docutils literal notranslate"><span class="pre">\(</span></code>, then pass such a literal to
Groonga. Groonga regards <code class="docutils literal notranslate"><span class="pre">\(</span></code> as <code class="docutils literal notranslate"><span class="pre">(</span></code>, then search <code class="docutils literal notranslate"><span class="pre">(</span></code> itself
from database. If you can’t do intended search by Groonga, confirm
whether special character is escaped properly.</p>
</div>
</div>
<div class="section" id="conditional-expression">
<span id="query-syntax-conditional-expression"></span><h2><span class="section-number">7.13.1.3. </span>Conditional expression<a class="headerlink" href="#conditional-expression" title="Permalink to this headline">¶</a></h2>
<p>Here is available conditional expression list.</p>
<div class="section" id="full-text-search-condition">
<span id="query-syntax-full-text-search-condition"></span><h3><span class="section-number">7.13.1.3.1. </span>Full text search condition<a class="headerlink" href="#full-text-search-condition" title="Permalink to this headline">¶</a></h3>
<p>Its syntax is <code class="docutils literal notranslate"><span class="pre">keyword</span></code>.</p>
<p><code class="docutils literal notranslate"><span class="pre">Full</span> <span class="pre">text</span> <span class="pre">search</span> <span class="pre">condition</span></code> specifies a full text search condition
against the default match columns. Match columns are full text search
target columns.</p>
<p>You should specify the default match columns for full text
search. They can be specified by <code class="docutils literal notranslate"><span class="pre">--match_columns</span></code> option of
<a class="reference internal" href="../commands/select.html"><span class="doc">select</span></a>. If you don’t specify the default match
columns, this conditional expression fails.</p>
<p>This conditional expression does full text search with
<code class="docutils literal notranslate"><span class="pre">keyword</span></code>. <code class="docutils literal notranslate"><span class="pre">keyword</span></code> should not contain any spaces. If <code class="docutils literal notranslate"><span class="pre">keyword</span></code>
contains a space such as <code class="docutils literal notranslate"><span class="pre">search</span> <span class="pre">keyword</span></code>, it means two full text
search conditions; <code class="docutils literal notranslate"><span class="pre">search</span></code> and <code class="docutils literal notranslate"><span class="pre">keyword</span></code>. If you want to
specifies a keyword that contains one or more spaces, you can use
<code class="docutils literal notranslate"><span class="pre">phrase</span> <span class="pre">search</span> <span class="pre">condition</span></code> that is described below.</p>
<p>Here is a simple example:</p>
<p>Execution example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">select</span> <span class="n">Entries</span> <span class="o">--</span><span class="n">match_columns</span> <span class="n">content</span> <span class="o">--</span><span class="n">query</span> <span class="n">fast</span>
<span class="c1"># [</span>
<span class="c1">#   [</span>
<span class="c1">#     0,</span>
<span class="c1">#     1337566253.89858,</span>
<span class="c1">#     0.000355720520019531</span>
<span class="c1">#   ],</span>
<span class="c1">#   [</span>
<span class="c1">#     [</span>
<span class="c1">#       [</span>
<span class="c1">#         2</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;_id&quot;,</span>
<span class="c1">#           &quot;UInt32&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;_key&quot;,</span>
<span class="c1">#           &quot;ShortText&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;content&quot;,</span>
<span class="c1">#           &quot;Text&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;n_likes&quot;,</span>
<span class="c1">#           &quot;UInt32&quot;</span>
<span class="c1">#         ]</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         2,</span>
<span class="c1">#         &quot;Groonga&quot;,</span>
<span class="c1">#         &quot;I started to use Groonga. It&#39;s very fast!&quot;,</span>
<span class="c1">#         10</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         3,</span>
<span class="c1">#         &quot;Mroonga&quot;,</span>
<span class="c1">#         &quot;I also started to use Mroonga. It&#39;s also very fast! Really fast!&quot;,</span>
<span class="c1">#         15</span>
<span class="c1">#       ]</span>
<span class="c1">#     ]</span>
<span class="c1">#   ]</span>
<span class="c1"># ]</span>
</pre></div>
</div>
<p>The expression matches records that contain a word <code class="docutils literal notranslate"><span class="pre">fast</span></code> in
<code class="docutils literal notranslate"><span class="pre">content</span></code> column value.</p>
<p><code class="docutils literal notranslate"><span class="pre">content</span></code> column is the default match column.</p>
</div>
<div class="section" id="phrase-search-condition">
<span id="query-syntax-phrase-search-condition"></span><h3><span class="section-number">7.13.1.3.2. </span>Phrase search condition<a class="headerlink" href="#phrase-search-condition" title="Permalink to this headline">¶</a></h3>
<p>Its syntax is <code class="docutils literal notranslate"><span class="pre">&quot;search</span> <span class="pre">keyword&quot;</span></code>.</p>
<p><code class="docutils literal notranslate"><span class="pre">Phrase</span> <span class="pre">search</span> <span class="pre">condition</span></code> specifies a phrase search condition
against the default match columns.</p>
<p>You should specify the default match columns for full text
search. They can be specified by <code class="docutils literal notranslate"><span class="pre">--match_columns</span></code> option of
<a class="reference internal" href="../commands/select.html"><span class="doc">select</span></a>. If you don’t specify the default match
columns, this conditional expression fails.</p>
<p>This conditional expression does phrase search with <code class="docutils literal notranslate"><span class="pre">search</span>
<span class="pre">keyword</span></code>. Phrase search searches records that contain <code class="docutils literal notranslate"><span class="pre">search</span></code> and
<code class="docutils literal notranslate"><span class="pre">keyword</span></code> and those terms are appeared in the same order and
adjacent. Thus, <code class="docutils literal notranslate"><span class="pre">Put</span> <span class="pre">a</span> <span class="pre">search</span> <span class="pre">keyword</span> <span class="pre">in</span> <span class="pre">the</span> <span class="pre">form</span></code> is matched but
<code class="docutils literal notranslate"><span class="pre">Search</span> <span class="pre">by</span> <span class="pre">the</span> <span class="pre">keyword</span></code> and <code class="docutils literal notranslate"><span class="pre">There</span> <span class="pre">is</span> <span class="pre">a</span> <span class="pre">keyword.</span> <span class="pre">Search</span> <span class="pre">by</span> <span class="pre">it!</span></code>
aren’t matched.</p>
<p>Here is a simple example:</p>
<p>Execution example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">select</span> <span class="n">Entries</span> <span class="o">--</span><span class="n">match_columns</span> <span class="n">content</span> <span class="o">--</span><span class="n">query</span> <span class="s1">&#39;&quot;I started&quot;&#39;</span>
<span class="c1"># [</span>
<span class="c1">#   [</span>
<span class="c1">#     0,</span>
<span class="c1">#     1337566253.89858,</span>
<span class="c1">#     0.000355720520019531</span>
<span class="c1">#   ],</span>
<span class="c1">#   [</span>
<span class="c1">#     [</span>
<span class="c1">#       [</span>
<span class="c1">#         1</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;_id&quot;,</span>
<span class="c1">#           &quot;UInt32&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;_key&quot;,</span>
<span class="c1">#           &quot;ShortText&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;content&quot;,</span>
<span class="c1">#           &quot;Text&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;n_likes&quot;,</span>
<span class="c1">#           &quot;UInt32&quot;</span>
<span class="c1">#         ]</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         2,</span>
<span class="c1">#         &quot;Groonga&quot;,</span>
<span class="c1">#         &quot;I started to use Groonga. It&#39;s very fast!&quot;,</span>
<span class="c1">#         10</span>
<span class="c1">#       ]</span>
<span class="c1">#     ]</span>
<span class="c1">#   ]</span>
<span class="c1"># ]</span>
</pre></div>
</div>
<p>The expression matches records that contain a phrase <code class="docutils literal notranslate"><span class="pre">I</span> <span class="pre">started</span></code> in
<code class="docutils literal notranslate"><span class="pre">content</span></code> column value. <code class="docutils literal notranslate"><span class="pre">I</span> <span class="pre">also</span> <span class="pre">started</span></code> isn’t matched because
<code class="docutils literal notranslate"><span class="pre">I</span></code> and <code class="docutils literal notranslate"><span class="pre">started</span></code> aren’t adjacent.</p>
<p><code class="docutils literal notranslate"><span class="pre">content</span></code> column is the default match column.</p>
</div>
<div class="section" id="full-text-search-condition-with-explicit-match-column">
<span id="query-syntax-full-text-search-condition-with-explicit-match-column"></span><h3><span class="section-number">7.13.1.3.3. </span>Full text search condition (with explicit match column)<a class="headerlink" href="#full-text-search-condition-with-explicit-match-column" title="Permalink to this headline">¶</a></h3>
<p>Its syntax is <code class="docutils literal notranslate"><span class="pre">column:&#64;keyword</span></code>.</p>
<p>It’s similar to <code class="docutils literal notranslate"><span class="pre">full</span> <span class="pre">text</span> <span class="pre">search</span> <span class="pre">condition</span></code> but it doesn’t require
the default match columns. You need to specify match column for the
full text search condition by <code class="docutils literal notranslate"><span class="pre">column:</span></code> instead of
<code class="docutils literal notranslate"><span class="pre">--match_columns</span></code> option of <a class="reference internal" href="../commands/select.html"><span class="doc">select</span></a>.</p>
<p>This condtional expression is useful when you want to use two or more
full text search against different columns. The default match columns
specified by <code class="docutils literal notranslate"><span class="pre">--match_columns</span></code> option can’t be specified multiple
times. You need to specify the second match column by this conditional
expression.</p>
<p>The different between <code class="docutils literal notranslate"><span class="pre">full</span> <span class="pre">text</span> <span class="pre">search</span> <span class="pre">condition</span></code> and <code class="docutils literal notranslate"><span class="pre">full</span> <span class="pre">text</span>
<span class="pre">search</span> <span class="pre">condition</span> <span class="pre">(with</span> <span class="pre">explicit</span> <span class="pre">match</span> <span class="pre">column)</span></code> is whether advanced
match columns are supported or not. <code class="docutils literal notranslate"><span class="pre">Full</span> <span class="pre">text</span> <span class="pre">search</span> <span class="pre">condition</span></code>
supports advanced match columns but <code class="docutils literal notranslate"><span class="pre">full</span> <span class="pre">text</span> <span class="pre">search</span> <span class="pre">condition</span> <span class="pre">(with</span>
<span class="pre">explicit</span> <span class="pre">match</span> <span class="pre">column)</span></code> isn’t supported. Advanced match columns has
the following features:</p>
<ul class="simple">
<li><p>Weight is supported.</p></li>
<li><p>Using multiple columns are supported.</p></li>
<li><p>Using index column as a match column is supported.</p></li>
</ul>
<p>See description of <code class="docutils literal notranslate"><span class="pre">--match_columns</span></code> option of
<a class="reference internal" href="../commands/select.html"><span class="doc">select</span></a> about them.</p>
<p>Here is a simple example:</p>
<p>Execution example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">select</span> <span class="n">Entries</span> <span class="o">--</span><span class="n">query</span> <span class="n">content</span><span class="p">:</span><span class="nd">@fast</span>
<span class="c1"># [</span>
<span class="c1">#   [</span>
<span class="c1">#     0,</span>
<span class="c1">#     1337566253.89858,</span>
<span class="c1">#     0.000355720520019531</span>
<span class="c1">#   ],</span>
<span class="c1">#   [</span>
<span class="c1">#     [</span>
<span class="c1">#       [</span>
<span class="c1">#         2</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;_id&quot;,</span>
<span class="c1">#           &quot;UInt32&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;_key&quot;,</span>
<span class="c1">#           &quot;ShortText&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;content&quot;,</span>
<span class="c1">#           &quot;Text&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;n_likes&quot;,</span>
<span class="c1">#           &quot;UInt32&quot;</span>
<span class="c1">#         ]</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         2,</span>
<span class="c1">#         &quot;Groonga&quot;,</span>
<span class="c1">#         &quot;I started to use Groonga. It&#39;s very fast!&quot;,</span>
<span class="c1">#         10</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         3,</span>
<span class="c1">#         &quot;Mroonga&quot;,</span>
<span class="c1">#         &quot;I also started to use Mroonga. It&#39;s also very fast! Really fast!&quot;,</span>
<span class="c1">#         15</span>
<span class="c1">#       ]</span>
<span class="c1">#     ]</span>
<span class="c1">#   ]</span>
<span class="c1"># ]</span>
</pre></div>
</div>
<p>The expression matches records that contain a word <code class="docutils literal notranslate"><span class="pre">fast</span></code> in
<code class="docutils literal notranslate"><span class="pre">content</span></code> column value.</p>
</div>
<div class="section" id="phrase-search-condition-with-explicit-match-column">
<h3><span class="section-number">7.13.1.3.4. </span>Phrase search condition (with explicit match column)<a class="headerlink" href="#phrase-search-condition-with-explicit-match-column" title="Permalink to this headline">¶</a></h3>
<p>Its syntax is <code class="docutils literal notranslate"><span class="pre">column:&#64;&quot;search</span> <span class="pre">keyword&quot;</span></code>.</p>
<p>It’s similar to <code class="docutils literal notranslate"><span class="pre">phrase</span> <span class="pre">search</span> <span class="pre">condition</span></code> but it doesn’t require the
default match columns. You need to specify match column for the phrase
search condition by <code class="docutils literal notranslate"><span class="pre">column:</span></code> instead of <code class="docutils literal notranslate"><span class="pre">--match_columns</span></code> option
of <a class="reference internal" href="../commands/select.html"><span class="doc">select</span></a>.</p>
<p>The different between <code class="docutils literal notranslate"><span class="pre">phrase</span> <span class="pre">search</span> <span class="pre">condition</span></code> and <code class="docutils literal notranslate"><span class="pre">phrase</span> <span class="pre">search</span>
<span class="pre">condition</span> <span class="pre">(with</span> <span class="pre">explicit</span> <span class="pre">match</span> <span class="pre">column)</span></code> is similar to between <code class="docutils literal notranslate"><span class="pre">full</span>
<span class="pre">text</span> <span class="pre">search</span> <span class="pre">condition</span></code> and <code class="docutils literal notranslate"><span class="pre">full</span> <span class="pre">text</span> <span class="pre">search</span> <span class="pre">condition</span> <span class="pre">(with</span>
<span class="pre">explicit</span> <span class="pre">match</span> <span class="pre">column)</span></code>. <code class="docutils literal notranslate"><span class="pre">Phrase</span> <span class="pre">search</span> <span class="pre">condition</span></code> supports
advanced match columns but <code class="docutils literal notranslate"><span class="pre">phrase</span> <span class="pre">search</span> <span class="pre">condition</span> <span class="pre">(with</span> <span class="pre">explicit</span>
<span class="pre">match</span> <span class="pre">column)</span></code> isn’t supported. See description of <code class="docutils literal notranslate"><span class="pre">full</span> <span class="pre">text</span> <span class="pre">search</span>
<span class="pre">condition</span> <span class="pre">(with</span> <span class="pre">explicit</span> <span class="pre">match</span> <span class="pre">column)</span></code> about advanced match columns.</p>
<p>Here is a simple example:</p>
<p>Execution example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">select</span> <span class="n">Entries</span> <span class="o">--</span><span class="n">query</span> <span class="s1">&#39;content:@&quot;I started&quot;&#39;</span>
<span class="c1"># [</span>
<span class="c1">#   [</span>
<span class="c1">#     0,</span>
<span class="c1">#     1337566253.89858,</span>
<span class="c1">#     0.000355720520019531</span>
<span class="c1">#   ],</span>
<span class="c1">#   [</span>
<span class="c1">#     [</span>
<span class="c1">#       [</span>
<span class="c1">#         1</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;_id&quot;,</span>
<span class="c1">#           &quot;UInt32&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;_key&quot;,</span>
<span class="c1">#           &quot;ShortText&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;content&quot;,</span>
<span class="c1">#           &quot;Text&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;n_likes&quot;,</span>
<span class="c1">#           &quot;UInt32&quot;</span>
<span class="c1">#         ]</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         2,</span>
<span class="c1">#         &quot;Groonga&quot;,</span>
<span class="c1">#         &quot;I started to use Groonga. It&#39;s very fast!&quot;,</span>
<span class="c1">#         10</span>
<span class="c1">#       ]</span>
<span class="c1">#     ]</span>
<span class="c1">#   ]</span>
<span class="c1"># ]</span>
</pre></div>
</div>
<p>The expression matches records that contain a phrase <code class="docutils literal notranslate"><span class="pre">I</span> <span class="pre">started</span></code> in
<code class="docutils literal notranslate"><span class="pre">content</span></code> column value. <code class="docutils literal notranslate"><span class="pre">I</span> <span class="pre">also</span> <span class="pre">started</span></code> isn’t matched because
<code class="docutils literal notranslate"><span class="pre">I</span></code> and <code class="docutils literal notranslate"><span class="pre">started</span></code> aren’t adjacent.</p>
</div>
<div class="section" id="prefix-search-condition">
<span id="query-syntax-prefix-search-condition"></span><h3><span class="section-number">7.13.1.3.5. </span>Prefix search condition<a class="headerlink" href="#prefix-search-condition" title="Permalink to this headline">¶</a></h3>
<p>Its syntax is <code class="docutils literal notranslate"><span class="pre">column:^value</span></code> or <code class="docutils literal notranslate"><span class="pre">value*</span></code>.</p>
<p>This conditional expression does prefix search with <code class="docutils literal notranslate"><span class="pre">value</span></code>. Prefix
search searches records that contain a word that starts with <code class="docutils literal notranslate"><span class="pre">value</span></code>.</p>
<p>You can use fast prefix search against a column. The column must be
indexed and index table must be patricia trie table
(<code class="docutils literal notranslate"><span class="pre">TABLE_PAT_KEY</span></code>) or double array trie table
(<code class="docutils literal notranslate"><span class="pre">TABLE_DAT_KEY</span></code>). You can also use fast prefix search against
<code class="docutils literal notranslate"><span class="pre">_key</span></code> pseudo column of patricia trie table or double array trie
table. You don’t need to index <code class="docutils literal notranslate"><span class="pre">_key</span></code>.</p>
<p>Prefix search can be used with other table types but it causes all
records scan. It’s not problem for small records but it spends more
time for large records.</p>
<p>It doesn’t require the default match columns such as <code class="docutils literal notranslate"><span class="pre">full</span> <span class="pre">text</span>
<span class="pre">search</span> <span class="pre">condition</span></code> and <code class="docutils literal notranslate"><span class="pre">phrase</span> <span class="pre">search</span> <span class="pre">condition</span></code>.</p>
<p>Here is a simple example:</p>
<p>Execution example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">select</span> <span class="n">Entries</span> <span class="o">--</span><span class="n">query</span> <span class="s1">&#39;_key:^Goo&#39;</span>
<span class="c1"># [</span>
<span class="c1">#   [</span>
<span class="c1">#     0,</span>
<span class="c1">#     1337566253.89858,</span>
<span class="c1">#     0.000355720520019531</span>
<span class="c1">#   ],</span>
<span class="c1">#   [</span>
<span class="c1">#     [</span>
<span class="c1">#       [</span>
<span class="c1">#         2</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;_id&quot;,</span>
<span class="c1">#           &quot;UInt32&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;_key&quot;,</span>
<span class="c1">#           &quot;ShortText&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;content&quot;,</span>
<span class="c1">#           &quot;Text&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;n_likes&quot;,</span>
<span class="c1">#           &quot;UInt32&quot;</span>
<span class="c1">#         ]</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         4,</span>
<span class="c1">#         &quot;Good-bye Senna&quot;,</span>
<span class="c1">#         &quot;I migrated all Senna system!&quot;,</span>
<span class="c1">#         3</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         5,</span>
<span class="c1">#         &quot;Good-bye Tritonn&quot;,</span>
<span class="c1">#         &quot;I also migrated all Tritonn system!&quot;,</span>
<span class="c1">#         3</span>
<span class="c1">#       ]</span>
<span class="c1">#     ]</span>
<span class="c1">#   ]</span>
<span class="c1"># ]</span>
</pre></div>
</div>
<p>The expression matches records that contain a word that starts with
<code class="docutils literal notranslate"><span class="pre">Goo</span></code> in <code class="docutils literal notranslate"><span class="pre">_key</span></code> pseudo column value. <code class="docutils literal notranslate"><span class="pre">Good-bye</span> <span class="pre">Senna</span></code> and
<code class="docutils literal notranslate"><span class="pre">Good-bye</span> <span class="pre">Tritonn</span></code> are matched with the expression.</p>
</div>
<div class="section" id="suffix-search-condition">
<span id="query-syntax-suffix-search-condition"></span><h3><span class="section-number">7.13.1.3.6. </span>Suffix search condition<a class="headerlink" href="#suffix-search-condition" title="Permalink to this headline">¶</a></h3>
<p>Its syntax is <code class="docutils literal notranslate"><span class="pre">column:$value</span></code>.</p>
<p>This conditional expression does suffix search with <code class="docutils literal notranslate"><span class="pre">value</span></code>. Suffix
search searches records that contain a word that ends with <code class="docutils literal notranslate"><span class="pre">value</span></code>.</p>
<p>You can use fast suffix search against a column. The column must be
indexed and index table must be patricia trie table
(<code class="docutils literal notranslate"><span class="pre">TABLE_PAT_KEY</span></code>) with <code class="docutils literal notranslate"><span class="pre">KEY_WITH_SIS</span></code> flag. You can also use fast
suffix search against <code class="docutils literal notranslate"><span class="pre">_key</span></code> pseudo column of patricia trie table
(<code class="docutils literal notranslate"><span class="pre">TABLE_PAT_KEY</span></code>) with <code class="docutils literal notranslate"><span class="pre">KEY_WITH_SIS</span></code> flag. You don’t need to
index <code class="docutils literal notranslate"><span class="pre">_key</span></code>. We recommended that you use index column based fast
suffix search instead of <code class="docutils literal notranslate"><span class="pre">_key</span></code> based fast suffix search. <code class="docutils literal notranslate"><span class="pre">_key</span></code>
based fast suffix search returns automatically registered
substrings. (TODO: write document about suffix search and link to it
from here.)</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Fast suffix search can be used only for non-ASCII characters such
as hiragana in Japanese. You cannot use fast suffix search for
ASCII character.</p>
</div>
<p>Suffix search can be used with other table types or patricia trie
table without <code class="docutils literal notranslate"><span class="pre">KEY_WITH_SIS</span></code> flag but it causes all records
scan. It’s not problem for small records but it spends more time for
large records.</p>
<p>It doesn’t require the default match columns such as <code class="docutils literal notranslate"><span class="pre">full</span> <span class="pre">text</span>
<span class="pre">search</span> <span class="pre">condition</span></code> and <code class="docutils literal notranslate"><span class="pre">phrase</span> <span class="pre">search</span> <span class="pre">condition</span></code>.</p>
<p>Here is a simple example. It uses fast suffix search for hiragana in
Japanese that is one of non-ASCII characters.</p>
<p>Execution example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">table_create</span> <span class="n">Titles</span> <span class="n">TABLE_NO_KEY</span>
<span class="c1"># [[0, 1337566253.89858, 0.000355720520019531], true]</span>
<span class="n">column_create</span> <span class="n">Titles</span> <span class="n">content</span> <span class="n">COLUMN_SCALAR</span> <span class="n">ShortText</span>
<span class="c1"># [[0, 1337566253.89858, 0.000355720520019531], true]</span>
<span class="n">table_create</span> <span class="n">SuffixSearchTerms</span> <span class="n">TABLE_PAT_KEY</span><span class="o">|</span><span class="n">KEY_WITH_SIS</span> <span class="n">ShortText</span>
<span class="c1"># [[0, 1337566253.89858, 0.000355720520019531], true]</span>
<span class="n">column_create</span> <span class="n">SuffixSearchTerms</span> <span class="n">index</span> <span class="n">COLUMN_INDEX</span> <span class="n">Titles</span> <span class="n">content</span>
<span class="c1"># [[0, 1337566253.89858, 0.000355720520019531], true]</span>
<span class="n">load</span> <span class="o">--</span><span class="n">table</span> <span class="n">Titles</span>
<span class="p">[</span>
<span class="p">{</span><span class="s2">&quot;content&quot;</span><span class="p">:</span> <span class="s2">&quot;ぐるんが&quot;</span><span class="p">},</span>
<span class="p">{</span><span class="s2">&quot;content&quot;</span><span class="p">:</span> <span class="s2">&quot;むるんが&quot;</span><span class="p">},</span>
<span class="p">{</span><span class="s2">&quot;content&quot;</span><span class="p">:</span> <span class="s2">&quot;せな&quot;</span><span class="p">},</span>
<span class="p">{</span><span class="s2">&quot;content&quot;</span><span class="p">:</span> <span class="s2">&quot;とりとん&quot;</span><span class="p">}</span>
<span class="p">]</span>
<span class="c1"># [[0, 1337566253.89858, 0.000355720520019531], 4]</span>
<span class="n">select</span> <span class="n">Titles</span> <span class="o">--</span><span class="n">query</span> <span class="s1">&#39;content:$んが&#39;</span>
<span class="c1"># [</span>
<span class="c1">#   [</span>
<span class="c1">#     0,</span>
<span class="c1">#     1337566253.89858,</span>
<span class="c1">#     0.000355720520019531</span>
<span class="c1">#   ],</span>
<span class="c1">#   [</span>
<span class="c1">#     [</span>
<span class="c1">#       [</span>
<span class="c1">#         2</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;_id&quot;,</span>
<span class="c1">#           &quot;UInt32&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;content&quot;,</span>
<span class="c1">#           &quot;ShortText&quot;</span>
<span class="c1">#         ]</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         2,</span>
<span class="c1">#         &quot;むるんが&quot;</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         1,</span>
<span class="c1">#         &quot;ぐるんが&quot;</span>
<span class="c1">#       ]</span>
<span class="c1">#     ]</span>
<span class="c1">#   ]</span>
<span class="c1"># ]</span>
</pre></div>
</div>
<p>The expression matches records that have value that ends with <code class="docutils literal notranslate"><span class="pre">んが</span></code>
in <code class="docutils literal notranslate"><span class="pre">content</span></code> column value. <code class="docutils literal notranslate"><span class="pre">ぐるんが</span></code> and <code class="docutils literal notranslate"><span class="pre">むるんが</span></code> are matched
with the expression.</p>
</div>
<div class="section" id="near-search-condition">
<span id="query-syntax-near-search-condition"></span><h3><span class="section-number">7.13.1.3.7. </span>Near search condition<a class="headerlink" href="#near-search-condition" title="Permalink to this headline">¶</a></h3>
<p>Its syntax is <code class="docutils literal notranslate"><span class="pre">*N&quot;token1</span> <span class="pre">token2</span> <span class="pre">...&quot;</span></code>.</p>
<p>This conditional expression does near search with <code class="docutils literal notranslate"><span class="pre">token1</span></code>,
<code class="docutils literal notranslate"><span class="pre">token2</span></code> and <code class="docutils literal notranslate"><span class="pre">...</span></code>. Near search searches records that contain the
all specified tokens and there are at most 10 tokens between them. For
example, <code class="docutils literal notranslate"><span class="pre">*N&quot;a</span> <span class="pre">b</span> <span class="pre">c&quot;</span></code> matches <code class="docutils literal notranslate"><span class="pre">a</span> <span class="pre">1</span> <span class="pre">2</span> <span class="pre">3</span> <span class="pre">4</span> <span class="pre">5</span> <span class="pre">b</span> <span class="pre">6</span> <span class="pre">7</span> <span class="pre">8</span> <span class="pre">9</span> <span class="pre">10</span> <span class="pre">c</span></code> but
doesn’t match <code class="docutils literal notranslate"><span class="pre">a</span> <span class="pre">1</span> <span class="pre">2</span> <span class="pre">3</span> <span class="pre">4</span> <span class="pre">5</span> <span class="pre">b</span> <span class="pre">6</span> <span class="pre">7</span> <span class="pre">8</span> <span class="pre">9</span> <span class="pre">10</span> <span class="pre">11</span> <span class="pre">c</span></code>:</p>
<p>Execution example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">table_create</span> <span class="n">NearTokens</span> <span class="n">TABLE_NO_KEY</span>
<span class="c1"># [[0, 1337566253.89858, 0.000355720520019531], true]</span>
<span class="n">column_create</span> <span class="n">NearTokens</span> <span class="n">content</span> <span class="n">COLUMN_SCALAR</span> <span class="n">ShortText</span>
<span class="c1"># [[0, 1337566253.89858, 0.000355720520019531], true]</span>
<span class="n">table_create</span> <span class="n">NearTokenTerms</span> <span class="n">TABLE_PAT_KEY</span> <span class="n">ShortText</span> \
  <span class="o">--</span><span class="n">default_tokenizer</span> <span class="n">TokenNgram</span> \
  <span class="o">--</span><span class="n">normalizer</span> <span class="n">NormalizerNFKC130</span>
<span class="c1"># [[0, 1337566253.89858, 0.000355720520019531], true]</span>
<span class="n">column_create</span> <span class="n">NearTokenTerms</span> <span class="n">index</span> <span class="n">COLUMN_INDEX</span><span class="o">|</span><span class="n">WITH_POSITION</span> \
  <span class="n">NearTokens</span> <span class="n">content</span>
<span class="c1"># [[0, 1337566253.89858, 0.000355720520019531], true]</span>
<span class="n">load</span> <span class="o">--</span><span class="n">table</span> <span class="n">NearTokens</span>
<span class="p">[</span>
<span class="p">{</span><span class="s2">&quot;content&quot;</span><span class="p">:</span> <span class="s2">&quot;a 1 2 3 4 5 b 6 7 8 9 10 c&quot;</span><span class="p">},</span>
<span class="p">{</span><span class="s2">&quot;content&quot;</span><span class="p">:</span> <span class="s2">&quot;a 1 2 3 4 5 b 6 7 8 9 10 11 c&quot;</span><span class="p">},</span>
<span class="p">{</span><span class="s2">&quot;content&quot;</span><span class="p">:</span> <span class="s2">&quot;a 1 2 3 4 5 b 6 7 8 9 10 11 12 c&quot;</span><span class="p">}</span>
<span class="p">]</span>
<span class="c1"># [[0, 1337566253.89858, 0.000355720520019531], 3]</span>
<span class="n">select</span> <span class="n">NearTokens</span> <span class="o">--</span><span class="n">match_columns</span> <span class="n">content</span> <span class="o">--</span><span class="n">query</span> <span class="s1">&#39;*N&quot;a b c&quot;&#39;</span>
<span class="c1"># [</span>
<span class="c1">#   [</span>
<span class="c1">#     0,</span>
<span class="c1">#     1337566253.89858,</span>
<span class="c1">#     0.000355720520019531</span>
<span class="c1">#   ],</span>
<span class="c1">#   [</span>
<span class="c1">#     [</span>
<span class="c1">#       [</span>
<span class="c1">#         1</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;_id&quot;,</span>
<span class="c1">#           &quot;UInt32&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;content&quot;,</span>
<span class="c1">#           &quot;ShortText&quot;</span>
<span class="c1">#         ]</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         1,</span>
<span class="c1">#         &quot;a 1 2 3 4 5 b 6 7 8 9 10 c&quot;</span>
<span class="c1">#       ]</span>
<span class="c1">#     ]</span>
<span class="c1">#   ]</span>
<span class="c1"># ]</span>
</pre></div>
</div>
<p>Note that you must specify <code class="docutils literal notranslate"><span class="pre">WITH_POSITION</span></code> to an index column that
is used for near search. If you don’t specify <code class="docutils literal notranslate"><span class="pre">WITH_POSITION</span></code>, near
search can’t count distance correctly.</p>
<p>You can customize the max interval of the given tokens (<code class="docutils literal notranslate"><span class="pre">10</span></code> by
default) by specifying a number after <code class="docutils literal notranslate"><span class="pre">*N</span></code>. Here is an example that
uses <code class="docutils literal notranslate"><span class="pre">2</span></code> as the max interval of the given tokens:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">*</span><span class="n">N2</span><span class="s2">&quot;...&quot;</span>
</pre></div>
</div>
<p>Here is an example to customize the max interval of the given tokens:</p>
<p>Execution example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">select</span> <span class="n">NearTokens</span> <span class="o">--</span><span class="n">match_columns</span> <span class="n">content</span> <span class="o">--</span><span class="n">query</span> <span class="s1">&#39;*N11&quot;a b c&quot;&#39;</span>
<span class="c1"># [</span>
<span class="c1">#   [</span>
<span class="c1">#     0,</span>
<span class="c1">#     1337566253.89858,</span>
<span class="c1">#     0.000355720520019531</span>
<span class="c1">#   ],</span>
<span class="c1">#   [</span>
<span class="c1">#     [</span>
<span class="c1">#       [</span>
<span class="c1">#         2</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;_id&quot;,</span>
<span class="c1">#           &quot;UInt32&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;content&quot;,</span>
<span class="c1">#           &quot;ShortText&quot;</span>
<span class="c1">#         ]</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         1,</span>
<span class="c1">#         &quot;a 1 2 3 4 5 b 6 7 8 9 10 c&quot;</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         2,</span>
<span class="c1">#         &quot;a 1 2 3 4 5 b 6 7 8 9 10 11 c&quot;</span>
<span class="c1">#       ]</span>
<span class="c1">#     ]</span>
<span class="c1">#   ]</span>
<span class="c1"># ]</span>
</pre></div>
</div>
<p>To be precious, you can specify a word instead of a token for near
search. Because the passed text is tokenized before near search. A
word consists of one or more tokens. If you specify a word, it may not
work as you expected. For example, <code class="docutils literal notranslate"><span class="pre">*N&quot;a1b2c3d&quot;</span></code> matches both <code class="docutils literal notranslate"><span class="pre">a</span> <span class="pre">1</span>
<span class="pre">b</span> <span class="pre">2</span> <span class="pre">c</span> <span class="pre">3</span> <span class="pre">d</span></code> and <code class="docutils literal notranslate"><span class="pre">a</span> <span class="pre">b</span> <span class="pre">c</span> <span class="pre">d</span> <span class="pre">1</span> <span class="pre">2</span> <span class="pre">3</span></code>:</p>
<p>Execution example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">load</span> <span class="o">--</span><span class="n">table</span> <span class="n">NearTokens</span>
<span class="p">[</span>
<span class="p">{</span><span class="s2">&quot;content&quot;</span><span class="p">:</span> <span class="s2">&quot;groonga mroonga rroonga pgroonga&quot;</span><span class="p">},</span>
<span class="p">{</span><span class="s2">&quot;content&quot;</span><span class="p">:</span> <span class="s2">&quot;groonga rroonga pgroonga mroonga&quot;</span><span class="p">}</span>
<span class="p">]</span>
<span class="c1"># [[0, 1337566253.89858, 0.000355720520019531], 2]</span>
<span class="n">select</span> <span class="n">NearTokens</span> \
  <span class="o">--</span><span class="n">match_columns</span> <span class="n">content</span> \
  <span class="o">--</span><span class="n">query</span> <span class="s1">&#39;*NP&quot;</span><span class="se">\\\&quot;</span><span class="s1">groonga mroonga</span><span class="se">\\\&quot;</span><span class="s1"> pgroonga&quot;&#39;</span>
<span class="c1"># [</span>
<span class="c1">#   [</span>
<span class="c1">#     0,</span>
<span class="c1">#     1337566253.89858,</span>
<span class="c1">#     0.000355720520019531</span>
<span class="c1">#   ],</span>
<span class="c1">#   [</span>
<span class="c1">#     [</span>
<span class="c1">#       [</span>
<span class="c1">#         1</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;_id&quot;,</span>
<span class="c1">#           &quot;UInt32&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;content&quot;,</span>
<span class="c1">#           &quot;ShortText&quot;</span>
<span class="c1">#         ]</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         6,</span>
<span class="c1">#         &quot;groonga mroonga rroonga pgroonga&quot;</span>
<span class="c1">#       ]</span>
<span class="c1">#     ]</span>
<span class="c1">#   ]</span>
<span class="c1"># ]</span>
</pre></div>
</div>
<p>Because <code class="docutils literal notranslate"><span class="pre">*N&quot;a1b2c3d&quot;</span></code> equals to <code class="docutils literal notranslate"><span class="pre">*N&quot;a</span> <span class="pre">1</span> <span class="pre">b</span> <span class="pre">2</span> <span class="pre">c</span> <span class="pre">3</span> <span class="pre">d&quot;</span></code>.</p>
<p>If you want to specify words,
<a class="reference internal" href="#query-syntax-near-phrase-search-condition"><span class="std std-ref">Near phrase search condition</span></a> is what you want.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 12.0.1: </span>The max intervals of each token.</p>
</div>
<p>You can specify the max intervals of each token. The default is no
limit. It means that all intervals of each token are valid as long as
the max interval is satisfied.</p>
<p>Here is an example that use <code class="docutils literal notranslate"><span class="pre">2</span></code> for the max interval of the first
interval and <code class="docutils literal notranslate"><span class="pre">4</span></code> for the max interval of the second interval:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">*</span><span class="n">N10</span><span class="p">,</span><span class="mi">2</span><span class="o">|</span><span class="mi">4</span><span class="s2">&quot;a b c&quot;</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">10</span></code> is the max interval.</p>
<p><code class="docutils literal notranslate"><span class="pre">|</span></code> is the separator of the max intervals of each token.</p>
<p>This matches <code class="docutils literal notranslate"><span class="pre">a</span> <span class="pre">x</span> <span class="pre">b</span> <span class="pre">x</span> <span class="pre">x</span> <span class="pre">x</span> <span class="pre">c</span></code>. But this doesn’t match <code class="docutils literal notranslate"><span class="pre">a</span> <span class="pre">x</span> <span class="pre">x</span> <span class="pre">b</span> <span class="pre">c</span></code>,
<code class="docutils literal notranslate"><span class="pre">a</span> <span class="pre">b</span> <span class="pre">x</span> <span class="pre">x</span> <span class="pre">x</span> <span class="pre">x</span> <span class="pre">c</span></code> and so on because the former has <code class="docutils literal notranslate"><span class="pre">3</span></code> interval for
the first interval that is larger than <code class="docutils literal notranslate"><span class="pre">2</span></code> and the latter has <code class="docutils literal notranslate"><span class="pre">5</span></code>
interval for the second interval that is later than <code class="docutils literal notranslate"><span class="pre">4</span></code>.</p>
<p>Here is an example that specifies the max intervals of each token:</p>
<p>Execution example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">select</span> <span class="n">NearTokens</span> <span class="o">--</span><span class="n">match_columns</span> <span class="n">content</span> <span class="o">--</span><span class="n">query</span> <span class="s1">&#39;*N11,5|5&quot;a b c&quot;&#39;</span>
<span class="c1"># [</span>
<span class="c1">#   [</span>
<span class="c1">#     0,</span>
<span class="c1">#     1337566253.89858,</span>
<span class="c1">#     0.000355720520019531</span>
<span class="c1">#   ],</span>
<span class="c1">#   [</span>
<span class="c1">#     [</span>
<span class="c1">#       [</span>
<span class="c1">#         3</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;_id&quot;,</span>
<span class="c1">#           &quot;UInt32&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;content&quot;,</span>
<span class="c1">#           &quot;ShortText&quot;</span>
<span class="c1">#         ]</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         1,</span>
<span class="c1">#         &quot;a 1 2 3 4 5 b 6 7 8 9 10 c&quot;</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         4,</span>
<span class="c1">#         &quot;a 1 b 2 c 3 d&quot;</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         5,</span>
<span class="c1">#         &quot;a b c d 1 2 3&quot;</span>
<span class="c1">#       ]</span>
<span class="c1">#     ]</span>
<span class="c1">#   ]</span>
<span class="c1"># ]</span>
<span class="n">select</span> <span class="n">NearTokens</span> <span class="o">--</span><span class="n">match_columns</span> <span class="n">content</span> <span class="o">--</span><span class="n">query</span> <span class="s1">&#39;*N11,5|6&quot;a b c&quot;&#39;</span>
<span class="c1"># [</span>
<span class="c1">#   [</span>
<span class="c1">#     0,</span>
<span class="c1">#     1337566253.89858,</span>
<span class="c1">#     0.000355720520019531</span>
<span class="c1">#   ],</span>
<span class="c1">#   [</span>
<span class="c1">#     [</span>
<span class="c1">#       [</span>
<span class="c1">#         4</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;_id&quot;,</span>
<span class="c1">#           &quot;UInt32&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;content&quot;,</span>
<span class="c1">#           &quot;ShortText&quot;</span>
<span class="c1">#         ]</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         1,</span>
<span class="c1">#         &quot;a 1 2 3 4 5 b 6 7 8 9 10 c&quot;</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         2,</span>
<span class="c1">#         &quot;a 1 2 3 4 5 b 6 7 8 9 10 11 c&quot;</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         4,</span>
<span class="c1">#         &quot;a 1 b 2 c 3 d&quot;</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         5,</span>
<span class="c1">#         &quot;a b c d 1 2 3&quot;</span>
<span class="c1">#       ]</span>
<span class="c1">#     ]</span>
<span class="c1">#   ]</span>
<span class="c1"># ]</span>
</pre></div>
</div>
<p>You can omit one or more intervals. Omitted intervals are treated as
<code class="docutils literal notranslate"><span class="pre">-1</span></code>. It means that <code class="docutils literal notranslate"><span class="pre">*N11,5</span></code> equals <code class="docutils literal notranslate"><span class="pre">*N11,5|-1</span></code>. <code class="docutils literal notranslate"><span class="pre">-1</span></code> means
that no limit.</p>
<p>Here is an example that omits an interval:</p>
<p>Execution example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">select</span> <span class="n">NearTokens</span> <span class="o">--</span><span class="n">match_columns</span> <span class="n">content</span> <span class="o">--</span><span class="n">query</span> <span class="s1">&#39;*N11,5&quot;a b c&quot;&#39;</span>
<span class="c1"># [</span>
<span class="c1">#   [</span>
<span class="c1">#     0,</span>
<span class="c1">#     1337566253.89858,</span>
<span class="c1">#     0.000355720520019531</span>
<span class="c1">#   ],</span>
<span class="c1">#   [</span>
<span class="c1">#     [</span>
<span class="c1">#       [</span>
<span class="c1">#         4</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;_id&quot;,</span>
<span class="c1">#           &quot;UInt32&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;content&quot;,</span>
<span class="c1">#           &quot;ShortText&quot;</span>
<span class="c1">#         ]</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         1,</span>
<span class="c1">#         &quot;a 1 2 3 4 5 b 6 7 8 9 10 c&quot;</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         2,</span>
<span class="c1">#         &quot;a 1 2 3 4 5 b 6 7 8 9 10 11 c&quot;</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         4,</span>
<span class="c1">#         &quot;a 1 b 2 c 3 d&quot;</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         5,</span>
<span class="c1">#         &quot;a b c d 1 2 3&quot;</span>
<span class="c1">#       ]</span>
<span class="c1">#     ]</span>
<span class="c1">#   ]</span>
<span class="c1"># ]</span>
<span class="n">select</span> <span class="n">NearTokens</span> <span class="o">--</span><span class="n">match_columns</span> <span class="n">content</span> <span class="o">--</span><span class="n">query</span> <span class="s1">&#39;*N11,5|-1&quot;a b c&quot;&#39;</span>
<span class="c1"># [</span>
<span class="c1">#   [</span>
<span class="c1">#     0,</span>
<span class="c1">#     1337566253.89858,</span>
<span class="c1">#     0.000355720520019531</span>
<span class="c1">#   ],</span>
<span class="c1">#   [</span>
<span class="c1">#     [</span>
<span class="c1">#       [</span>
<span class="c1">#         4</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;_id&quot;,</span>
<span class="c1">#           &quot;UInt32&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;content&quot;,</span>
<span class="c1">#           &quot;ShortText&quot;</span>
<span class="c1">#         ]</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         1,</span>
<span class="c1">#         &quot;a 1 2 3 4 5 b 6 7 8 9 10 c&quot;</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         2,</span>
<span class="c1">#         &quot;a 1 2 3 4 5 b 6 7 8 9 10 11 c&quot;</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         4,</span>
<span class="c1">#         &quot;a 1 b 2 c 3 d&quot;</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         5,</span>
<span class="c1">#         &quot;a b c d 1 2 3&quot;</span>
<span class="c1">#       ]</span>
<span class="c1">#     ]</span>
<span class="c1">#   ]</span>
<span class="c1"># ]</span>
</pre></div>
</div>
<p>You can specify extra intervals. They are just ignored:</p>
<p>Execution example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">select</span> <span class="n">NearTokens</span> <span class="o">--</span><span class="n">match_columns</span> <span class="n">content</span> <span class="o">--</span><span class="n">query</span> <span class="s1">&#39;*N11,5|5|1|1|1&quot;a b c&quot;&#39;</span>
<span class="c1"># [</span>
<span class="c1">#   [</span>
<span class="c1">#     0,</span>
<span class="c1">#     1337566253.89858,</span>
<span class="c1">#     0.000355720520019531</span>
<span class="c1">#   ],</span>
<span class="c1">#   [</span>
<span class="c1">#     [</span>
<span class="c1">#       [</span>
<span class="c1">#         3</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;_id&quot;,</span>
<span class="c1">#           &quot;UInt32&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;content&quot;,</span>
<span class="c1">#           &quot;ShortText&quot;</span>
<span class="c1">#         ]</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         1,</span>
<span class="c1">#         &quot;a 1 2 3 4 5 b 6 7 8 9 10 c&quot;</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         4,</span>
<span class="c1">#         &quot;a 1 b 2 c 3 d&quot;</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         5,</span>
<span class="c1">#         &quot;a b c d 1 2 3&quot;</span>
<span class="c1">#       ]</span>
<span class="c1">#     ]</span>
<span class="c1">#   ]</span>
<span class="c1"># ]</span>
<span class="n">select</span> <span class="n">NearTokens</span> <span class="o">--</span><span class="n">match_columns</span> <span class="n">content</span> <span class="o">--</span><span class="n">query</span> <span class="s1">&#39;*N11,5|5&quot;a b c&quot;&#39;</span>
<span class="c1"># [</span>
<span class="c1">#   [</span>
<span class="c1">#     0,</span>
<span class="c1">#     1337566253.89858,</span>
<span class="c1">#     0.000355720520019531</span>
<span class="c1">#   ],</span>
<span class="c1">#   [</span>
<span class="c1">#     [</span>
<span class="c1">#       [</span>
<span class="c1">#         3</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;_id&quot;,</span>
<span class="c1">#           &quot;UInt32&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;content&quot;,</span>
<span class="c1">#           &quot;ShortText&quot;</span>
<span class="c1">#         ]</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         1,</span>
<span class="c1">#         &quot;a 1 2 3 4 5 b 6 7 8 9 10 c&quot;</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         4,</span>
<span class="c1">#         &quot;a 1 b 2 c 3 d&quot;</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         5,</span>
<span class="c1">#         &quot;a b c d 1 2 3&quot;</span>
<span class="c1">#       ]</span>
<span class="c1">#     ]</span>
<span class="c1">#   ]</span>
<span class="c1"># ]</span>
</pre></div>
</div>
</div>
<div class="section" id="near-phrase-search-condition">
<span id="query-syntax-near-phrase-search-condition"></span><h3><span class="section-number">7.13.1.3.8. </span>Near phrase search condition<a class="headerlink" href="#near-phrase-search-condition" title="Permalink to this headline">¶</a></h3>
<p>Its syntax is <code class="docutils literal notranslate"><span class="pre">*NP&quot;phrase1</span> <span class="pre">phrase2</span> <span class="pre">...&quot;</span></code>.</p>
<p>This conditional expression does near phrase search with <code class="docutils literal notranslate"><span class="pre">phrase1</span></code>,
<code class="docutils literal notranslate"><span class="pre">phrase2</span></code> and <code class="docutils literal notranslate"><span class="pre">...</span></code>. Near phrase search searches records that
contain the all specified phrases and there are at most 10 tokens
between them. For example, <code class="docutils literal notranslate"><span class="pre">*NP&quot;a1b2c3d&quot;</span></code> matches <code class="docutils literal notranslate"><span class="pre">a</span> <span class="pre">1</span> <span class="pre">b</span> <span class="pre">2</span> <span class="pre">c</span> <span class="pre">3</span> <span class="pre">d</span></code>
but doesn’t match <code class="docutils literal notranslate"><span class="pre">a</span> <span class="pre">b</span> <span class="pre">c</span> <span class="pre">d</span> <span class="pre">1</span> <span class="pre">2</span> <span class="pre">3</span></code>. Because the latter uses different
order:</p>
<p>Execution example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">select</span> <span class="n">NearTokens</span> <span class="o">--</span><span class="n">match_columns</span> <span class="n">content</span> <span class="o">--</span><span class="n">query</span> <span class="s1">&#39;*NP&quot;a1b2c3d&quot;&#39;</span>
<span class="c1"># [</span>
<span class="c1">#   [</span>
<span class="c1">#     0,</span>
<span class="c1">#     1337566253.89858,</span>
<span class="c1">#     0.000355720520019531</span>
<span class="c1">#   ],</span>
<span class="c1">#   [</span>
<span class="c1">#     [</span>
<span class="c1">#       [</span>
<span class="c1">#         1</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;_id&quot;,</span>
<span class="c1">#           &quot;UInt32&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;content&quot;,</span>
<span class="c1">#           &quot;ShortText&quot;</span>
<span class="c1">#         ]</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         4,</span>
<span class="c1">#         &quot;a 1 b 2 c 3 d&quot;</span>
<span class="c1">#       ]</span>
<span class="c1">#     ]</span>
<span class="c1">#   ]</span>
<span class="c1"># ]</span>
</pre></div>
</div>
<p>You can use a phrase that includes spaces by quoting such as
<code class="docutils literal notranslate"><span class="pre">*NP&quot;\&quot;groonga</span> <span class="pre">mroonga\&quot;</span> <span class="pre">pgroonga&quot;</span></code>. Note that you need to escape
<code class="docutils literal notranslate"><span class="pre">\&quot;</span></code> in command syntax such as <code class="docutils literal notranslate"><span class="pre">*NP&quot;\\\&quot;groonga</span> <span class="pre">mroonga\\\&quot;</span>
<span class="pre">pgroonga&quot;</span></code>. This query matches <code class="docutils literal notranslate"><span class="pre">groonga</span> <span class="pre">mroonga</span> <span class="pre">pgroonga</span></code> but
doesn’t match <code class="docutils literal notranslate"><span class="pre">groonga</span> <span class="pre">pgroonga</span> <span class="pre">mroonga</span></code> because <code class="docutils literal notranslate"><span class="pre">mroonga</span></code> isn’t
right after <code class="docutils literal notranslate"><span class="pre">groonga</span></code>:</p>
<p>Execution example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">load</span> <span class="o">--</span><span class="n">table</span> <span class="n">NearTokens</span>
<span class="p">[</span>
<span class="p">{</span><span class="s2">&quot;content&quot;</span><span class="p">:</span> <span class="s2">&quot;groonga mroonga rroonga pgroonga&quot;</span><span class="p">},</span>
<span class="p">{</span><span class="s2">&quot;content&quot;</span><span class="p">:</span> <span class="s2">&quot;groonga rroonga pgroonga mroonga&quot;</span><span class="p">}</span>
<span class="p">]</span>
<span class="c1"># [[0, 1337566253.89858, 0.000355720520019531], 2]</span>
<span class="n">select</span> <span class="n">NearTokens</span> \
  <span class="o">--</span><span class="n">match_columns</span> <span class="n">content</span> \
  <span class="o">--</span><span class="n">query</span> <span class="s1">&#39;*NP&quot;</span><span class="se">\\\&quot;</span><span class="s1">groonga mroonga</span><span class="se">\\\&quot;</span><span class="s1"> pgroonga&quot;&#39;</span>
<span class="c1"># [</span>
<span class="c1">#   [</span>
<span class="c1">#     0,</span>
<span class="c1">#     1337566253.89858,</span>
<span class="c1">#     0.000355720520019531</span>
<span class="c1">#   ],</span>
<span class="c1">#   [</span>
<span class="c1">#     [</span>
<span class="c1">#       [</span>
<span class="c1">#         1</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;_id&quot;,</span>
<span class="c1">#           &quot;UInt32&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;content&quot;,</span>
<span class="c1">#           &quot;ShortText&quot;</span>
<span class="c1">#         ]</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         6,</span>
<span class="c1">#         &quot;groonga mroonga rroonga pgroonga&quot;</span>
<span class="c1">#       ]</span>
<span class="c1">#     ]</span>
<span class="c1">#   ]</span>
<span class="c1"># ]</span>
</pre></div>
</div>
<p>You can customize the max interval of the given phrases (<code class="docutils literal notranslate"><span class="pre">10</span></code> by
default) by specifying a number after <code class="docutils literal notranslate"><span class="pre">*NP</span></code>. Here is an example that
uses <code class="docutils literal notranslate"><span class="pre">2</span></code> as the max interval of the given phrases:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">*</span><span class="n">NP2</span><span class="s2">&quot;...&quot;</span>
</pre></div>
</div>
<p>Here is an example to customize the max interval of the given phrases:</p>
<p>Execution example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">select</span> <span class="n">NearTokens</span> <span class="o">--</span><span class="n">match_columns</span> <span class="n">content</span> <span class="o">--</span><span class="n">query</span> <span class="s1">&#39;*NP1&quot;groonga pgroonga&quot;&#39;</span>
<span class="c1"># [</span>
<span class="c1">#   [</span>
<span class="c1">#     0,</span>
<span class="c1">#     1337566253.89858,</span>
<span class="c1">#     0.000355720520019531</span>
<span class="c1">#   ],</span>
<span class="c1">#   [</span>
<span class="c1">#     [</span>
<span class="c1">#       [</span>
<span class="c1">#         0</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;_id&quot;,</span>
<span class="c1">#           &quot;UInt32&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;content&quot;,</span>
<span class="c1">#           &quot;ShortText&quot;</span>
<span class="c1">#         ]</span>
<span class="c1">#       ]</span>
<span class="c1">#     ]</span>
<span class="c1">#   ]</span>
<span class="c1"># ]</span>
</pre></div>
</div>
<p>You can use additional interval only for the last phrase. It means
that you can accept more distance only between the second to last
phrase and the last phrase. This is useful for implementing a near
phrase search in the same sentence. If you specify <code class="docutils literal notranslate"><span class="pre">.</span></code> (sentence end
phrase) as the last phrase and specify <code class="docutils literal notranslate"><span class="pre">-1</span></code> as the additional last
interval, the other specified phrases must be appeared before
<code class="docutils literal notranslate"><span class="pre">.</span></code>. You must append <code class="docutils literal notranslate"><span class="pre">$</span></code> to the last phrase like <code class="docutils literal notranslate"><span class="pre">.$</span></code>.</p>
<p>Here is an example that uses <code class="docutils literal notranslate"><span class="pre">-1</span></code> as the additional last interval of
the given phrases:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">*</span><span class="n">NP10</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="s2">&quot;a b .$&quot;</span>
</pre></div>
</div>
<p>Here is an example to customize the additional last interval of the
given phrases:</p>
<p>Execution example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">load</span> <span class="o">--</span><span class="n">table</span> <span class="n">NearTokens</span>
<span class="p">[</span>
<span class="p">{</span><span class="s2">&quot;content&quot;</span><span class="p">:</span> <span class="s2">&quot;x 1 y 2 3 4 . x 1 2 y 3 z 4 5 6 7 .&quot;</span><span class="p">},</span>
<span class="p">{</span><span class="s2">&quot;content&quot;</span><span class="p">:</span> <span class="s2">&quot;x 1 2 y 3 4 . x 1 2 y 3 z 4 5 6 7 .&quot;</span><span class="p">},</span>
<span class="p">{</span><span class="s2">&quot;content&quot;</span><span class="p">:</span> <span class="s2">&quot;x 1 2 3 y 4 . x 1 y 2 z 3 4 5 6 7 .&quot;</span><span class="p">},</span>
<span class="p">]</span>
<span class="c1"># [[0, 1337566253.89858, 0.000355720520019531], 3]</span>
<span class="n">select</span> <span class="n">NearTokens</span> <span class="o">--</span><span class="n">match_columns</span> <span class="n">content</span> <span class="o">--</span><span class="n">query</span> <span class="s1">&#39;*NP2,-1&quot;x y .$&quot;&#39;</span>
<span class="c1"># [</span>
<span class="c1">#   [</span>
<span class="c1">#     0,</span>
<span class="c1">#     1337566253.89858,</span>
<span class="c1">#     0.000355720520019531</span>
<span class="c1">#   ],</span>
<span class="c1">#   [</span>
<span class="c1">#     [</span>
<span class="c1">#       [</span>
<span class="c1">#         2</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;_id&quot;,</span>
<span class="c1">#           &quot;UInt32&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;content&quot;,</span>
<span class="c1">#           &quot;ShortText&quot;</span>
<span class="c1">#         ]</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         8,</span>
<span class="c1">#         &quot;x 1 y 2 3 4 . x 1 2 y 3 z 4 5 6 7 .&quot;</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         10,</span>
<span class="c1">#         &quot;x 1 2 3 y 4 . x 1 y 2 z 3 4 5 6 7 .&quot;</span>
<span class="c1">#       ]</span>
<span class="c1">#     ]</span>
<span class="c1">#   ]</span>
<span class="c1"># ]</span>
</pre></div>
</div>
<p>You can also use positive number for the additional last interval. If
you specify positive number as the additional last interval, all of
the following conditions must be satisfied:</p>
<ol class="arabic simple">
<li><p>The interval between the first phrase and the second to last
phrase is less than or equals to <code class="docutils literal notranslate"><span class="pre">the</span> <span class="pre">max</span> <span class="pre">interval</span></code>.</p></li>
<li><p>The interval between the first phrase and the last phrase is less
than or equals to <code class="docutils literal notranslate"><span class="pre">the</span> <span class="pre">max</span> <span class="pre">interval</span></code> + <code class="docutils literal notranslate"><span class="pre">the</span> <span class="pre">additional</span> <span class="pre">last</span>
<span class="pre">interval</span></code>.</p></li>
</ol>
<p>If you specify negative number as the additional last interval, the
second condition isn’t required. Appearing the last phrase is just
needed.</p>
<p>Here is an example to use positive number as the additional last interval:</p>
<p>Execution example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">select</span> <span class="n">NearTokens</span> <span class="o">--</span><span class="n">match_columns</span> <span class="n">content</span> <span class="o">--</span><span class="n">query</span> <span class="s1">&#39;*NP2,4&quot;x y .$&quot;&#39;</span>
<span class="c1"># [</span>
<span class="c1">#   [</span>
<span class="c1">#     0,</span>
<span class="c1">#     1337566253.89858,</span>
<span class="c1">#     0.000355720520019531</span>
<span class="c1">#   ],</span>
<span class="c1">#   [</span>
<span class="c1">#     [</span>
<span class="c1">#       [</span>
<span class="c1">#         1</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;_id&quot;,</span>
<span class="c1">#           &quot;UInt32&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;content&quot;,</span>
<span class="c1">#           &quot;ShortText&quot;</span>
<span class="c1">#         ]</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         8,</span>
<span class="c1">#         &quot;x 1 y 2 3 4 . x 1 2 y 3 z 4 5 6 7 .&quot;</span>
<span class="c1">#       ]</span>
<span class="c1">#     ]</span>
<span class="c1">#   ]</span>
<span class="c1"># ]</span>
</pre></div>
</div>
<div class="versionadded">
<p><span class="versionmodified added">New in version 12.0.1: </span>The max intervals of each phrase.</p>
</div>
<p>You can also specify the max intervals of each phrase like
<a class="reference internal" href="#query-syntax-near-search-condition"><span class="std std-ref">Near search condition</span></a>.</p>
<p>Here is an example:</p>
<p>Execution example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">select</span> <span class="n">NearTokens</span> <span class="o">--</span><span class="n">match_columns</span> <span class="n">content</span> <span class="o">--</span><span class="n">query</span> <span class="s1">&#39;*NP11,0,5|5&quot;a b c&quot;&#39;</span>
<span class="c1"># [</span>
<span class="c1">#   [</span>
<span class="c1">#     0,</span>
<span class="c1">#     1337566253.89858,</span>
<span class="c1">#     0.000355720520019531</span>
<span class="c1">#   ],</span>
<span class="c1">#   [</span>
<span class="c1">#     [</span>
<span class="c1">#       [</span>
<span class="c1">#         2</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;_id&quot;,</span>
<span class="c1">#           &quot;UInt32&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;content&quot;,</span>
<span class="c1">#           &quot;ShortText&quot;</span>
<span class="c1">#         ]</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         4,</span>
<span class="c1">#         &quot;a 1 b 2 c 3 d&quot;</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         5,</span>
<span class="c1">#         &quot;a b c d 1 2 3&quot;</span>
<span class="c1">#       ]</span>
<span class="c1">#     ]</span>
<span class="c1">#   ]</span>
<span class="c1"># ]</span>
<span class="n">select</span> <span class="n">NearTokens</span> <span class="o">--</span><span class="n">match_columns</span> <span class="n">content</span> <span class="o">--</span><span class="n">query</span> <span class="s1">&#39;*NP11,0,5|6&quot;a b c&quot;&#39;</span>
<span class="c1"># [</span>
<span class="c1">#   [</span>
<span class="c1">#     0,</span>
<span class="c1">#     1337566253.89858,</span>
<span class="c1">#     0.000355720520019531</span>
<span class="c1">#   ],</span>
<span class="c1">#   [</span>
<span class="c1">#     [</span>
<span class="c1">#       [</span>
<span class="c1">#         2</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;_id&quot;,</span>
<span class="c1">#           &quot;UInt32&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;content&quot;,</span>
<span class="c1">#           &quot;ShortText&quot;</span>
<span class="c1">#         ]</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         4,</span>
<span class="c1">#         &quot;a 1 b 2 c 3 d&quot;</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         5,</span>
<span class="c1">#         &quot;a b c d 1 2 3&quot;</span>
<span class="c1">#       ]</span>
<span class="c1">#     ]</span>
<span class="c1">#   ]</span>
<span class="c1"># ]</span>
</pre></div>
</div>
</div>
<div class="section" id="near-phrase-product-search-condition">
<span id="query-syntax-near-phrase-product-search-condition"></span><h3><span class="section-number">7.13.1.3.9. </span>Near phrase product search condition<a class="headerlink" href="#near-phrase-product-search-condition" title="Permalink to this headline">¶</a></h3>
<div class="versionadded">
<p><span class="versionmodified added">New in version 11.1.1.</span></p>
</div>
<p>Its syntax is <code class="docutils literal notranslate"><span class="pre">*NPP&quot;(phrase1_1</span> <span class="pre">phrase1_2</span> <span class="pre">...)</span> <span class="pre">(phrase2_1</span> <span class="pre">phrase2_2</span>
<span class="pre">...)</span> <span class="pre">...&quot;</span></code>.</p>
<p>This conditional expression does multiple
<a class="reference internal" href="#query-syntax-near-phrase-search-condition"><span class="std std-ref">Near phrase search condition</span></a>. Phrases for each
<a class="reference internal" href="#query-syntax-near-phrase-search-condition"><span class="std std-ref">Near phrase search condition</span></a> are computed as
product of <code class="docutils literal notranslate"><span class="pre">{phrase1_1,</span> <span class="pre">phrase1_2,</span> <span class="pre">...}</span></code>, <code class="docutils literal notranslate"><span class="pre">{phrase2_1,</span> <span class="pre">phrase2_2,</span>
<span class="pre">...}</span></code> and <code class="docutils literal notranslate"><span class="pre">...</span></code>. For example, <code class="docutils literal notranslate"><span class="pre">*NPP&quot;(a</span> <span class="pre">b</span> <span class="pre">c)</span> <span class="pre">(d</span> <span class="pre">e)&quot;</span></code> uses the
following phrases for near phrase searches:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">a</span> <span class="pre">d</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">a</span> <span class="pre">e</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">b</span> <span class="pre">d</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">b</span> <span class="pre">e</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">c</span> <span class="pre">d</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">c</span> <span class="pre">e</span></code></p></li>
</ul>
<p>Here is a simple example:</p>
<p>Execution example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">select</span> <span class="n">NearTokens</span> <span class="o">--</span><span class="n">match_columns</span> <span class="n">content</span> <span class="o">--</span><span class="n">query</span> <span class="s1">&#39;*NPP&quot;(a x) (b y)&quot;&#39;</span>
<span class="c1"># [</span>
<span class="c1">#   [</span>
<span class="c1">#     0,</span>
<span class="c1">#     1337566253.89858,</span>
<span class="c1">#     0.000355720520019531</span>
<span class="c1">#   ],</span>
<span class="c1">#   [</span>
<span class="c1">#     [</span>
<span class="c1">#       [</span>
<span class="c1">#         8</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;_id&quot;,</span>
<span class="c1">#           &quot;UInt32&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;content&quot;,</span>
<span class="c1">#           &quot;ShortText&quot;</span>
<span class="c1">#         ]</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         1,</span>
<span class="c1">#         &quot;a 1 2 3 4 5 b 6 7 8 9 10 c&quot;</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         2,</span>
<span class="c1">#         &quot;a 1 2 3 4 5 b 6 7 8 9 10 11 c&quot;</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         3,</span>
<span class="c1">#         &quot;a 1 2 3 4 5 b 6 7 8 9 10 11 12 c&quot;</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         4,</span>
<span class="c1">#         &quot;a 1 b 2 c 3 d&quot;</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         5,</span>
<span class="c1">#         &quot;a b c d 1 2 3&quot;</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         8,</span>
<span class="c1">#         &quot;x 1 y 2 3 4 . x 1 2 y 3 z 4 5 6 7 .&quot;</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         9,</span>
<span class="c1">#         &quot;x 1 2 y 3 4 . x 1 2 y 3 z 4 5 6 7 .&quot;</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         10,</span>
<span class="c1">#         &quot;x 1 2 3 y 4 . x 1 y 2 z 3 4 5 6 7 .&quot;</span>
<span class="c1">#       ]</span>
<span class="c1">#     ]</span>
<span class="c1">#   ]</span>
<span class="c1"># ]</span>
</pre></div>
</div>
<p>You can use the all features of
<a class="reference internal" href="#query-syntax-near-phrase-search-condition"><span class="std std-ref">Near phrase search condition</span></a> such as the max
interval, <code class="docutils literal notranslate"><span class="pre">$</span></code> for the last phrase and the additional last
interval.</p>
<p>Execution example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">select</span> <span class="n">NearTokens</span> <span class="o">--</span><span class="n">match_columns</span> <span class="n">content</span> <span class="o">--</span><span class="n">query</span> <span class="s1">&#39;*NPP2,-1&quot;(a x) (b c y) (d$ .$)&quot;&#39;</span>
<span class="c1"># [</span>
<span class="c1">#   [</span>
<span class="c1">#     0,</span>
<span class="c1">#     1337566253.89858,</span>
<span class="c1">#     0.000355720520019531</span>
<span class="c1">#   ],</span>
<span class="c1">#   [</span>
<span class="c1">#     [</span>
<span class="c1">#       [</span>
<span class="c1">#         4</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;_id&quot;,</span>
<span class="c1">#           &quot;UInt32&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;content&quot;,</span>
<span class="c1">#           &quot;ShortText&quot;</span>
<span class="c1">#         ]</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         4,</span>
<span class="c1">#         &quot;a 1 b 2 c 3 d&quot;</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         5,</span>
<span class="c1">#         &quot;a b c d 1 2 3&quot;</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         8,</span>
<span class="c1">#         &quot;x 1 y 2 3 4 . x 1 2 y 3 z 4 5 6 7 .&quot;</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         10,</span>
<span class="c1">#         &quot;x 1 2 3 y 4 . x 1 y 2 z 3 4 5 6 7 .&quot;</span>
<span class="c1">#       ]</span>
<span class="c1">#     ]</span>
<span class="c1">#   ]</span>
<span class="c1"># ]</span>
</pre></div>
</div>
<div class="versionadded">
<p><span class="versionmodified added">New in version 12.0.1: </span>The max intervals of each phrase.</p>
</div>
<p>You can also specify the max intervals of each phrase like
<a class="reference internal" href="#query-syntax-near-search-condition"><span class="std std-ref">Near search condition</span></a>.</p>
<p>Here is an example:</p>
<p>Execution example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">select</span> <span class="n">NearTokens</span> <span class="o">--</span><span class="n">match_columns</span> <span class="n">content</span> <span class="o">--</span><span class="n">query</span> <span class="s1">&#39;*NPP11,0,5|5&quot;(a x) (b y) (c z)&quot;&#39;</span>
<span class="c1"># [</span>
<span class="c1">#   [</span>
<span class="c1">#     0,</span>
<span class="c1">#     1337566253.89858,</span>
<span class="c1">#     0.000355720520019531</span>
<span class="c1">#   ],</span>
<span class="c1">#   [</span>
<span class="c1">#     [</span>
<span class="c1">#       [</span>
<span class="c1">#         5</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;_id&quot;,</span>
<span class="c1">#           &quot;UInt32&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;content&quot;,</span>
<span class="c1">#           &quot;ShortText&quot;</span>
<span class="c1">#         ]</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         4,</span>
<span class="c1">#         &quot;a 1 b 2 c 3 d&quot;</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         5,</span>
<span class="c1">#         &quot;a b c d 1 2 3&quot;</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         8,</span>
<span class="c1">#         &quot;x 1 y 2 3 4 . x 1 2 y 3 z 4 5 6 7 .&quot;</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         9,</span>
<span class="c1">#         &quot;x 1 2 y 3 4 . x 1 2 y 3 z 4 5 6 7 .&quot;</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         10,</span>
<span class="c1">#         &quot;x 1 2 3 y 4 . x 1 y 2 z 3 4 5 6 7 .&quot;</span>
<span class="c1">#       ]</span>
<span class="c1">#     ]</span>
<span class="c1">#   ]</span>
<span class="c1"># ]</span>
<span class="n">select</span> <span class="n">NearTokens</span> <span class="o">--</span><span class="n">match_columns</span> <span class="n">content</span> <span class="o">--</span><span class="n">query</span> <span class="s1">&#39;*NPP11,0,5|6&quot;(a x) (b y) (c z)&quot;&#39;</span>
<span class="c1"># [</span>
<span class="c1">#   [</span>
<span class="c1">#     0,</span>
<span class="c1">#     1337566253.89858,</span>
<span class="c1">#     0.000355720520019531</span>
<span class="c1">#   ],</span>
<span class="c1">#   [</span>
<span class="c1">#     [</span>
<span class="c1">#       [</span>
<span class="c1">#         5</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;_id&quot;,</span>
<span class="c1">#           &quot;UInt32&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;content&quot;,</span>
<span class="c1">#           &quot;ShortText&quot;</span>
<span class="c1">#         ]</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         4,</span>
<span class="c1">#         &quot;a 1 b 2 c 3 d&quot;</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         5,</span>
<span class="c1">#         &quot;a b c d 1 2 3&quot;</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         8,</span>
<span class="c1">#         &quot;x 1 y 2 3 4 . x 1 2 y 3 z 4 5 6 7 .&quot;</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         9,</span>
<span class="c1">#         &quot;x 1 2 y 3 4 . x 1 2 y 3 z 4 5 6 7 .&quot;</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         10,</span>
<span class="c1">#         &quot;x 1 2 3 y 4 . x 1 y 2 z 3 4 5 6 7 .&quot;</span>
<span class="c1">#       ]</span>
<span class="c1">#     ]</span>
<span class="c1">#   ]</span>
<span class="c1"># ]</span>
</pre></div>
</div>
<p>This is more effective than multiple
<a class="reference internal" href="#query-syntax-near-phrase-search-condition"><span class="std std-ref">Near phrase search condition</span></a> .</p>
</div>
<div class="section" id="ordered-near-phrase-search-condition">
<span id="query-syntax-ordered-near-phrase-search-condition"></span><h3><span class="section-number">7.13.1.3.10. </span>Ordered near phrase search condition<a class="headerlink" href="#ordered-near-phrase-search-condition" title="Permalink to this headline">¶</a></h3>
<div class="versionadded">
<p><span class="versionmodified added">New in version 11.0.9.</span></p>
</div>
<p>It’s syntax is <code class="docutils literal notranslate"><span class="pre">*ONP&quot;phrase1</span> <span class="pre">phrase2</span> <span class="pre">...&quot;</span></code></p>
<p>This conditional expression does ordered near phrase search with
<code class="docutils literal notranslate"><span class="pre">phrase1</span></code>, <code class="docutils literal notranslate"><span class="pre">phrase2</span></code> and <code class="docutils literal notranslate"><span class="pre">...</span></code>. Ordered near phrase search is
similar to <a class="reference internal" href="#query-syntax-near-phrase-search-condition"><span class="std std-ref">Near phrase search condition</span></a> but
ordered near phrase search checks phrases order. For example,
<code class="docutils literal notranslate"><span class="pre">*ONP&quot;groonga</span> <span class="pre">mroonga</span> <span class="pre">pgroonga&quot;</span></code> matches <code class="docutils literal notranslate"><span class="pre">groonga</span> <span class="pre">mroonga</span> <span class="pre">rroonga</span>
<span class="pre">pgroonga</span></code> but doesn’t match <code class="docutils literal notranslate"><span class="pre">groonga</span> <span class="pre">rroonga</span> <span class="pre">pgroonga</span>
<span class="pre">mroonga</span></code>. Because the latter uses different order:</p>
<p>Execution example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">select</span> <span class="n">NearTokens</span> \
  <span class="o">--</span><span class="n">match_columns</span> <span class="n">content</span> \
  <span class="o">--</span><span class="n">query</span> <span class="s1">&#39;*ONP&quot;groonga mroonga pgroonga&quot;&#39;</span>
<span class="c1"># [</span>
<span class="c1">#   [</span>
<span class="c1">#     0,</span>
<span class="c1">#     1337566253.89858,</span>
<span class="c1">#     0.000355720520019531</span>
<span class="c1">#   ],</span>
<span class="c1">#   [</span>
<span class="c1">#     [</span>
<span class="c1">#       [</span>
<span class="c1">#         1</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;_id&quot;,</span>
<span class="c1">#           &quot;UInt32&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;content&quot;,</span>
<span class="c1">#           &quot;ShortText&quot;</span>
<span class="c1">#         ]</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         6,</span>
<span class="c1">#         &quot;groonga mroonga rroonga pgroonga&quot;</span>
<span class="c1">#       ]</span>
<span class="c1">#     ]</span>
<span class="c1">#   ]</span>
<span class="c1"># ]</span>
</pre></div>
</div>
<p>You can use the all features of
<a class="reference internal" href="#query-syntax-near-phrase-search-condition"><span class="std std-ref">Near phrase search condition</span></a> such as the max
interval and the additional last interval. But you don’t need to
specify <code class="docutils literal notranslate"><span class="pre">$</span></code> for the last phrase because the last phrase in query is
the last phrase.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 12.0.1: </span>The max intervals of each phrase.</p>
</div>
<p>You can also specify the max intervals of each phrase like
<a class="reference internal" href="#query-syntax-near-search-condition"><span class="std std-ref">Near search condition</span></a>.</p>
</div>
<div class="section" id="ordered-near-phrase-product-search-condition">
<span id="query-syntax-ordered-near-phrase-product-search-condition"></span><h3><span class="section-number">7.13.1.3.11. </span>Ordered near phrase product search condition<a class="headerlink" href="#ordered-near-phrase-product-search-condition" title="Permalink to this headline">¶</a></h3>
<div class="versionadded">
<p><span class="versionmodified added">New in version 11.1.1.</span></p>
</div>
<p>Its syntax is <code class="docutils literal notranslate"><span class="pre">*ONPP&quot;(phrase1_1</span> <span class="pre">phrase1_2</span> <span class="pre">...)</span> <span class="pre">(phrase2_1</span> <span class="pre">phrase2_2</span>
<span class="pre">...)</span> <span class="pre">...&quot;</span></code>.</p>
<p>This conditional expression does ordered near phrase product
search. Ordered near phrase product search is similar to
<a class="reference internal" href="#query-syntax-near-phrase-product-search-condition"><span class="std std-ref">Near phrase product search condition</span></a> but ordered
near phrase product search checks phrases order like
<a class="reference internal" href="#query-syntax-ordered-near-phrase-search-condition"><span class="std std-ref">Ordered near phrase search condition</span></a>. For example,
<code class="docutils literal notranslate"><span class="pre">*ONPP&quot;(a</span> <span class="pre">b</span> <span class="pre">c)</span> <span class="pre">(d</span> <span class="pre">e)&quot;</span></code> matches <code class="docutils literal notranslate"><span class="pre">a</span> <span class="pre">1</span> <span class="pre">d</span></code> but doesn’t match <code class="docutils literal notranslate"><span class="pre">d</span> <span class="pre">1</span>
<span class="pre">a</span></code>. Because the latter uses different order.</p>
<p>Here is a simple example:</p>
<p>Execution example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">select</span> <span class="n">NearTokens</span> \
  <span class="o">--</span><span class="n">match_columns</span> <span class="n">content</span> \
  <span class="o">--</span><span class="n">query</span> <span class="s1">&#39;*ONPP&quot;(a x) (b y)&quot;&#39;</span>
<span class="c1"># [</span>
<span class="c1">#   [</span>
<span class="c1">#     0,</span>
<span class="c1">#     1337566253.89858,</span>
<span class="c1">#     0.000355720520019531</span>
<span class="c1">#   ],</span>
<span class="c1">#   [</span>
<span class="c1">#     [</span>
<span class="c1">#       [</span>
<span class="c1">#         8</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;_id&quot;,</span>
<span class="c1">#           &quot;UInt32&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;content&quot;,</span>
<span class="c1">#           &quot;ShortText&quot;</span>
<span class="c1">#         ]</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         1,</span>
<span class="c1">#         &quot;a 1 2 3 4 5 b 6 7 8 9 10 c&quot;</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         2,</span>
<span class="c1">#         &quot;a 1 2 3 4 5 b 6 7 8 9 10 11 c&quot;</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         3,</span>
<span class="c1">#         &quot;a 1 2 3 4 5 b 6 7 8 9 10 11 12 c&quot;</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         4,</span>
<span class="c1">#         &quot;a 1 b 2 c 3 d&quot;</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         5,</span>
<span class="c1">#         &quot;a b c d 1 2 3&quot;</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         8,</span>
<span class="c1">#         &quot;x 1 y 2 3 4 . x 1 2 y 3 z 4 5 6 7 .&quot;</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         9,</span>
<span class="c1">#         &quot;x 1 2 y 3 4 . x 1 2 y 3 z 4 5 6 7 .&quot;</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         10,</span>
<span class="c1">#         &quot;x 1 2 3 y 4 . x 1 y 2 z 3 4 5 6 7 .&quot;</span>
<span class="c1">#       ]</span>
<span class="c1">#     ]</span>
<span class="c1">#   ]</span>
<span class="c1"># ]</span>
</pre></div>
</div>
<p>You can use the all features of
<a class="reference internal" href="#query-syntax-near-phrase-search-condition"><span class="std std-ref">Near phrase search condition</span></a> such as the max
interval and the additional last interval. But you don’t need to
specify <code class="docutils literal notranslate"><span class="pre">$</span></code> for the last phrase because the last phrase in query is
the last phrase.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 12.0.1: </span>The max intervals of each phrase.</p>
</div>
<p>You can also specify the max intervals of each phrase like
<a class="reference internal" href="#query-syntax-near-search-condition"><span class="std std-ref">Near search condition</span></a>.</p>
</div>
<div class="section" id="similar-search-condition">
<span id="query-syntax-similar-search-condition"></span><h3><span class="section-number">7.13.1.3.12. </span>Similar search condition<a class="headerlink" href="#similar-search-condition" title="Permalink to this headline">¶</a></h3>
<p>TODO</p>
</div>
<div class="section" id="equal-condition">
<span id="query-syntax-equal-condition"></span><h3><span class="section-number">7.13.1.3.13. </span>Equal condition<a class="headerlink" href="#equal-condition" title="Permalink to this headline">¶</a></h3>
<p>Its syntax is <code class="docutils literal notranslate"><span class="pre">column:value</span></code>.</p>
<p>It matches records that <code class="docutils literal notranslate"><span class="pre">column</span></code> value is equal to <code class="docutils literal notranslate"><span class="pre">value</span></code>.</p>
<p>It doesn’t require the default match columns such as <code class="docutils literal notranslate"><span class="pre">full</span> <span class="pre">text</span>
<span class="pre">search</span> <span class="pre">condition</span></code> and <code class="docutils literal notranslate"><span class="pre">phrase</span> <span class="pre">search</span> <span class="pre">condition</span></code>.</p>
<p>Here is a simple example:</p>
<p>Execution example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">select</span> <span class="n">Entries</span> <span class="o">--</span><span class="n">query</span> <span class="n">_key</span><span class="p">:</span><span class="n">Groonga</span>
<span class="c1"># [</span>
<span class="c1">#   [</span>
<span class="c1">#     0,</span>
<span class="c1">#     1337566253.89858,</span>
<span class="c1">#     0.000355720520019531</span>
<span class="c1">#   ],</span>
<span class="c1">#   [</span>
<span class="c1">#     [</span>
<span class="c1">#       [</span>
<span class="c1">#         1</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;_id&quot;,</span>
<span class="c1">#           &quot;UInt32&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;_key&quot;,</span>
<span class="c1">#           &quot;ShortText&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;content&quot;,</span>
<span class="c1">#           &quot;Text&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;n_likes&quot;,</span>
<span class="c1">#           &quot;UInt32&quot;</span>
<span class="c1">#         ]</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         2,</span>
<span class="c1">#         &quot;Groonga&quot;,</span>
<span class="c1">#         &quot;I started to use Groonga. It&#39;s very fast!&quot;,</span>
<span class="c1">#         10</span>
<span class="c1">#       ]</span>
<span class="c1">#     ]</span>
<span class="c1">#   ]</span>
<span class="c1"># ]</span>
</pre></div>
</div>
<p>The expression matches records that <code class="docutils literal notranslate"><span class="pre">_key</span></code> column value is
equal to <code class="docutils literal notranslate"><span class="pre">Groonga</span></code>.</p>
</div>
<div class="section" id="not-equal-condition">
<span id="query-syntax-not-equal-condition"></span><h3><span class="section-number">7.13.1.3.14. </span>Not equal condition<a class="headerlink" href="#not-equal-condition" title="Permalink to this headline">¶</a></h3>
<p>Its syntax is <code class="docutils literal notranslate"><span class="pre">column:!value</span></code>.</p>
<p>It matches records that <code class="docutils literal notranslate"><span class="pre">column</span></code> value isn’t equal to <code class="docutils literal notranslate"><span class="pre">value</span></code>.</p>
<p>It doesn’t require the default match columns such as <code class="docutils literal notranslate"><span class="pre">full</span> <span class="pre">text</span>
<span class="pre">search</span> <span class="pre">condition</span></code> and <code class="docutils literal notranslate"><span class="pre">phrase</span> <span class="pre">search</span> <span class="pre">condition</span></code>.</p>
<p>Here is a simple example:</p>
<p>Execution example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>select Entries --query _key:!Groonga
# [
#   [
#     0,
#     1337566253.89858,
#     0.000355720520019531
#   ],
#   [
#     [
#       [
#         4
#       ],
#       [
#         [
#           &quot;_id&quot;,
#           &quot;UInt32&quot;
#         ],
#         [
#           &quot;_key&quot;,
#           &quot;ShortText&quot;
#         ],
#         [
#           &quot;content&quot;,
#           &quot;Text&quot;
#         ],
#         [
#           &quot;n_likes&quot;,
#           &quot;UInt32&quot;
#         ]
#       ],
#       [
#         4,
#         &quot;Good-bye Senna&quot;,
#         &quot;I migrated all Senna system!&quot;,
#         3
#       ],
#       [
#         5,
#         &quot;Good-bye Tritonn&quot;,
#         &quot;I also migrated all Tritonn system!&quot;,
#         3
#       ],
#       [
#         3,
#         &quot;Mroonga&quot;,
#         &quot;I also started to use Mroonga. It&#39;s also very fast! Really fast!&quot;,
#         15
#       ],
#       [
#         1,
#         &quot;The first post!&quot;,
#         &quot;Welcome! This is my first post!&quot;,
#         5
#       ]
#     ]
#   ]
# ]
</pre></div>
</div>
<p>The expression matches records that <code class="docutils literal notranslate"><span class="pre">_key</span></code> column value is not equal
to <code class="docutils literal notranslate"><span class="pre">Groonga</span></code>.</p>
</div>
<div class="section" id="less-than-condition">
<span id="query-syntax-less-than-condition"></span><h3><span class="section-number">7.13.1.3.15. </span>Less than condition<a class="headerlink" href="#less-than-condition" title="Permalink to this headline">¶</a></h3>
<p>Its syntax is <code class="docutils literal notranslate"><span class="pre">column:&lt;value</span></code>.</p>
<p>It matches records that <code class="docutils literal notranslate"><span class="pre">column</span></code> value is less than <code class="docutils literal notranslate"><span class="pre">value</span></code>.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">column</span></code> type is numerical type such as <code class="docutils literal notranslate"><span class="pre">Int32</span></code>, <code class="docutils literal notranslate"><span class="pre">column</span></code>
value and <code class="docutils literal notranslate"><span class="pre">value</span></code> are compared as number. If <code class="docutils literal notranslate"><span class="pre">column</span></code> type is text
type such as <code class="docutils literal notranslate"><span class="pre">ShortText</span></code>, <code class="docutils literal notranslate"><span class="pre">column</span></code> value and <code class="docutils literal notranslate"><span class="pre">value</span></code> are
compared as bit sequence.</p>
<p>It doesn’t require the default match columns such as <code class="docutils literal notranslate"><span class="pre">full</span> <span class="pre">text</span>
<span class="pre">search</span> <span class="pre">condition</span></code> and <code class="docutils literal notranslate"><span class="pre">phrase</span> <span class="pre">search</span> <span class="pre">condition</span></code>.</p>
<p>Here is a simple example:</p>
<p>Execution example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">select</span> <span class="n">Entries</span> <span class="o">--</span><span class="n">query</span> <span class="n">n_likes</span><span class="p">:</span><span class="o">&lt;</span><span class="mi">10</span>
<span class="c1"># [</span>
<span class="c1">#   [</span>
<span class="c1">#     0,</span>
<span class="c1">#     1337566253.89858,</span>
<span class="c1">#     0.000355720520019531</span>
<span class="c1">#   ],</span>
<span class="c1">#   [</span>
<span class="c1">#     [</span>
<span class="c1">#       [</span>
<span class="c1">#         3</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;_id&quot;,</span>
<span class="c1">#           &quot;UInt32&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;_key&quot;,</span>
<span class="c1">#           &quot;ShortText&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;content&quot;,</span>
<span class="c1">#           &quot;Text&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;n_likes&quot;,</span>
<span class="c1">#           &quot;UInt32&quot;</span>
<span class="c1">#         ]</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         4,</span>
<span class="c1">#         &quot;Good-bye Senna&quot;,</span>
<span class="c1">#         &quot;I migrated all Senna system!&quot;,</span>
<span class="c1">#         3</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         5,</span>
<span class="c1">#         &quot;Good-bye Tritonn&quot;,</span>
<span class="c1">#         &quot;I also migrated all Tritonn system!&quot;,</span>
<span class="c1">#         3</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         1,</span>
<span class="c1">#         &quot;The first post!&quot;,</span>
<span class="c1">#         &quot;Welcome! This is my first post!&quot;,</span>
<span class="c1">#         5</span>
<span class="c1">#       ]</span>
<span class="c1">#     ]</span>
<span class="c1">#   ]</span>
<span class="c1"># ]</span>
</pre></div>
</div>
<p>The expression matches records that <code class="docutils literal notranslate"><span class="pre">n_likes</span></code> column value is less
than <code class="docutils literal notranslate"><span class="pre">10</span></code>.</p>
</div>
<div class="section" id="greater-than-condition">
<span id="query-syntax-greater-than-condition"></span><h3><span class="section-number">7.13.1.3.16. </span>Greater than condition<a class="headerlink" href="#greater-than-condition" title="Permalink to this headline">¶</a></h3>
<p>Its syntax is <code class="docutils literal notranslate"><span class="pre">column:&gt;value</span></code>.</p>
<p>It matches records that <code class="docutils literal notranslate"><span class="pre">column</span></code> value is greater than <code class="docutils literal notranslate"><span class="pre">value</span></code>.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">column</span></code> type is numerical type such as <code class="docutils literal notranslate"><span class="pre">Int32</span></code>, <code class="docutils literal notranslate"><span class="pre">column</span></code>
value and <code class="docutils literal notranslate"><span class="pre">value</span></code> are compared as number. If <code class="docutils literal notranslate"><span class="pre">column</span></code> type is text
type such as <code class="docutils literal notranslate"><span class="pre">ShortText</span></code>, <code class="docutils literal notranslate"><span class="pre">column</span></code> value and <code class="docutils literal notranslate"><span class="pre">value</span></code> are
compared as bit sequence.</p>
<p>It doesn’t require the default match columns such as <code class="docutils literal notranslate"><span class="pre">full</span> <span class="pre">text</span>
<span class="pre">search</span> <span class="pre">condition</span></code> and <code class="docutils literal notranslate"><span class="pre">phrase</span> <span class="pre">search</span> <span class="pre">condition</span></code>.</p>
<p>Here is a simple example:</p>
<p>Execution example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">select</span> <span class="n">Entries</span> <span class="o">--</span><span class="n">query</span> <span class="n">n_likes</span><span class="p">:</span><span class="o">&gt;</span><span class="mi">10</span>
<span class="c1"># [</span>
<span class="c1">#   [</span>
<span class="c1">#     0,</span>
<span class="c1">#     1337566253.89858,</span>
<span class="c1">#     0.000355720520019531</span>
<span class="c1">#   ],</span>
<span class="c1">#   [</span>
<span class="c1">#     [</span>
<span class="c1">#       [</span>
<span class="c1">#         1</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;_id&quot;,</span>
<span class="c1">#           &quot;UInt32&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;_key&quot;,</span>
<span class="c1">#           &quot;ShortText&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;content&quot;,</span>
<span class="c1">#           &quot;Text&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;n_likes&quot;,</span>
<span class="c1">#           &quot;UInt32&quot;</span>
<span class="c1">#         ]</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         3,</span>
<span class="c1">#         &quot;Mroonga&quot;,</span>
<span class="c1">#         &quot;I also started to use Mroonga. It&#39;s also very fast! Really fast!&quot;,</span>
<span class="c1">#         15</span>
<span class="c1">#       ]</span>
<span class="c1">#     ]</span>
<span class="c1">#   ]</span>
<span class="c1"># ]</span>
</pre></div>
</div>
<p>The expression matches records that <code class="docutils literal notranslate"><span class="pre">n_likes</span></code> column value is greater
than <code class="docutils literal notranslate"><span class="pre">10</span></code>.</p>
</div>
<div class="section" id="less-than-or-equal-to-condition">
<span id="query-syntax-less-than-or-equal-condition"></span><h3><span class="section-number">7.13.1.3.17. </span>Less than or equal to condition<a class="headerlink" href="#less-than-or-equal-to-condition" title="Permalink to this headline">¶</a></h3>
<p>Its syntax is <code class="docutils literal notranslate"><span class="pre">column:&lt;=value</span></code>.</p>
<p>It matches records that <code class="docutils literal notranslate"><span class="pre">column</span></code> value is less than or equal to
<code class="docutils literal notranslate"><span class="pre">value</span></code>.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">column</span></code> type is numerical type such as <code class="docutils literal notranslate"><span class="pre">Int32</span></code>, <code class="docutils literal notranslate"><span class="pre">column</span></code>
value and <code class="docutils literal notranslate"><span class="pre">value</span></code> are compared as number. If <code class="docutils literal notranslate"><span class="pre">column</span></code> type is text
type such as <code class="docutils literal notranslate"><span class="pre">ShortText</span></code>, <code class="docutils literal notranslate"><span class="pre">column</span></code> value and <code class="docutils literal notranslate"><span class="pre">value</span></code> are
compared as bit sequence.</p>
<p>It doesn’t require the default match columns such as <code class="docutils literal notranslate"><span class="pre">full</span> <span class="pre">text</span>
<span class="pre">search</span> <span class="pre">condition</span></code> and <code class="docutils literal notranslate"><span class="pre">phrase</span> <span class="pre">search</span> <span class="pre">condition</span></code>.</p>
<p>Here is a simple example:</p>
<p>Execution example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">select</span> <span class="n">Entries</span> <span class="o">--</span><span class="n">query</span> <span class="n">n_likes</span><span class="p">:</span><span class="o">&lt;=</span><span class="mi">10</span>
<span class="c1"># [</span>
<span class="c1">#   [</span>
<span class="c1">#     0,</span>
<span class="c1">#     1337566253.89858,</span>
<span class="c1">#     0.000355720520019531</span>
<span class="c1">#   ],</span>
<span class="c1">#   [</span>
<span class="c1">#     [</span>
<span class="c1">#       [</span>
<span class="c1">#         4</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;_id&quot;,</span>
<span class="c1">#           &quot;UInt32&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;_key&quot;,</span>
<span class="c1">#           &quot;ShortText&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;content&quot;,</span>
<span class="c1">#           &quot;Text&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;n_likes&quot;,</span>
<span class="c1">#           &quot;UInt32&quot;</span>
<span class="c1">#         ]</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         4,</span>
<span class="c1">#         &quot;Good-bye Senna&quot;,</span>
<span class="c1">#         &quot;I migrated all Senna system!&quot;,</span>
<span class="c1">#         3</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         5,</span>
<span class="c1">#         &quot;Good-bye Tritonn&quot;,</span>
<span class="c1">#         &quot;I also migrated all Tritonn system!&quot;,</span>
<span class="c1">#         3</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         2,</span>
<span class="c1">#         &quot;Groonga&quot;,</span>
<span class="c1">#         &quot;I started to use Groonga. It&#39;s very fast!&quot;,</span>
<span class="c1">#         10</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         1,</span>
<span class="c1">#         &quot;The first post!&quot;,</span>
<span class="c1">#         &quot;Welcome! This is my first post!&quot;,</span>
<span class="c1">#         5</span>
<span class="c1">#       ]</span>
<span class="c1">#     ]</span>
<span class="c1">#   ]</span>
<span class="c1"># ]</span>
</pre></div>
</div>
<p>The expression matches records that <code class="docutils literal notranslate"><span class="pre">n_likes</span></code> column value is less
than or equal to <code class="docutils literal notranslate"><span class="pre">10</span></code>.</p>
</div>
<div class="section" id="greater-than-or-equal-to-condition">
<span id="query-syntax-greater-than-or-equal-condition"></span><h3><span class="section-number">7.13.1.3.18. </span>Greater than or equal to condition<a class="headerlink" href="#greater-than-or-equal-to-condition" title="Permalink to this headline">¶</a></h3>
<p>Its syntax is <code class="docutils literal notranslate"><span class="pre">column:&gt;=value</span></code>.</p>
<p>It matches records that <code class="docutils literal notranslate"><span class="pre">column</span></code> value is greater than or equal to
<code class="docutils literal notranslate"><span class="pre">value</span></code>.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">column</span></code> type is numerical type such as <code class="docutils literal notranslate"><span class="pre">Int32</span></code>, <code class="docutils literal notranslate"><span class="pre">column</span></code>
value and <code class="docutils literal notranslate"><span class="pre">value</span></code> are compared as number. If <code class="docutils literal notranslate"><span class="pre">column</span></code> type is text
type such as <code class="docutils literal notranslate"><span class="pre">ShortText</span></code>, <code class="docutils literal notranslate"><span class="pre">column</span></code> value and <code class="docutils literal notranslate"><span class="pre">value</span></code> are
compared as bit sequence.</p>
<p>It doesn’t require the default match columns such as <code class="docutils literal notranslate"><span class="pre">full</span> <span class="pre">text</span>
<span class="pre">search</span> <span class="pre">condition</span></code> and <code class="docutils literal notranslate"><span class="pre">phrase</span> <span class="pre">search</span> <span class="pre">condition</span></code>.</p>
<p>Here is a simple example:</p>
<p>Execution example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">select</span> <span class="n">Entries</span> <span class="o">--</span><span class="n">query</span> <span class="n">n_likes</span><span class="p">:</span><span class="o">&gt;=</span><span class="mi">10</span>
<span class="c1"># [</span>
<span class="c1">#   [</span>
<span class="c1">#     0,</span>
<span class="c1">#     1337566253.89858,</span>
<span class="c1">#     0.000355720520019531</span>
<span class="c1">#   ],</span>
<span class="c1">#   [</span>
<span class="c1">#     [</span>
<span class="c1">#       [</span>
<span class="c1">#         2</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;_id&quot;,</span>
<span class="c1">#           &quot;UInt32&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;_key&quot;,</span>
<span class="c1">#           &quot;ShortText&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;content&quot;,</span>
<span class="c1">#           &quot;Text&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;n_likes&quot;,</span>
<span class="c1">#           &quot;UInt32&quot;</span>
<span class="c1">#         ]</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         2,</span>
<span class="c1">#         &quot;Groonga&quot;,</span>
<span class="c1">#         &quot;I started to use Groonga. It&#39;s very fast!&quot;,</span>
<span class="c1">#         10</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         3,</span>
<span class="c1">#         &quot;Mroonga&quot;,</span>
<span class="c1">#         &quot;I also started to use Mroonga. It&#39;s also very fast! Really fast!&quot;,</span>
<span class="c1">#         15</span>
<span class="c1">#       ]</span>
<span class="c1">#     ]</span>
<span class="c1">#   ]</span>
<span class="c1"># ]</span>
</pre></div>
</div>
<p>The expression matches records that <code class="docutils literal notranslate"><span class="pre">n_likes</span></code> column value is
greater than or equal to <code class="docutils literal notranslate"><span class="pre">10</span></code>.</p>
</div>
<div class="section" id="regular-expression-condition">
<span id="query-syntax-regular-expression-condition"></span><h3><span class="section-number">7.13.1.3.19. </span>Regular expression condition<a class="headerlink" href="#regular-expression-condition" title="Permalink to this headline">¶</a></h3>
<div class="versionadded">
<p><span class="versionmodified added">New in version 5.0.1.</span></p>
</div>
<p>Its syntax is <code class="docutils literal notranslate"><span class="pre">column:~pattern</span></code>.</p>
<p>It matches records that <code class="docutils literal notranslate"><span class="pre">column</span></code> value is matched to
<code class="docutils literal notranslate"><span class="pre">pattern</span></code>. <code class="docutils literal notranslate"><span class="pre">pattern</span></code> must be valid
<a class="reference internal" href="../regular_expression.html"><span class="doc">Regular expression</span></a>.</p>
<p>The following example uses <code class="docutils literal notranslate"><span class="pre">.roonga</span></code> as pattern. It matches
<code class="docutils literal notranslate"><span class="pre">Groonga</span></code>, <code class="docutils literal notranslate"><span class="pre">Mroonga</span></code> and so on.</p>
<p>Execution example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">select</span> <span class="n">Entries</span> <span class="o">--</span><span class="n">query</span> <span class="n">content</span><span class="p">:</span><span class="o">~.</span><span class="n">roonga</span>
<span class="c1"># [</span>
<span class="c1">#   [</span>
<span class="c1">#     0,</span>
<span class="c1">#     1337566253.89858,</span>
<span class="c1">#     0.000355720520019531</span>
<span class="c1">#   ],</span>
<span class="c1">#   [</span>
<span class="c1">#     [</span>
<span class="c1">#       [</span>
<span class="c1">#         2</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;_id&quot;,</span>
<span class="c1">#           &quot;UInt32&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;_key&quot;,</span>
<span class="c1">#           &quot;ShortText&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;content&quot;,</span>
<span class="c1">#           &quot;Text&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;n_likes&quot;,</span>
<span class="c1">#           &quot;UInt32&quot;</span>
<span class="c1">#         ]</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         2,</span>
<span class="c1">#         &quot;Groonga&quot;,</span>
<span class="c1">#         &quot;I started to use Groonga. It&#39;s very fast!&quot;,</span>
<span class="c1">#         10</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         3,</span>
<span class="c1">#         &quot;Mroonga&quot;,</span>
<span class="c1">#         &quot;I also started to use Mroonga. It&#39;s also very fast! Really fast!&quot;,</span>
<span class="c1">#         15</span>
<span class="c1">#       ]</span>
<span class="c1">#     ]</span>
<span class="c1">#   ]</span>
<span class="c1"># ]</span>
</pre></div>
</div>
<p>In most cases, regular expression is evaluated sequentially. So it may
be slow against many records.</p>
<p>In some cases, Groonga evaluates regular expression by index. It’s
very fast. See <a class="reference internal" href="../regular_expression.html"><span class="doc">Regular expression</span></a> for details.</p>
</div>
</div>
<div class="section" id="combined-expression">
<span id="query-syntax-combined-expression"></span><h2><span class="section-number">7.13.1.4. </span>Combined expression<a class="headerlink" href="#combined-expression" title="Permalink to this headline">¶</a></h2>
<p>Here is available combined expression list.</p>
<div class="section" id="logical-or">
<span id="query-syntax-logical-or"></span><h3><span class="section-number">7.13.1.4.1. </span>Logical OR<a class="headerlink" href="#logical-or" title="Permalink to this headline">¶</a></h3>
<p>Its syntax is <code class="docutils literal notranslate"><span class="pre">a</span> <span class="pre">OR</span> <span class="pre">b</span></code>.</p>
<p><code class="docutils literal notranslate"><span class="pre">a</span></code> and <code class="docutils literal notranslate"><span class="pre">b</span></code> are conditional expressions, conbinded expressions or
assignment expressions.</p>
<p>If at least one of <code class="docutils literal notranslate"><span class="pre">a</span></code> and <code class="docutils literal notranslate"><span class="pre">b</span></code> are matched, <code class="docutils literal notranslate"><span class="pre">a</span> <span class="pre">OR</span> <span class="pre">b</span></code> is matched.</p>
<p>Here is a simple example:</p>
<p>Execution example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">select</span> <span class="n">Entries</span> <span class="o">--</span><span class="n">query</span> <span class="s1">&#39;n_likes:&gt;10 OR content:@senna&#39;</span>
<span class="c1"># [</span>
<span class="c1">#   [</span>
<span class="c1">#     0,</span>
<span class="c1">#     1337566253.89858,</span>
<span class="c1">#     0.000355720520019531</span>
<span class="c1">#   ],</span>
<span class="c1">#   [</span>
<span class="c1">#     [</span>
<span class="c1">#       [</span>
<span class="c1">#         2</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;_id&quot;,</span>
<span class="c1">#           &quot;UInt32&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;_key&quot;,</span>
<span class="c1">#           &quot;ShortText&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;content&quot;,</span>
<span class="c1">#           &quot;Text&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;n_likes&quot;,</span>
<span class="c1">#           &quot;UInt32&quot;</span>
<span class="c1">#         ]</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         3,</span>
<span class="c1">#         &quot;Mroonga&quot;,</span>
<span class="c1">#         &quot;I also started to use Mroonga. It&#39;s also very fast! Really fast!&quot;,</span>
<span class="c1">#         15</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         4,</span>
<span class="c1">#         &quot;Good-bye Senna&quot;,</span>
<span class="c1">#         &quot;I migrated all Senna system!&quot;,</span>
<span class="c1">#         3</span>
<span class="c1">#       ]</span>
<span class="c1">#     ]</span>
<span class="c1">#   ]</span>
<span class="c1"># ]</span>
</pre></div>
</div>
<p>The expression matches records that <code class="docutils literal notranslate"><span class="pre">n_likes</span></code> column value is
greater than <code class="docutils literal notranslate"><span class="pre">10</span></code> or contain a word <code class="docutils literal notranslate"><span class="pre">senna</span></code> in <code class="docutils literal notranslate"><span class="pre">content</span></code> column
value.</p>
</div>
<div class="section" id="logical-and">
<span id="query-syntax-logical-and"></span><h3><span class="section-number">7.13.1.4.2. </span>Logical AND<a class="headerlink" href="#logical-and" title="Permalink to this headline">¶</a></h3>
<p>Its syntax is <code class="docutils literal notranslate"><span class="pre">a</span> <span class="pre">+</span> <span class="pre">b</span></code> or just <code class="docutils literal notranslate"><span class="pre">a</span> <span class="pre">b</span></code>.</p>
<p><code class="docutils literal notranslate"><span class="pre">a</span></code> and <code class="docutils literal notranslate"><span class="pre">b</span></code> are conditional expressions, conbinded expressions or
assignment expressions.</p>
<p>If both <code class="docutils literal notranslate"><span class="pre">a</span></code> and <code class="docutils literal notranslate"><span class="pre">b</span></code> are matched, <code class="docutils literal notranslate"><span class="pre">a</span> <span class="pre">+</span> <span class="pre">b</span></code> is matched.</p>
<p>You can specify <code class="docutils literal notranslate"><span class="pre">+</span></code> the first expression such as <code class="docutils literal notranslate"><span class="pre">+a</span></code>. The <code class="docutils literal notranslate"><span class="pre">+</span></code>
is just ignored.</p>
<p>Here is a simple example:</p>
<p>Execution example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">select</span> <span class="n">Entries</span> <span class="o">--</span><span class="n">query</span> <span class="s1">&#39;n_likes:&gt;=10 + content:@groonga&#39;</span>
<span class="c1"># [</span>
<span class="c1">#   [</span>
<span class="c1">#     0,</span>
<span class="c1">#     1337566253.89858,</span>
<span class="c1">#     0.000355720520019531</span>
<span class="c1">#   ],</span>
<span class="c1">#   [</span>
<span class="c1">#     [</span>
<span class="c1">#       [</span>
<span class="c1">#         1</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;_id&quot;,</span>
<span class="c1">#           &quot;UInt32&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;_key&quot;,</span>
<span class="c1">#           &quot;ShortText&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;content&quot;,</span>
<span class="c1">#           &quot;Text&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;n_likes&quot;,</span>
<span class="c1">#           &quot;UInt32&quot;</span>
<span class="c1">#         ]</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         2,</span>
<span class="c1">#         &quot;Groonga&quot;,</span>
<span class="c1">#         &quot;I started to use Groonga. It&#39;s very fast!&quot;,</span>
<span class="c1">#         10</span>
<span class="c1">#       ]</span>
<span class="c1">#     ]</span>
<span class="c1">#   ]</span>
<span class="c1"># ]</span>
</pre></div>
</div>
<p>The expression matches records that <code class="docutils literal notranslate"><span class="pre">n_likes</span></code> column value is
greater than or equal to <code class="docutils literal notranslate"><span class="pre">10</span></code> and contain a word <code class="docutils literal notranslate"><span class="pre">groonga</span></code> in
<code class="docutils literal notranslate"><span class="pre">content</span></code> column value.</p>
</div>
<div class="section" id="logical-and-not">
<span id="query-syntax-logical-and-not"></span><h3><span class="section-number">7.13.1.4.3. </span>Logical AND NOT<a class="headerlink" href="#logical-and-not" title="Permalink to this headline">¶</a></h3>
<p>Its syntax is <code class="docutils literal notranslate"><span class="pre">a</span> <span class="pre">-</span> <span class="pre">b</span></code>.</p>
<p><code class="docutils literal notranslate"><span class="pre">a</span></code> and <code class="docutils literal notranslate"><span class="pre">b</span></code> are conditional expressions, conbinded expressions or
assignment expressions.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">a</span></code> is matched and <code class="docutils literal notranslate"><span class="pre">b</span></code> is not matched, <code class="docutils literal notranslate"><span class="pre">a</span> <span class="pre">-</span> <span class="pre">b</span></code> is matched.</p>
<p>You can not specify <code class="docutils literal notranslate"><span class="pre">-</span></code> the first expression such as <code class="docutils literal notranslate"><span class="pre">-a</span></code>. It’s
syntax error.</p>
<p>Here is a simple example:</p>
<p>Execution example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">select</span> <span class="n">Entries</span> <span class="o">--</span><span class="n">query</span> <span class="s1">&#39;n_likes:&gt;=10 - content:@groonga&#39;</span>
<span class="c1"># [</span>
<span class="c1">#   [</span>
<span class="c1">#     0,</span>
<span class="c1">#     1337566253.89858,</span>
<span class="c1">#     0.000355720520019531</span>
<span class="c1">#   ],</span>
<span class="c1">#   [</span>
<span class="c1">#     [</span>
<span class="c1">#       [</span>
<span class="c1">#         1</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;_id&quot;,</span>
<span class="c1">#           &quot;UInt32&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;_key&quot;,</span>
<span class="c1">#           &quot;ShortText&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;content&quot;,</span>
<span class="c1">#           &quot;Text&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;n_likes&quot;,</span>
<span class="c1">#           &quot;UInt32&quot;</span>
<span class="c1">#         ]</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         3,</span>
<span class="c1">#         &quot;Mroonga&quot;,</span>
<span class="c1">#         &quot;I also started to use Mroonga. It&#39;s also very fast! Really fast!&quot;,</span>
<span class="c1">#         15</span>
<span class="c1">#       ]</span>
<span class="c1">#     ]</span>
<span class="c1">#   ]</span>
<span class="c1"># ]</span>
</pre></div>
</div>
<p>The expression matches records that <code class="docutils literal notranslate"><span class="pre">n_likes</span></code> column value is
greater than or equal to <code class="docutils literal notranslate"><span class="pre">10</span></code> and don’t contain a word <code class="docutils literal notranslate"><span class="pre">groonga</span></code> in
<code class="docutils literal notranslate"><span class="pre">content</span></code> column value.</p>
</div>
<div class="section" id="grouping">
<h3><span class="section-number">7.13.1.4.4. </span>Grouping<a class="headerlink" href="#grouping" title="Permalink to this headline">¶</a></h3>
<p>Its syntax is <code class="docutils literal notranslate"><span class="pre">(...)</span></code>. <code class="docutils literal notranslate"><span class="pre">...</span></code> is space separated expression list.</p>
<p><code class="docutils literal notranslate"><span class="pre">(...)</span></code> groups one ore more expressions and they can be
processed as an expression. <code class="docutils literal notranslate"><span class="pre">a</span> <span class="pre">b</span> <span class="pre">OR</span> <span class="pre">c</span></code> means that <code class="docutils literal notranslate"><span class="pre">a</span></code> and <code class="docutils literal notranslate"><span class="pre">b</span></code>
are matched or <code class="docutils literal notranslate"><span class="pre">c</span></code> is matched. <code class="docutils literal notranslate"><span class="pre">a</span> <span class="pre">(b</span> <span class="pre">OR</span> <span class="pre">c)</span></code> means that <code class="docutils literal notranslate"><span class="pre">a</span></code> and
one of <code class="docutils literal notranslate"><span class="pre">b</span></code> and <code class="docutils literal notranslate"><span class="pre">c</span></code> are matched.</p>
<p>Here is a simple example:</p>
<p>Execution example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">select</span> <span class="n">Entries</span> <span class="o">--</span><span class="n">query</span> <span class="s1">&#39;n_likes:&lt;5 content:@senna OR content:@fast&#39;</span>
<span class="c1"># [</span>
<span class="c1">#   [</span>
<span class="c1">#     0,</span>
<span class="c1">#     1337566253.89858,</span>
<span class="c1">#     0.000355720520019531</span>
<span class="c1">#   ],</span>
<span class="c1">#   [</span>
<span class="c1">#     [</span>
<span class="c1">#       [</span>
<span class="c1">#         3</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;_id&quot;,</span>
<span class="c1">#           &quot;UInt32&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;_key&quot;,</span>
<span class="c1">#           &quot;ShortText&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;content&quot;,</span>
<span class="c1">#           &quot;Text&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;n_likes&quot;,</span>
<span class="c1">#           &quot;UInt32&quot;</span>
<span class="c1">#         ]</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         4,</span>
<span class="c1">#         &quot;Good-bye Senna&quot;,</span>
<span class="c1">#         &quot;I migrated all Senna system!&quot;,</span>
<span class="c1">#         3</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         2,</span>
<span class="c1">#         &quot;Groonga&quot;,</span>
<span class="c1">#         &quot;I started to use Groonga. It&#39;s very fast!&quot;,</span>
<span class="c1">#         10</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         3,</span>
<span class="c1">#         &quot;Mroonga&quot;,</span>
<span class="c1">#         &quot;I also started to use Mroonga. It&#39;s also very fast! Really fast!&quot;,</span>
<span class="c1">#         15</span>
<span class="c1">#       ]</span>
<span class="c1">#     ]</span>
<span class="c1">#   ]</span>
<span class="c1"># ]</span>
<span class="n">select</span> <span class="n">Entries</span> <span class="o">--</span><span class="n">query</span> <span class="s1">&#39;n_likes:&lt;5 (content:@senna OR content:@fast)&#39;</span>
<span class="c1"># [</span>
<span class="c1">#   [</span>
<span class="c1">#     0,</span>
<span class="c1">#     1337566253.89858,</span>
<span class="c1">#     0.000355720520019531</span>
<span class="c1">#   ],</span>
<span class="c1">#   [</span>
<span class="c1">#     [</span>
<span class="c1">#       [</span>
<span class="c1">#         1</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;_id&quot;,</span>
<span class="c1">#           &quot;UInt32&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;_key&quot;,</span>
<span class="c1">#           &quot;ShortText&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;content&quot;,</span>
<span class="c1">#           &quot;Text&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;n_likes&quot;,</span>
<span class="c1">#           &quot;UInt32&quot;</span>
<span class="c1">#         ]</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         4,</span>
<span class="c1">#         &quot;Good-bye Senna&quot;,</span>
<span class="c1">#         &quot;I migrated all Senna system!&quot;,</span>
<span class="c1">#         3</span>
<span class="c1">#       ]</span>
<span class="c1">#     ]</span>
<span class="c1">#   ]</span>
<span class="c1"># ]</span>
</pre></div>
</div>
<p>The first expression doesn’t use grouping. It matches records that
<code class="docutils literal notranslate"><span class="pre">n_likes:&lt;5</span></code> and <code class="docutils literal notranslate"><span class="pre">content:&#64;senna</span></code> are matched or
<code class="docutils literal notranslate"><span class="pre">content:&#64;fast</span></code> is matched.</p>
<p>The second expression uses grouping. It matches records that
<code class="docutils literal notranslate"><span class="pre">n_likes:&lt;5</span></code> and one of <code class="docutils literal notranslate"><span class="pre">content:&#64;senna</span></code> or <code class="docutils literal notranslate"><span class="pre">content:&#64;fast</span></code>
are matched.</p>
</div>
</div>
<div class="section" id="assignment-expression">
<h2><span class="section-number">7.13.1.5. </span>Assignment expression<a class="headerlink" href="#assignment-expression" title="Permalink to this headline">¶</a></h2>
<p>This section is for advanced users. Because assignment expression is
disabled in <code class="docutils literal notranslate"><span class="pre">--query</span></code> option of <a class="reference internal" href="../commands/select.html"><span class="doc">select</span></a> by
default. You need to specify <code class="docutils literal notranslate"><span class="pre">ALLOW_COLUMN|ALLOW_UPDATE</span></code> as
<code class="docutils literal notranslate"><span class="pre">--query_flags</span></code> option value to enable assignment expression.</p>
<p>Assignment expression in query syntax has some limitations. So you
should use <a class="reference internal" href="script_syntax.html"><span class="doc">Script syntax</span></a> instead of query syntax for
assignment.</p>
<p>There is only one syntax for assignment expression. It’s <code class="docutils literal notranslate"><span class="pre">column:=value</span></code>.</p>
<p><code class="docutils literal notranslate"><span class="pre">value</span></code> is assigend to <code class="docutils literal notranslate"><span class="pre">column</span></code>. <code class="docutils literal notranslate"><span class="pre">value</span></code> is always processed as
string in query syntax. <code class="docutils literal notranslate"><span class="pre">value</span></code> is casted to the type of <code class="docutils literal notranslate"><span class="pre">column</span></code>
automatically. It causes some limitations. For example, you cannot use
boolean literal such as <code class="docutils literal notranslate"><span class="pre">true</span></code> and <code class="docutils literal notranslate"><span class="pre">false</span></code> for <code class="docutils literal notranslate"><span class="pre">Bool</span></code> type
column. You need to use empty string for <code class="docutils literal notranslate"><span class="pre">false</span></code> but query syntax
doesn’t support <code class="docutils literal notranslate"><span class="pre">column:=</span></code> syntax.</p>
<p>See <a class="reference internal" href="../cast.html"><span class="doc">Cast</span></a> about cast.</p>
</div>
</div>


              </div>
              
              
              <!-- Previous / next buttons -->
<div class='prev-next-area'>
    <a class='left-prev' id="prev-link" href="../grn_expr.html" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title"><span class="section-number">7.13. </span>grn_expr</p>
        </div>
    </a>
    <a class='right-next' id="next-link" href="script_syntax.html" title="next page">
    <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title"><span class="section-number">7.13.2. </span>Script syntax</p>
    </div>
    <i class="fas fa-angle-right"></i>
    </a>
</div>
              
          </main>
          

      </div>
    </div>
  
    <script src="../../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf"></script>
  <footer class="footer mt-5 mt-md-0">
  <div class="container">
    
    <div class="footer-item">
      <p class="copyright">
    &copy; Copyright 2009-2022 Groonga Project.<br>
</p>
    </div>
    
    <div class="footer-item">
      <p class="sphinx-version">
Created using <a href="http://sphinx-doc.org/">Sphinx</a> 4.5.0.<br>
</p>
    </div>
    
  </div>
</footer>
  </body>
</html>