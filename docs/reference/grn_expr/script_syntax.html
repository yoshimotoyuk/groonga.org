
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>7.13.2. Script syntax &#8212; Groonga v12.0.4 documentation</title>
    
    <link href="../../_static/styles/theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">
<link href="../../_static/styles/pydata-sphinx-theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">
  
    
    <link rel="stylesheet"
      href="../../_static/vendor/fontawesome/5.13.0/css/all.min.css">
    <link rel="preload" as="font" type="font/woff2" crossorigin
      href="../../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
    <link rel="preload" as="font" type="font/woff2" crossorigin
      href="../../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">
  
    
      
  
    
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/styles/pydata-sphinx-theme.css" />
    
    <link rel="preload" as="script" href="../../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf">
  
    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="7.14. Regular expression" href="../regular_expression.html" />
    <link rel="prev" title="7.13.1. Query syntax" href="query_syntax.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="en">
    

    <!-- Google Analytics -->
    
<script async="" src="https://www.google-analytics.com/analytics.js"></script>
<script>
                        window.ga = window.ga || function () {
                            (ga.q = ga.q || []).push(arguments) };
                        ga.l = +new Date;
                        ga('create', 'UA-7532323-1', 'auto');
                        ga('set', 'anonymizeIp', true);
                        ga('send', 'pageview');
                    </script>

  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <div class="container-fluid" id="banner"></div>

    
    <nav class="navbar navbar-light navbar-expand-lg bg-light fixed-top bd-navbar" id="navbar-main"><div class="container-xl">

  <div id="navbar-start">
    
    

<a class="navbar-brand" href="https://groonga.org/">
  <img src="../../_static/groonga.png" class="logo" alt="logo">
</a>


    
  </div>

  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-collapsible" aria-controls="navbar-collapsible" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>

  
  <div id="navbar-collapsible" class="col-lg-9 collapse navbar-collapse">
    <div id="navbar-center" class="mr-auto">
      
    </div>

    <div id="navbar-end">
      
      <div class="navbar-end-item">
        <ul id="navbar-icon-links" class="navbar-nav" aria-label="Icon Links">
        <li class="nav-item">
          <a class="nav-link" href="https://github.com/groonga/groonga" rel="noopener" target="_blank" title="GitHub"><span><i class="fab fa-github-square"></i></span>
            <label class="sr-only">GitHub</label></a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="https://twitter.com/groonga" rel="noopener" target="_blank" title="Twitter"><span><i class="fab fa-twitter-square"></i></span>
            <label class="sr-only">Twitter</label></a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="/blog" rel="noopener" target="_blank" title="Blog"><span><i class="fas fa-blog"></i></span>
            <label class="sr-only">Blog</label></a>
        </li>
      </ul>
      </div>
      
      <div class="navbar-end-item">
        <div class="dropdown" id="version_switcher">
    <button type="button" class="btn btn-primary btn-sm navbar-btn dropdown-toggle" id="version_switcher_button" data-toggle="dropdown">
        English  <!-- this text may get changed later by javascript -->
        <span class="caret"></span>
    </button>
    <div id="version_switcher_menu" class="dropdown-menu list-group-flush py-0" aria-labelledby="version_switcher_button">
    <!-- dropdown will be populated by javascript on page load -->
    </div>
</div>

<!-- NOTE: this JS must live here (not in our global JS file) because it relies
     on being processed by Jinja before it is run (specifically for replacing
     variables reference/grn_expr/script_syntax and {'json_url': 'https://groonga.org/docs/_static/switcher.json', 'url_template': 'https://groonga.org/{version}docs/', 'version_match': 'English'}.
-->

<script type="text/javascript">
// Construct the target URL from the JSON components
function buildURL(entry) {
    var template = "https://groonga.org/{version}docs/";  // supplied by jinja
    template = template.replace("{version}", entry.version);
    return template;
}

// Check if corresponding page path exists in other version of docs
// and, if so, go there instead of the homepage of the other docs version
function checkPageExistsAndRedirect(event) {
    const currentFilePath = "reference/grn_expr/script_syntax.html",
          tryUrl = event.target.getAttribute("href");
    let otherDocsHomepage = tryUrl.replace(currentFilePath, "");
    $.ajax({
        type: 'HEAD',
        url: tryUrl,
        // if the page exists, go there
        success: function() {
            location.href = tryUrl;
        }
    }).fail(function() {
        location.href = otherDocsHomepage;
    });
    // this prevents the browser from following the href of the clicked node
    // (which is fine because this function takes care of redirecting)
    return false;
}

// Populate the version switcher from the JSON config file
(function () {
    $.getJSON("https://groonga.org/docs/_static/switcher.json", function(data, textStatus, jqXHR) {
        const currentFilePath = "reference/grn_expr/script_syntax.html";
        // create links to the corresponding page in the other docs versions
        $.each(data, function(index, entry) {
            // if no custom name specified (e.g., "latest"), use version string
            if (!("name" in entry)) {
                entry.name = entry.version;
            }
            // create the node
            const node = document.createElement("a");
            node.setAttribute("class", "list-group-item list-group-item-action py-1");
            node.textContent = `${entry.name}`;
            // get the base URL for that doc version, add the current page's
            // path to it, and set as `href`
            entry.url = buildURL(entry);
            node.setAttribute("href", `${entry.url}${currentFilePath}`);
            // on click, AJAX calls will check if the linked page exists before
            // trying to redirect, and if not, will redirect to the homepage
            // for that version of the docs.
            node.onclick = checkPageExistsAndRedirect;
            $("#version_switcher_menu").append(node);
            // replace dropdown button text with the preferred display name of
            // this version, rather than using sphinx's 12.0.4 variable.
            // also highlight the dropdown entry for the currently-viewed
            // version's entry
            if (entry.version == "English") {
                node.classList.add("active");
                $("#version_switcher_button").text(entry.name);
            }
        });
    });
})();
</script>
      </div>
      
    </div>
  </div>
</div>
    </nav>
    

    <div class="container-xl">
      <div class="row">
          
            
            <!-- Only show if we have sidebars configured, else just a small margin  -->
            <div class="col-12 col-md-3 bd-sidebar">
              <div class="sidebar-start-items"><form class="bd-search d-flex align-items-center" action="../../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search the docs ..." aria-label="Search the docs ..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
  <div class="bd-toc-item active">
    <ul class="current nav bd-sidenav">
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../executables.html">
   7.1. Executables
  </a>
  <input checked class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/>
  <label for="toctree-checkbox-1">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../executables/grndb.html">
     7.1.1.
     <code class="docutils literal notranslate">
      <span class="pre">
       grndb
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../executables/grnslap.html">
     7.1.2. grnslap
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../executables/groonga.html">
     7.1.3.
     <code class="docutils literal notranslate">
      <span class="pre">
       groonga
      </span>
     </code>
     executable file
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../executables/groonga-benchmark.html">
     7.1.4. groonga-benchmark
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../executables/groonga-httpd.html">
     7.1.5. groonga-httpd
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../executables/groonga-server-http.html">
     7.1.6. Groonga HTTP server
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../executables/groonga-suggest-create-dataset.html">
     7.1.7. groonga-suggest-create-dataset
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../executables/groonga-suggest-httpd.html">
     7.1.8.
     <code class="docutils literal notranslate">
      <span class="pre">
       groonga-suggest-httpd
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../executables/groonga-suggest-learner.html">
     7.1.9. groonga-suggest-learner
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../output.html">
   7.2. Output
  </a>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../command.html">
   7.3. Command
  </a>
  <input checked class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/>
  <label for="toctree-checkbox-2">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../command/command_version.html">
     7.3.1. Command version
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../command/output_format.html">
     7.3.2. Output format
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../command/pretty_print.html">
     7.3.3. Pretty print
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../command/request_id.html">
     7.3.4. Request ID
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../command/request_timeout.html">
     7.3.5. Request timeout
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../command/return_code.html">
     7.3.6. Return code
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../commands/cache_limit.html">
     7.3.7.
     <code class="docutils literal notranslate">
      <span class="pre">
       cache_limit
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../commands/check.html">
     7.3.8.
     <code class="docutils literal notranslate">
      <span class="pre">
       check
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../commands/clearlock.html">
     7.3.9.
     <code class="docutils literal notranslate">
      <span class="pre">
       clearlock
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../commands/column_copy.html">
     7.3.10.
     <code class="docutils literal notranslate">
      <span class="pre">
       column_copy
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../commands/column_create.html">
     7.3.11.
     <code class="docutils literal notranslate">
      <span class="pre">
       column_create
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../commands/column_list.html">
     7.3.12.
     <code class="docutils literal notranslate">
      <span class="pre">
       column_list
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../commands/column_remove.html">
     7.3.13.
     <code class="docutils literal notranslate">
      <span class="pre">
       column_remove
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../commands/column_rename.html">
     7.3.14.
     <code class="docutils literal notranslate">
      <span class="pre">
       column_rename
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../commands/config_delete.html">
     7.3.15.
     <code class="docutils literal notranslate">
      <span class="pre">
       config_delete
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../commands/config_get.html">
     7.3.16.
     <code class="docutils literal notranslate">
      <span class="pre">
       config_get
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../commands/config_set.html">
     7.3.17.
     <code class="docutils literal notranslate">
      <span class="pre">
       config_set
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../commands/database_unmap.html">
     7.3.18.
     <code class="docutils literal notranslate">
      <span class="pre">
       database_unmap
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../commands/define_selector.html">
     7.3.19.
     <code class="docutils literal notranslate">
      <span class="pre">
       define_selector
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../commands/defrag.html">
     7.3.20.
     <code class="docutils literal notranslate">
      <span class="pre">
       defrag
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../commands/delete.html">
     7.3.21.
     <code class="docutils literal notranslate">
      <span class="pre">
       delete
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../commands/dump.html">
     7.3.22.
     <code class="docutils literal notranslate">
      <span class="pre">
       dump
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../commands/index_column_diff.html">
     7.3.23.
     <code class="docutils literal notranslate">
      <span class="pre">
       index_column_diff
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../commands/io_flush.html">
     7.3.24.
     <code class="docutils literal notranslate">
      <span class="pre">
       io_flush
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../commands/load.html">
     7.3.25.
     <code class="docutils literal notranslate">
      <span class="pre">
       load
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../commands/lock_acquire.html">
     7.3.26.
     <code class="docutils literal notranslate">
      <span class="pre">
       lock_acquire
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../commands/lock_clear.html">
     7.3.27.
     <code class="docutils literal notranslate">
      <span class="pre">
       lock_clear
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../commands/lock_release.html">
     7.3.28.
     <code class="docutils literal notranslate">
      <span class="pre">
       lock_release
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../commands/log_level.html">
     7.3.29.
     <code class="docutils literal notranslate">
      <span class="pre">
       log_level
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../commands/log_put.html">
     7.3.30.
     <code class="docutils literal notranslate">
      <span class="pre">
       log_put
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../commands/log_reopen.html">
     7.3.31.
     <code class="docutils literal notranslate">
      <span class="pre">
       log_reopen
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../commands/logical_count.html">
     7.3.32.
     <code class="docutils literal notranslate">
      <span class="pre">
       logical_count
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../commands/logical_parameters.html">
     7.3.33.
     <code class="docutils literal notranslate">
      <span class="pre">
       logical_parameters
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../commands/logical_range_filter.html">
     7.3.34.
     <code class="docutils literal notranslate">
      <span class="pre">
       logical_range_filter
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../commands/logical_select.html">
     7.3.35.
     <code class="docutils literal notranslate">
      <span class="pre">
       logical_select
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../commands/logical_shard_list.html">
     7.3.36.
     <code class="docutils literal notranslate">
      <span class="pre">
       logical_shard_list
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../commands/logical_table_remove.html">
     7.3.37.
     <code class="docutils literal notranslate">
      <span class="pre">
       logical_table_remove
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../commands/normalize.html">
     7.3.38.
     <code class="docutils literal notranslate">
      <span class="pre">
       normalize
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../commands/normalizer_list.html">
     7.3.39.
     <code class="docutils literal notranslate">
      <span class="pre">
       normalizer_list
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../commands/object_exist.html">
     7.3.40.
     <code class="docutils literal notranslate">
      <span class="pre">
       object_exist
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../commands/object_inspect.html">
     7.3.41.
     <code class="docutils literal notranslate">
      <span class="pre">
       object_inspect
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../commands/object_list.html">
     7.3.42.
     <code class="docutils literal notranslate">
      <span class="pre">
       object_list
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../commands/object_remove.html">
     7.3.43.
     <code class="docutils literal notranslate">
      <span class="pre">
       object_remove
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../commands/plugin_register.html">
     7.3.44.
     <code class="docutils literal notranslate">
      <span class="pre">
       plugin_register
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../commands/plugin_unregister.html">
     7.3.45.
     <code class="docutils literal notranslate">
      <span class="pre">
       plugin_unregister
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../commands/query_expand.html">
     7.3.46.
     <code class="docutils literal notranslate">
      <span class="pre">
       query_expand
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../commands/quit.html">
     7.3.47.
     <code class="docutils literal notranslate">
      <span class="pre">
       quit
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../commands/range_filter.html">
     7.3.48.
     <code class="docutils literal notranslate">
      <span class="pre">
       range_filter
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../commands/reference_acquire.html">
     7.3.49.
     <code class="docutils literal notranslate">
      <span class="pre">
       reference_acquire
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../commands/reference_release.html">
     7.3.50.
     <code class="docutils literal notranslate">
      <span class="pre">
       reference_release
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../commands/register.html">
     7.3.51.
     <code class="docutils literal notranslate">
      <span class="pre">
       register
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../commands/reindex.html">
     7.3.52.
     <code class="docutils literal notranslate">
      <span class="pre">
       reindex
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../commands/request_cancel.html">
     7.3.53.
     <code class="docutils literal notranslate">
      <span class="pre">
       request_cancel
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../commands/ruby_eval.html">
     7.3.54.
     <code class="docutils literal notranslate">
      <span class="pre">
       ruby_eval
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../commands/schema.html">
     7.3.55.
     <code class="docutils literal notranslate">
      <span class="pre">
       schema
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../commands/select.html">
     7.3.56.
     <code class="docutils literal notranslate">
      <span class="pre">
       select
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../commands/shutdown.html">
     7.3.57.
     <code class="docutils literal notranslate">
      <span class="pre">
       shutdown
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../commands/status.html">
     7.3.58.
     <code class="docutils literal notranslate">
      <span class="pre">
       status
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../commands/suggest.html">
     7.3.59.
     <code class="docutils literal notranslate">
      <span class="pre">
       suggest
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../commands/table_copy.html">
     7.3.60.
     <code class="docutils literal notranslate">
      <span class="pre">
       table_copy
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../commands/table_create.html">
     7.3.61.
     <code class="docutils literal notranslate">
      <span class="pre">
       table_create
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../commands/table_list.html">
     7.3.62.
     <code class="docutils literal notranslate">
      <span class="pre">
       table_list
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../commands/table_remove.html">
     7.3.63.
     <code class="docutils literal notranslate">
      <span class="pre">
       table_remove
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../commands/table_rename.html">
     7.3.64.
     <code class="docutils literal notranslate">
      <span class="pre">
       table_rename
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../commands/table_tokenize.html">
     7.3.65.
     <code class="docutils literal notranslate">
      <span class="pre">
       table_tokenize
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../commands/thread_dump.html">
     7.3.66.
     <code class="docutils literal notranslate">
      <span class="pre">
       thread_dump
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../commands/thread_limit.html">
     7.3.67.
     <code class="docutils literal notranslate">
      <span class="pre">
       thread_limit
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../commands/tokenize.html">
     7.3.68.
     <code class="docutils literal notranslate">
      <span class="pre">
       tokenize
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../commands/tokenizer_list.html">
     7.3.69.
     <code class="docutils literal notranslate">
      <span class="pre">
       tokenizer_list
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../commands/truncate.html">
     7.3.70.
     <code class="docutils literal notranslate">
      <span class="pre">
       truncate
      </span>
     </code>
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../types.html">
   7.4. Data types
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../tables.html">
   7.5. Tables
  </a>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../column.html">
   7.6. Column
  </a>
  <input checked class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/>
  <label for="toctree-checkbox-3">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../columns/scalar.html">
     7.6.1. Scalar column
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../columns/vector.html">
     7.6.2. Vector column
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../columns/pseudo.html">
     7.6.3. Pseudo column
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../columns/index.html">
     7.6.4. Index column
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../normalizers.html">
   7.7. Normalizers
  </a>
  <input checked class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" type="checkbox"/>
  <label for="toctree-checkbox-4">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../normalizers/normalizer_auto.html">
     7.7.2.1.
     <code class="docutils literal notranslate">
      <span class="pre">
       NormalizerAuto
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../normalizers/normalizer_nfkc100.html">
     7.7.2.2.
     <code class="docutils literal notranslate">
      <span class="pre">
       NormalizerNFKC100
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../normalizers/normalizer_nfkc121.html">
     7.7.2.3.
     <code class="docutils literal notranslate">
      <span class="pre">
       NormalizerNFKC121
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../normalizers/normalizer_nfkc130.html">
     7.7.2.4.
     <code class="docutils literal notranslate">
      <span class="pre">
       NormalizerNFKC130
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../normalizers/normalizer_nfkc51.html">
     7.7.2.5.
     <code class="docutils literal notranslate">
      <span class="pre">
       NormalizerNFKC51
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../normalizers/normalizer_table.html">
     7.7.2.6.
     <code class="docutils literal notranslate">
      <span class="pre">
       NormalizerTable
      </span>
     </code>
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../tokenizers.html">
   7.8. Tokenizers
  </a>
  <input checked class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" type="checkbox"/>
  <label for="toctree-checkbox-5">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../tokenizer/summary.html">
     7.8.1. Summary
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../tokenizers/token_bigram.html">
     7.8.2.
     <code class="docutils literal notranslate">
      <span class="pre">
       TokenBigram
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../tokenizers/token_bigram_ignore_blank.html">
     7.8.3.
     <code class="docutils literal notranslate">
      <span class="pre">
       TokenBigramIgnoreBlank
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../tokenizers/token_bigram_ignore_blank_split_symbol.html">
     7.8.4.
     <code class="docutils literal notranslate">
      <span class="pre">
       TokenBigramIgnoreBlankSplitSymbol
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../tokenizers/token_bigram_ignore_blank_split_symbol_alpha.html">
     7.8.5.
     <code class="docutils literal notranslate">
      <span class="pre">
       TokenBigramIgnoreBlankSplitSymbolAlpha
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../tokenizers/token_bigram_ignore_blank_split_symbol_alpha_digit.html">
     7.8.6.
     <code class="docutils literal notranslate">
      <span class="pre">
       TokenBigramIgnoreBlankSplitSymbolAlphaDigit
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../tokenizers/token_bigram_split_symbol.html">
     7.8.7.
     <code class="docutils literal notranslate">
      <span class="pre">
       TokenBigramSplitSymbol
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../tokenizers/token_bigram_split_symbol_alpha.html">
     7.8.8.
     <code class="docutils literal notranslate">
      <span class="pre">
       TokenBigramSplitSymbolAlpha
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../tokenizers/token_bigram_split_symbol_alpha_digit.html">
     7.8.9.
     <code class="docutils literal notranslate">
      <span class="pre">
       TokenBigramSplitSymbolAlphaDigit
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../tokenizers/token_delimit.html">
     7.8.10.
     <code class="docutils literal notranslate">
      <span class="pre">
       TokenDelimit
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../tokenizers/token_delimit_null.html">
     7.8.11.
     <code class="docutils literal notranslate">
      <span class="pre">
       TokenDelimitNull
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../tokenizers/token_mecab.html">
     7.8.12.
     <code class="docutils literal notranslate">
      <span class="pre">
       TokenMecab
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../tokenizers/token_ngram.html">
     7.8.13.
     <code class="docutils literal notranslate">
      <span class="pre">
       TokenNgram
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../tokenizers/token_pattern.html">
     7.8.14.
     <code class="docutils literal notranslate">
      <span class="pre">
       TokenPattern
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../tokenizers/token_regexp.html">
     7.8.15.
     <code class="docutils literal notranslate">
      <span class="pre">
       TokenRegexp
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../tokenizers/token_table.html">
     7.8.16.
     <code class="docutils literal notranslate">
      <span class="pre">
       TokenTable
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../tokenizers/token_trigram.html">
     7.8.17.
     <code class="docutils literal notranslate">
      <span class="pre">
       TokenTrigram
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../tokenizers/token_unigram.html">
     7.8.18.
     <code class="docutils literal notranslate">
      <span class="pre">
       TokenUnigram
      </span>
     </code>
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../token_filters.html">
   7.9. Token filters
  </a>
  <input checked class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" type="checkbox"/>
  <label for="toctree-checkbox-6">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../token_filter/summary.html">
     7.9.1. Summary
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../token_filters/token_filter_nfkc100.html">
     7.9.2.
     <code class="docutils literal notranslate">
      <span class="pre">
       TokenFilterNFKC100
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../token_filters/token_filter_stem.html">
     7.9.3.
     <code class="docutils literal notranslate">
      <span class="pre">
       TokenFilterStem
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../token_filters/token_filter_stop_word.html">
     7.9.4.
     <code class="docutils literal notranslate">
      <span class="pre">
       TokenFilterStopWord
      </span>
     </code>
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../query_expanders.html">
   7.10. Query expanders
  </a>
  <input checked class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" type="checkbox"/>
  <label for="toctree-checkbox-7">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../query_expanders/tsv.html">
     7.10.1. QueryExpanderTSV
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../scorer.html">
   7.11. Scorer
  </a>
  <input checked class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" type="checkbox"/>
  <label for="toctree-checkbox-8">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../scorers/scorer_tf_at_most.html">
     7.11.3.1.
     <code class="docutils literal notranslate">
      <span class="pre">
       scorer_tf_at_most
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../scorers/scorer_tf_idf.html">
     7.11.3.2.
     <code class="docutils literal notranslate">
      <span class="pre">
       scorer_tf_idf
      </span>
     </code>
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../cast.html">
   7.12. Cast
  </a>
 </li>
 <li class="toctree-l1 current active has-children">
  <a class="reference internal" href="../grn_expr.html">
   7.13. grn_expr
  </a>
  <input checked class="toctree-checkbox" id="toctree-checkbox-9" name="toctree-checkbox-9" type="checkbox"/>
  <label for="toctree-checkbox-9">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul class="current">
   <li class="toctree-l2">
    <a class="reference internal" href="query_syntax.html">
     7.13.1. Query syntax
    </a>
   </li>
   <li class="toctree-l2 current active">
    <a class="current reference internal" href="#">
     7.13.2. Script syntax
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../regular_expression.html">
   7.14. Regular expression
  </a>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../function.html">
   7.15. Function
  </a>
  <input checked class="toctree-checkbox" id="toctree-checkbox-10" name="toctree-checkbox-10" type="checkbox"/>
  <label for="toctree-checkbox-10">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../functions/between.html">
     7.15.1.
     <code class="docutils literal notranslate">
      <span class="pre">
       between
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../functions/cast_loose.html">
     7.15.2.
     <code class="docutils literal notranslate">
      <span class="pre">
       cast_loose
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../functions/edit_distance.html">
     7.15.3. edit_distance
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../functions/fuzzy_search.html">
     7.15.4.
     <code class="docutils literal notranslate">
      <span class="pre">
       fuzzy_search
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../functions/geo_distance.html">
     7.15.5.
     <code class="docutils literal notranslate">
      <span class="pre">
       geo_distance
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../functions/geo_in_circle.html">
     7.15.6. geo_in_circle
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../functions/geo_in_rectangle.html">
     7.15.7. geo_in_rectangle
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../functions/highlight_full.html">
     7.15.8.
     <code class="docutils literal notranslate">
      <span class="pre">
       highlight_full
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../functions/highlight_html.html">
     7.15.9.
     <code class="docutils literal notranslate">
      <span class="pre">
       highlight_html
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../functions/html_untag.html">
     7.15.10.
     <code class="docutils literal notranslate">
      <span class="pre">
       html_untag
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../functions/in_records.html">
     7.15.11.
     <code class="docutils literal notranslate">
      <span class="pre">
       in_records
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../functions/in_values.html">
     7.15.12.
     <code class="docutils literal notranslate">
      <span class="pre">
       in_values
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../functions/math_abs.html">
     7.15.13.
     <code class="docutils literal notranslate">
      <span class="pre">
       math_abs
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../functions/now.html">
     7.15.14. now
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../functions/number_classify.html">
     7.15.15.
     <code class="docutils literal notranslate">
      <span class="pre">
       number_classify
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../functions/prefix_rk_search.html">
     7.15.16.
     <code class="docutils literal notranslate">
      <span class="pre">
       prefix_rk_search
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../functions/query.html">
     7.15.17.
     <code class="docutils literal notranslate">
      <span class="pre">
       query
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../functions/query_parallel_or.html">
     7.15.18.
     <code class="docutils literal notranslate">
      <span class="pre">
       query_parallel_or
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../functions/rand.html">
     7.15.19. rand
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../functions/snippet.html">
     7.15.20.
     <code class="docutils literal notranslate">
      <span class="pre">
       snippet
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../functions/snippet_html.html">
     7.15.21.
     <code class="docutils literal notranslate">
      <span class="pre">
       snippet_html
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../functions/string_length.html">
     7.15.22.
     <code class="docutils literal notranslate">
      <span class="pre">
       string_length
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../functions/string_slice.html">
     7.15.23.
     <code class="docutils literal notranslate">
      <span class="pre">
       string_slice
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../functions/string_substring.html">
     7.15.24.
     <code class="docutils literal notranslate">
      <span class="pre">
       string_substring
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../functions/sub_filter.html">
     7.15.25.
     <code class="docutils literal notranslate">
      <span class="pre">
       sub_filter
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../functions/time_classify_day.html">
     7.15.26.
     <code class="docutils literal notranslate">
      <span class="pre">
       time_classify_day
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../functions/time_classify_day_of_week.html">
     7.15.27.
     <code class="docutils literal notranslate">
      <span class="pre">
       time_classify_day_of_week
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../functions/time_classify_hour.html">
     7.15.28.
     <code class="docutils literal notranslate">
      <span class="pre">
       time_classify_hour
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../functions/time_classify_minute.html">
     7.15.29.
     <code class="docutils literal notranslate">
      <span class="pre">
       time_classify_minute
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../functions/time_classify_month.html">
     7.15.30.
     <code class="docutils literal notranslate">
      <span class="pre">
       time_classify_month
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../functions/time_classify_second.html">
     7.15.31.
     <code class="docutils literal notranslate">
      <span class="pre">
       time_classify_second
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../functions/time_classify_week.html">
     7.15.32.
     <code class="docutils literal notranslate">
      <span class="pre">
       time_classify_week
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../functions/time_classify_year.html">
     7.15.33.
     <code class="docutils literal notranslate">
      <span class="pre">
       time_classify_year
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../functions/vector_find.html">
     7.15.34.
     <code class="docutils literal notranslate">
      <span class="pre">
       vector_find
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../functions/vector_new.html">
     7.15.35.
     <code class="docutils literal notranslate">
      <span class="pre">
       vector_new
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../functions/vector_size.html">
     7.15.36.
     <code class="docutils literal notranslate">
      <span class="pre">
       vector_size
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../functions/vector_slice.html">
     7.15.37.
     <code class="docutils literal notranslate">
      <span class="pre">
       vector_slice
      </span>
     </code>
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../window_function.html">
   7.16. Window function
  </a>
  <input checked class="toctree-checkbox" id="toctree-checkbox-11" name="toctree-checkbox-11" type="checkbox"/>
  <label for="toctree-checkbox-11">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../window_functions/record_number.html">
     7.16.1.
     <code class="docutils literal notranslate">
      <span class="pre">
       record_number
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../window_functions/window_count.html">
     7.16.2.
     <code class="docutils literal notranslate">
      <span class="pre">
       window_count
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../window_functions/window_rank.html">
     7.16.3.
     <code class="docutils literal notranslate">
      <span class="pre">
       window_rank
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../window_functions/window_record_number.html">
     7.16.4.
     <code class="docutils literal notranslate">
      <span class="pre">
       window_record_number
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../window_functions/window_sum.html">
     7.16.5.
     <code class="docutils literal notranslate">
      <span class="pre">
       window_sum
      </span>
     </code>
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../operations.html">
   7.17. Operations
  </a>
  <input checked class="toctree-checkbox" id="toctree-checkbox-12" name="toctree-checkbox-12" type="checkbox"/>
  <label for="toctree-checkbox-12">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../operations/geolocation_search.html">
     7.17.1. Geolocation search
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../operations/prefix_rk_search.html">
     7.17.2. Prefix RK search
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../configuration.html">
   7.18. Configuration
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../alias.html">
   7.19. Alias
  </a>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../suggest.html">
   7.20. Suggest
  </a>
  <input checked class="toctree-checkbox" id="toctree-checkbox-13" name="toctree-checkbox-13" type="checkbox"/>
  <label for="toctree-checkbox-13">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../suggest/introduction.html">
     7.20.1. Introduction
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../suggest/completion.html">
     7.20.2. Completion
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../suggest/correction.html">
     7.20.3. Correction
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../suggest/suggestion.html">
     7.20.4. Suggestion
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../indexing.html">
   7.21. Indexing
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../sharding.html">
   7.22. Sharding
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../log.html">
   7.23. Log
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../tuning.html">
   7.24. Tuning
  </a>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../api.html">
   7.25. API
  </a>
  <input checked class="toctree-checkbox" id="toctree-checkbox-14" name="toctree-checkbox-14" type="checkbox"/>
  <label for="toctree-checkbox-14">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../api/overview.html">
     7.25.1. Overview
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../api/global_configurations.html">
     7.25.2. Global configurations
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../api/plugin.html">
     7.25.3. Plugin
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../api/grn_cache.html">
     7.25.4.
     <code class="docutils literal notranslate">
      <span class="pre">
       grn_cache
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../api/grn_column.html">
     7.25.5.
     <code class="docutils literal notranslate">
      <span class="pre">
       grn_column
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../api/grn_command_version.html">
     7.25.6.
     <code class="docutils literal notranslate">
      <span class="pre">
       grn_command_version
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../api/grn_content_type.html">
     7.25.7.
     <code class="docutils literal notranslate">
      <span class="pre">
       grn_content_type
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../api/grn_ctx.html">
     7.25.8.
     <code class="docutils literal notranslate">
      <span class="pre">
       grn_ctx
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../api/grn_db.html">
     7.25.9.
     <code class="docutils literal notranslate">
      <span class="pre">
       grn_db
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../api/grn_encoding.html">
     7.25.10.
     <code class="docutils literal notranslate">
      <span class="pre">
       grn_encoding
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../api/grn_expr.html">
     7.25.11. grn_expr
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../api/grn_geo.html">
     7.25.12.
     <code class="docutils literal notranslate">
      <span class="pre">
       grn_geo
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../api/grn_hook.html">
     7.25.13.
     <code class="docutils literal notranslate">
      <span class="pre">
       grn_hook
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../api/grn_ii.html">
     7.25.14.
     <code class="docutils literal notranslate">
      <span class="pre">
       grn_ii
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../api/grn_index_cursor.html">
     7.25.15.
     <code class="docutils literal notranslate">
      <span class="pre">
       grn_index_cursor
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../api/grn_info.html">
     7.25.16.
     <code class="docutils literal notranslate">
      <span class="pre">
       grn_info
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../api/grn_inspect.html">
     7.25.17.
     <code class="docutils literal notranslate">
      <span class="pre">
       grn_inspect
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../api/grn_match_escalation.html">
     7.25.18.
     <code class="docutils literal notranslate">
      <span class="pre">
       grn_match_escalation
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../api/grn_obj.html">
     7.25.19.
     <code class="docutils literal notranslate">
      <span class="pre">
       grn_obj
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../api/grn_proc.html">
     7.25.20.
     <code class="docutils literal notranslate">
      <span class="pre">
       grn_proc
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../api/grn_search.html">
     7.25.21.
     <code class="docutils literal notranslate">
      <span class="pre">
       grn_search
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../api/grn_table.html">
     7.25.22.
     <code class="docutils literal notranslate">
      <span class="pre">
       grn_table
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../api/grn_table_cursor.html">
     7.25.23.
     <code class="docutils literal notranslate">
      <span class="pre">
       grn_table_cursor
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../api/grn_thread.html">
     7.25.24.
     <code class="docutils literal notranslate">
      <span class="pre">
       grn_thread_*
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../api/grn_type.html">
     7.25.25.
     <code class="docutils literal notranslate">
      <span class="pre">
       grn_type
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../api/grn_user_data.html">
     7.25.26.
     <code class="docutils literal notranslate">
      <span class="pre">
       grn_user_data
      </span>
     </code>
    </a>
   </li>
  </ul>
 </li>
</ul>

  </div>
</nav>
              </div>
              <div class="sidebar-end-items">
              </div>
            </div>
            
          

          
          <div class="d-none d-xl-block col-xl-2 bd-toc">
            
              
              <div class="toc-item">
                
<div class="tocsection onthispage pt-5 pb-3">
    <i class="fas fa-list"></i> On this page
</div>

<nav id="bd-toc-nav">
    <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#security">
   7.13.2.1. Security
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#sample-data">
   7.13.2.2. Sample data
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#literals">
   7.13.2.3. Literals
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#integer">
     7.13.2.3.1. Integer
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#float">
     7.13.2.3.2. Float
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#string">
     7.13.2.3.3. String
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#boolean">
     7.13.2.3.4. Boolean
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#null">
     7.13.2.3.5. Null
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#time">
     7.13.2.3.6. Time
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#geo-point">
     7.13.2.3.7. Geo point
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#array">
     7.13.2.3.8. Array
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#object-literal">
     7.13.2.3.9. Object literal
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#control-syntaxes">
   7.13.2.4. Control syntaxes
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#grouping">
   7.13.2.5. Grouping
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#function-call">
   7.13.2.6. Function call
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#basic-operators">
   7.13.2.7. Basic operators
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#arithmetic-operators">
     7.13.2.7.1. Arithmetic operators
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#addition-operator">
       7.13.2.7.1.1. Addition operator
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#subtraction-operator">
       7.13.2.7.1.2. Subtraction operator
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#multiplication-operator">
       7.13.2.7.1.3. Multiplication operator
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#division-operator">
       7.13.2.7.1.4. Division operator
      </a>
     </li>
    </ul>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#logical-operators">
     7.13.2.7.2. Logical operators
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#logical-not-operator">
       7.13.2.7.2.1. Logical NOT operator
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#logical-and-operator">
       7.13.2.7.2.2. Logical AND operator
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#logical-or-operator">
       7.13.2.7.2.3. Logical OR operator
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#logical-and-not-operator">
       7.13.2.7.2.4. Logical AND NOT operator
      </a>
     </li>
    </ul>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#bitwise-operators">
     7.13.2.7.3. Bitwise operators
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#bitwise-not-operator">
       7.13.2.7.3.1. Bitwise NOT operator
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#bitwise-and-operator">
       7.13.2.7.3.2. Bitwise AND operator
      </a>
     </li>
    </ul>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#bitwise-or-operator">
     7.13.2.7.4. Bitwise OR operator
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#bitwise-xor-operator">
     7.13.2.7.5. Bitwise XOR operator
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#shift-operators">
     7.13.2.7.6. Shift operators
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#left-shift-operator">
       7.13.2.7.6.1. Left shift operator
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#signed-right-shift-operator">
       7.13.2.7.6.2. Signed right shift operator
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#unsigned-right-shift-operator">
       7.13.2.7.6.3. Unsigned right shift operator
      </a>
     </li>
    </ul>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#comparison-operators">
     7.13.2.7.7. Comparison operators
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#equal-operator">
       7.13.2.7.7.1. Equal operator
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#not-equal-operator">
       7.13.2.7.7.2. Not equal operator
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#less-than-operator">
       7.13.2.7.7.3. Less than operator
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#less-than-or-equal-to-operator">
       7.13.2.7.7.4. Less than or equal to operator
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#greater-than-operator">
       7.13.2.7.7.5. Greater than operator
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#greater-than-or-equal-to-operator">
       7.13.2.7.7.6. Greater than or equal to operator
      </a>
     </li>
    </ul>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#assignment-operators">
   7.13.2.8. Assignment operators
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#addition-assignment-operator">
     7.13.2.8.1. Addition assignment operator
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#subtraction-assignment-operator">
     7.13.2.8.2. Subtraction assignment operator
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#multiplication-assignment-operator">
     7.13.2.8.3. Multiplication assignment operator
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#division-assignment-operator">
     7.13.2.8.4. Division assignment operator
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#modulo-assignment-operator">
     7.13.2.8.5. Modulo assignment operator
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#bitwise-left-shift-assignment-operator">
     7.13.2.8.6. Bitwise left shift assignment operator
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#bitwise-signed-right-shift-assignment-operator">
     7.13.2.8.7. Bitwise signed right shift assignment operator
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#bitwise-unsigned-right-shift-assignment-operator">
     7.13.2.8.8. Bitwise unsigned right shift assignment operator
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#bitwise-and-assignment-operator">
     7.13.2.8.9. Bitwise AND assignment operator
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#bitwise-or-assignment-operator">
     7.13.2.8.10. Bitwise OR assignment operator
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#bitwise-xor-assignment-operator">
     7.13.2.8.11. Bitwise XOR assignment operator
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#original-operators">
   7.13.2.9. Original operators
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#match-operator">
     7.13.2.9.1. Match operator
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#prefix-search-operator">
     7.13.2.9.2. Prefix search operator
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#suffix-search-operator">
     7.13.2.9.3. Suffix search operator
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#near-search-operator">
     7.13.2.9.4. Near search operator
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#near-phrase-search-operator">
     7.13.2.9.5. Near phrase search operator
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#near-phrase-product-search-operator">
     7.13.2.9.6. Near phrase product search operator
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#ordered-near-phrase-search-operator">
     7.13.2.9.7. Ordered near phrase search operator
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#ordered-near-phrase-product-search-operator">
     7.13.2.9.8. Ordered near phrase product search operator
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#similar-search-operator">
     7.13.2.9.9. Similar search operator
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#term-extract-operator">
     7.13.2.9.10. Term extract operator
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#regular-expression-operator">
     7.13.2.9.11. Regular expression operator
    </a>
   </li>
  </ul>
 </li>
</ul>

</nav>
              </div>
              
              <div class="toc-item">
                

<div class="tocsection editthispage">
    <a href="https://github.com/groonga/groonga/edit/master/doc/source/reference/grn_expr/script_syntax.rst">
        <i class="fas fa-pencil-alt"></i> Edit this page
    </a>
</div>

              </div>
              
            
          </div>
          

          
          
            
          
          <main class="col-12 col-md-9 col-xl-7 py-md-5 pl-md-5 pr-md-4 bd-content" role="main">
              
              <div>
                
  <div class="section" id="script-syntax">
<h1><span class="section-number">7.13.2. </span>Script syntax<a class="headerlink" href="#script-syntax" title="Permalink to this headline">¶</a></h1>
<p>Script syntax is a syntax to specify complex search condition. It is
similar to ECMAScript. For example, <code class="docutils literal notranslate"><span class="pre">_key</span> <span class="pre">==</span> <span class="pre">&quot;book&quot;</span></code> means that
groonga searches records that <code class="docutils literal notranslate"><span class="pre">_key</span></code> value is <code class="docutils literal notranslate"><span class="pre">&quot;book&quot;</span></code>. All values
are string in <a class="reference internal" href="query_syntax.html"><span class="doc">Query syntax</span></a> but its own type in script
syntax. For example, <code class="docutils literal notranslate"><span class="pre">&quot;book&quot;</span></code> is string, <code class="docutils literal notranslate"><span class="pre">1</span></code> is integer,
<code class="docutils literal notranslate"><span class="pre">TokenBigram</span></code> is the object whose name is <code class="docutils literal notranslate"><span class="pre">TokenBigram</span></code> and so on.</p>
<p>Script syntax doesn’t support full ECMAScript syntax. For example,
script syntax doesn’t support statement such as <code class="docutils literal notranslate"><span class="pre">if</span></code> control
statement, <code class="docutils literal notranslate"><span class="pre">for</span></code> iteration statement and variable definition
statement. Function definion is not supported too. But script syntax
addes the original additional operators.  They are described after
ECMAScript syntax is described.</p>
<div class="section" id="security">
<span id="script-syntax-security"></span><h2><span class="section-number">7.13.2.1. </span>Security<a class="headerlink" href="#security" title="Permalink to this headline">¶</a></h2>
<p>For security reason, you should not pass an input from users to
Groonga directly. If there is an evil user, the user may input a query
that retrieves records that should not be shown to the user.</p>
<p>Think about the following case.</p>
<p>A Groonga application constructs a Groonga request by the following
program:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">filter</span> <span class="o">=</span> <span class="s2">&quot;column @ </span><span class="se">\&quot;</span><span class="s2">#</span><span class="si">{user_input}</span><span class="se">\&quot;</span><span class="s2">&quot;</span>
<span class="n">select_options</span> <span class="o">=</span> <span class="p">{</span>
  <span class="c1"># ...</span>
  <span class="p">:</span><span class="nb">filter</span> <span class="o">=&gt;</span> <span class="nb">filter</span><span class="p">,</span>
<span class="p">}</span>
<span class="n">groonga_client</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="n">select_options</span><span class="p">)</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">user_input</span></code> is an input from user. If the input is <code class="docutils literal notranslate"><span class="pre">query</span></code>,
here is the constructed <a class="reference internal" href="../commands/select.html#select-filter"><span class="std std-ref">filter</span></a> parameter:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">column</span> <span class="o">@</span> <span class="s2">&quot;query&quot;</span>
</pre></div>
</div>
<p>If the input is <code class="docutils literal notranslate"><span class="pre">x&quot;</span> <span class="pre">||</span> <span class="pre">true</span> <span class="pre">||</span> <span class="pre">&quot;</span></code>, here is the constructed
<a class="reference internal" href="../commands/select.html#select-filter"><span class="std std-ref">filter</span></a> parameter:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">column</span> <span class="o">@</span> <span class="s2">&quot;x&quot;</span> <span class="o">||</span> <span class="n">true</span> <span class="o">||</span> <span class="s2">&quot;&quot;</span>
</pre></div>
</div>
<p>This query matches to all records. The user will get all records from
your database. The user may be evil.</p>
<p>It’s better that you just receive an user input as a value. It means
that you don’t accept that user input can contain operator such as
<code class="docutils literal notranslate"><span class="pre">&#64;</span></code> and <code class="docutils literal notranslate"><span class="pre">&amp;&amp;</span></code>. If you accept operator, user can create evil query.</p>
<p>If user input has only value, you blocks evil query by escaping user
input value. Here is a list how to escape user input value:</p>
<blockquote>
<div><ul class="simple">
<li><p>True value: Convert it to <code class="docutils literal notranslate"><span class="pre">true</span></code>.</p></li>
<li><p>False value: Convert it to <code class="docutils literal notranslate"><span class="pre">false</span></code>.</p></li>
<li><p>Numerical value: Convert it to <a class="reference internal" href="#script-syntax-literal-integer"><span class="std std-ref">Integer</span></a>
or <a class="reference internal" href="#script-syntax-literal-float"><span class="std std-ref">Float</span></a>. For example, <code class="docutils literal notranslate"><span class="pre">1.2</span></code>,
<code class="docutils literal notranslate"><span class="pre">-10</span></code>, <code class="docutils literal notranslate"><span class="pre">314e-2</span></code> and so on.</p></li>
<li><p>String value: Replace <code class="docutils literal notranslate"><span class="pre">&quot;</span></code> with <code class="docutils literal notranslate"><span class="pre">\&quot;</span></code> and <code class="docutils literal notranslate"><span class="pre">\</span></code> with <code class="docutils literal notranslate"><span class="pre">\\</span></code> in
the string value and surround substituted string value by
<code class="docutils literal notranslate"><span class="pre">&quot;</span></code>. For example, <code class="docutils literal notranslate"><span class="pre">double</span> <span class="pre">&quot;</span> <span class="pre">quote</span> <span class="pre">and</span> <span class="pre">back</span> <span class="pre">\</span> <span class="pre">slash</span></code> should be
converted to <code class="docutils literal notranslate"><span class="pre">&quot;double</span> <span class="pre">\&quot;</span> <span class="pre">quote</span> <span class="pre">and</span> <span class="pre">back</span> <span class="pre">\\</span> <span class="pre">slash&quot;</span></code>.</p></li>
</ul>
</div></blockquote>
</div>
<div class="section" id="sample-data">
<h2><span class="section-number">7.13.2.2. </span>Sample data<a class="headerlink" href="#sample-data" title="Permalink to this headline">¶</a></h2>
<p>Here are a schema definition and sample data to show usage.</p>
<p>Execution example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">table_create</span> <span class="n">Entries</span> <span class="n">TABLE_PAT_KEY</span> <span class="n">ShortText</span>
<span class="c1"># [[0, 1337566253.89858, 0.000355720520019531], true]</span>
<span class="n">column_create</span> <span class="n">Entries</span> <span class="n">content</span> <span class="n">COLUMN_SCALAR</span> <span class="n">Text</span>
<span class="c1"># [[0, 1337566253.89858, 0.000355720520019531], true]</span>
<span class="n">column_create</span> <span class="n">Entries</span> <span class="n">n_likes</span> <span class="n">COLUMN_SCALAR</span> <span class="n">UInt32</span>
<span class="c1"># [[0, 1337566253.89858, 0.000355720520019531], true]</span>
<span class="n">table_create</span> <span class="n">Terms</span> <span class="n">TABLE_PAT_KEY</span> <span class="n">ShortText</span> <span class="o">--</span><span class="n">default_tokenizer</span> <span class="n">TokenBigram</span> <span class="o">--</span><span class="n">normalizer</span> <span class="n">NormalizerAuto</span>
<span class="c1"># [[0, 1337566253.89858, 0.000355720520019531], true]</span>
<span class="n">column_create</span> <span class="n">Terms</span> <span class="n">entries_key_index</span> <span class="n">COLUMN_INDEX</span><span class="o">|</span><span class="n">WITH_POSITION</span> <span class="n">Entries</span> <span class="n">_key</span>
<span class="c1"># [[0, 1337566253.89858, 0.000355720520019531], true]</span>
<span class="n">column_create</span> <span class="n">Terms</span> <span class="n">entries_content_index</span> <span class="n">COLUMN_INDEX</span><span class="o">|</span><span class="n">WITH_POSITION</span> <span class="n">Entries</span> <span class="n">content</span>
<span class="c1"># [[0, 1337566253.89858, 0.000355720520019531], true]</span>
<span class="n">load</span> <span class="o">--</span><span class="n">table</span> <span class="n">Entries</span>
<span class="p">[</span>
<span class="p">{</span><span class="s2">&quot;_key&quot;</span><span class="p">:</span>    <span class="s2">&quot;The first post!&quot;</span><span class="p">,</span>
 <span class="s2">&quot;content&quot;</span><span class="p">:</span> <span class="s2">&quot;Welcome! This is my first post!&quot;</span><span class="p">,</span>
 <span class="s2">&quot;n_likes&quot;</span><span class="p">:</span> <span class="mi">5</span><span class="p">},</span>
<span class="p">{</span><span class="s2">&quot;_key&quot;</span><span class="p">:</span>    <span class="s2">&quot;Groonga&quot;</span><span class="p">,</span>
 <span class="s2">&quot;content&quot;</span><span class="p">:</span> <span class="s2">&quot;I started to use Groonga. It&#39;s very fast!&quot;</span><span class="p">,</span>
 <span class="s2">&quot;n_likes&quot;</span><span class="p">:</span> <span class="mi">10</span><span class="p">},</span>
<span class="p">{</span><span class="s2">&quot;_key&quot;</span><span class="p">:</span>    <span class="s2">&quot;Mroonga&quot;</span><span class="p">,</span>
 <span class="s2">&quot;content&quot;</span><span class="p">:</span> <span class="s2">&quot;I also started to use Mroonga. It&#39;s also very fast! Really fast!&quot;</span><span class="p">,</span>
 <span class="s2">&quot;n_likes&quot;</span><span class="p">:</span> <span class="mi">15</span><span class="p">},</span>
<span class="p">{</span><span class="s2">&quot;_key&quot;</span><span class="p">:</span>    <span class="s2">&quot;Good-bye Senna&quot;</span><span class="p">,</span>
 <span class="s2">&quot;content&quot;</span><span class="p">:</span> <span class="s2">&quot;I migrated all Senna system!&quot;</span><span class="p">,</span>
 <span class="s2">&quot;n_likes&quot;</span><span class="p">:</span> <span class="mi">3</span><span class="p">},</span>
<span class="p">{</span><span class="s2">&quot;_key&quot;</span><span class="p">:</span>    <span class="s2">&quot;Good-bye Tritonn&quot;</span><span class="p">,</span>
 <span class="s2">&quot;content&quot;</span><span class="p">:</span> <span class="s2">&quot;I also migrated all Tritonn system!&quot;</span><span class="p">,</span>
 <span class="s2">&quot;n_likes&quot;</span><span class="p">:</span> <span class="mi">3</span><span class="p">}</span>
<span class="p">]</span>
<span class="c1"># [[0, 1337566253.89858, 0.000355720520019531], 5]</span>
</pre></div>
</div>
<p>There is a table, <code class="docutils literal notranslate"><span class="pre">Entries</span></code>, for blog entries. An entry has title,
content and the number of likes for the entry. Title is key of
<code class="docutils literal notranslate"><span class="pre">Entries</span></code>. Content is value of <code class="docutils literal notranslate"><span class="pre">Entries.content</span></code> column. The
number of likes is value of <code class="docutils literal notranslate"><span class="pre">Entries.n_likes</span></code> column.</p>
<p><code class="docutils literal notranslate"><span class="pre">Entries._key</span></code> column and <code class="docutils literal notranslate"><span class="pre">Entries.content</span></code> column are indexed
using <code class="docutils literal notranslate"><span class="pre">TokenBigram</span></code> tokenizer. So both <code class="docutils literal notranslate"><span class="pre">Entries._key</span></code> and
<code class="docutils literal notranslate"><span class="pre">Entries.content</span></code> are fulltext search ready.</p>
<p>OK. The schema and data for examples are ready.</p>
</div>
<div class="section" id="literals">
<span id="script-syntax-literals"></span><h2><span class="section-number">7.13.2.3. </span>Literals<a class="headerlink" href="#literals" title="Permalink to this headline">¶</a></h2>
<div class="section" id="integer">
<span id="script-syntax-literal-integer"></span><h3><span class="section-number">7.13.2.3.1. </span>Integer<a class="headerlink" href="#integer" title="Permalink to this headline">¶</a></h3>
<p>Integer literal is sequence of <code class="docutils literal notranslate"><span class="pre">0</span></code> to <code class="docutils literal notranslate"><span class="pre">9</span></code> such as
<code class="docutils literal notranslate"><span class="pre">1234567890</span></code>. <code class="docutils literal notranslate"><span class="pre">+</span></code> or <code class="docutils literal notranslate"><span class="pre">-</span></code> can be prepended as sign such as
<code class="docutils literal notranslate"><span class="pre">+29</span></code> and <code class="docutils literal notranslate"><span class="pre">-29</span></code>. Integer literal must be decimal. Octal notation,
hex and so on can’t be used.</p>
<p>The maximum value of integer literal is <code class="docutils literal notranslate"><span class="pre">9223372036854775807</span></code> (<code class="docutils literal notranslate"><span class="pre">=</span> <span class="pre">2</span>
<span class="pre">**</span> <span class="pre">63</span> <span class="pre">-</span> <span class="pre">1</span></code>). The minimum value of integer literal is
<code class="docutils literal notranslate"><span class="pre">-9223372036854775808</span></code> (<code class="docutils literal notranslate"><span class="pre">=</span> <span class="pre">-(2</span> <span class="pre">**</span> <span class="pre">63)</span></code>).</p>
</div>
<div class="section" id="float">
<span id="script-syntax-literal-float"></span><h3><span class="section-number">7.13.2.3.2. </span>Float<a class="headerlink" href="#float" title="Permalink to this headline">¶</a></h3>
<p>Float literal is sequence of <code class="docutils literal notranslate"><span class="pre">0</span></code> to <code class="docutils literal notranslate"><span class="pre">9</span></code>, <code class="docutils literal notranslate"><span class="pre">.</span></code> and <code class="docutils literal notranslate"><span class="pre">0</span></code> to <code class="docutils literal notranslate"><span class="pre">9</span></code>
such as <code class="docutils literal notranslate"><span class="pre">3.14</span></code>. <code class="docutils literal notranslate"><span class="pre">+</span></code> or <code class="docutils literal notranslate"><span class="pre">-</span></code> can be prepended as sign such as
<code class="docutils literal notranslate"><span class="pre">+3.14</span></code> and <code class="docutils literal notranslate"><span class="pre">-3.14</span></code>. <code class="docutils literal notranslate"><span class="pre">${RADIX}e${EXPORNENTIAL}</span></code> and
<code class="docutils literal notranslate"><span class="pre">${RADIX}E${EXPORNENTIAL}</span></code> formats are also supported. For example,
<code class="docutils literal notranslate"><span class="pre">314e-2</span></code> is the same as <code class="docutils literal notranslate"><span class="pre">3.14</span></code>.</p>
</div>
<div class="section" id="string">
<span id="script-syntax-literal-string"></span><h3><span class="section-number">7.13.2.3.3. </span>String<a class="headerlink" href="#string" title="Permalink to this headline">¶</a></h3>
<p>String literal is <code class="docutils literal notranslate"><span class="pre">&quot;...&quot;</span></code>. You need to escape <code class="docutils literal notranslate"><span class="pre">&quot;</span></code> in literal by
prepending <code class="docutils literal notranslate"><span class="pre">\\''</span> <span class="pre">such</span> <span class="pre">as</span> <span class="pre">``\&quot;</span></code>. For example, <code class="docutils literal notranslate"><span class="pre">&quot;Say</span> <span class="pre">\&quot;Hello!\&quot;.&quot;</span></code> is
a literal for <code class="docutils literal notranslate"><span class="pre">Say</span> <span class="pre">&quot;Hello!&quot;.</span></code> string.</p>
<p>String encoding must be the same as encoding of database. The default
encoding is UTF-8. It can be changed by <code class="docutils literal notranslate"><span class="pre">--with-default-encoding</span></code>
configure option, <code class="docutils literal notranslate"><span class="pre">--encodiong</span></code> <a class="reference internal" href="../executables/groonga.html"><span class="doc">groonga executable file</span></a> option
and so on.</p>
</div>
<div class="section" id="boolean">
<span id="script-syntax-literal-boolean"></span><h3><span class="section-number">7.13.2.3.4. </span>Boolean<a class="headerlink" href="#boolean" title="Permalink to this headline">¶</a></h3>
<p>Boolean literal is <code class="docutils literal notranslate"><span class="pre">true</span></code> and <code class="docutils literal notranslate"><span class="pre">false</span></code>. <code class="docutils literal notranslate"><span class="pre">true</span></code> means true and
<code class="docutils literal notranslate"><span class="pre">false</span></code> means false.</p>
</div>
<div class="section" id="null">
<span id="script-syntax-literal-null"></span><h3><span class="section-number">7.13.2.3.5. </span>Null<a class="headerlink" href="#null" title="Permalink to this headline">¶</a></h3>
<p>Null literal is <code class="docutils literal notranslate"><span class="pre">null</span></code>. Groonga doesn’t support null value but null
literal is supported.</p>
</div>
<div class="section" id="time">
<span id="script-syntax-literal-time"></span><h3><span class="section-number">7.13.2.3.6. </span>Time<a class="headerlink" href="#time" title="Permalink to this headline">¶</a></h3>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This is the groonga original notation.</p>
</div>
<p>Time literal doesn’t exit. There are string time notation, integer
time notation and float time notation.</p>
<p>String time notation is <code class="docutils literal notranslate"><span class="pre">&quot;YYYY/MM/DD</span> <span class="pre">hh:mm:ss.uuuuuu&quot;</span></code> or
<code class="docutils literal notranslate"><span class="pre">&quot;YYYY-MM-DD</span> <span class="pre">hh:mm:ss.uuuuuu&quot;</span></code>. <code class="docutils literal notranslate"><span class="pre">YYYY</span></code> is year, <code class="docutils literal notranslate"><span class="pre">MM</span></code> is month,
<code class="docutils literal notranslate"><span class="pre">DD</span></code> is day, <code class="docutils literal notranslate"><span class="pre">hh</span></code> is hour, <code class="docutils literal notranslate"><span class="pre">mm</span></code> is minute, <code class="docutils literal notranslate"><span class="pre">ss</span></code> is second and
<code class="docutils literal notranslate"><span class="pre">uuuuuu</span></code> is micro second. It is local time. For example,
<code class="docutils literal notranslate"><span class="pre">&quot;2012/07/23</span> <span class="pre">02:41:10.436218&quot;</span></code> is <code class="docutils literal notranslate"><span class="pre">2012-07-23T02:41:10.436218</span></code> in
ISO 8601 format.</p>
<p>Integer time notation is the number of seconds that have elapsed since
midnight UTC, January 1, 1970. It is also known as POSIX time. For
example, <code class="docutils literal notranslate"><span class="pre">1343011270</span></code> is <code class="docutils literal notranslate"><span class="pre">2012-07-23T02:41:10Z</span></code> in ISO 8601 format.</p>
<p>Float time notation is the number of seconds and micro seconds that
have elapsed since midnight UTC, January 1, 1970. For example,
<code class="docutils literal notranslate"><span class="pre">1343011270.436218</span></code> is <code class="docutils literal notranslate"><span class="pre">2012-07-23T02:41:10.436218Z</span></code> in ISO 8601
format.</p>
</div>
<div class="section" id="geo-point">
<span id="script-syntax-literal-geo-point"></span><h3><span class="section-number">7.13.2.3.7. </span>Geo point<a class="headerlink" href="#geo-point" title="Permalink to this headline">¶</a></h3>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This is the groonga original notation.</p>
</div>
<p>Geo point literal doesn’t exist. There is string geo point notation.</p>
<p>String geo point notation has the following patterns:</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;LATITUDE_IN_MSECxLONGITUDE_IN_MSEC&quot;</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;LATITUDE_IN_MSEC,LONGITUDE_IN_MSEC&quot;</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;LATITUDE_IN_DEGREExLONGITUDE_IN_DEGREE&quot;</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;LATITUDE_IN_DEGREE,LONGITUDE_IN_DEGREE&quot;</span></code></p></li>
</ul>
</div></blockquote>
<p><code class="docutils literal notranslate"><span class="pre">x</span></code> and <code class="docutils literal notranslate"><span class="pre">,</span></code> can be used for separator. Latitude and longitude can
be represented in milliseconds or degree.</p>
</div>
<div class="section" id="array">
<span id="script-syntax-literal-array"></span><h3><span class="section-number">7.13.2.3.8. </span>Array<a class="headerlink" href="#array" title="Permalink to this headline">¶</a></h3>
<p>Array literal is <code class="docutils literal notranslate"><span class="pre">[element1,</span> <span class="pre">element2,</span> <span class="pre">...]</span></code>.</p>
</div>
<div class="section" id="object-literal">
<span id="script-syntax-literal-object"></span><h3><span class="section-number">7.13.2.3.9. </span>Object literal<a class="headerlink" href="#object-literal" title="Permalink to this headline">¶</a></h3>
<p>Object literal is <code class="docutils literal notranslate"><span class="pre">{name1:</span> <span class="pre">value1,</span> <span class="pre">name2:</span> <span class="pre">value2,</span> <span class="pre">...}</span></code>. Groonga
doesn’t support object literal yet.</p>
</div>
</div>
<div class="section" id="control-syntaxes">
<h2><span class="section-number">7.13.2.4. </span>Control syntaxes<a class="headerlink" href="#control-syntaxes" title="Permalink to this headline">¶</a></h2>
<p>Script syntax doesn’t support statement. So you cannot use control
statement such as <code class="docutils literal notranslate"><span class="pre">if</span></code>. You can only use <code class="docutils literal notranslate"><span class="pre">A</span> <span class="pre">?</span> <span class="pre">B</span> <span class="pre">:</span> <span class="pre">C</span></code> expression as
control syntax.</p>
<p><code class="docutils literal notranslate"><span class="pre">A</span> <span class="pre">?</span> <span class="pre">B</span> <span class="pre">:</span> <span class="pre">C</span></code> returns <code class="docutils literal notranslate"><span class="pre">B</span></code> if <code class="docutils literal notranslate"><span class="pre">A</span></code> is true, <code class="docutils literal notranslate"><span class="pre">C</span></code> otherwise.</p>
<p>Here is a simple example:</p>
<p>Execution example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">select</span> <span class="n">Entries</span> <span class="o">--</span><span class="nb">filter</span> <span class="s1">&#39;n_likes == (_id == 1 ? 5 : 3)&#39;</span>
<span class="c1"># [</span>
<span class="c1">#   [</span>
<span class="c1">#     0,</span>
<span class="c1">#     1337566253.89858,</span>
<span class="c1">#     0.000355720520019531</span>
<span class="c1">#   ],</span>
<span class="c1">#   [</span>
<span class="c1">#     [</span>
<span class="c1">#       [</span>
<span class="c1">#         3</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;_id&quot;,</span>
<span class="c1">#           &quot;UInt32&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;_key&quot;,</span>
<span class="c1">#           &quot;ShortText&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;content&quot;,</span>
<span class="c1">#           &quot;Text&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;n_likes&quot;,</span>
<span class="c1">#           &quot;UInt32&quot;</span>
<span class="c1">#         ]</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         4,</span>
<span class="c1">#         &quot;Good-bye Senna&quot;,</span>
<span class="c1">#         &quot;I migrated all Senna system!&quot;,</span>
<span class="c1">#         3</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         5,</span>
<span class="c1">#         &quot;Good-bye Tritonn&quot;,</span>
<span class="c1">#         &quot;I also migrated all Tritonn system!&quot;,</span>
<span class="c1">#         3</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         1,</span>
<span class="c1">#         &quot;The first post!&quot;,</span>
<span class="c1">#         &quot;Welcome! This is my first post!&quot;,</span>
<span class="c1">#         5</span>
<span class="c1">#       ]</span>
<span class="c1">#     ]</span>
<span class="c1">#   ]</span>
<span class="c1"># ]</span>
</pre></div>
</div>
<p>The expression matches records that <code class="docutils literal notranslate"><span class="pre">_id</span></code> column value is equal to <code class="docutils literal notranslate"><span class="pre">1</span></code>
and <code class="docutils literal notranslate"><span class="pre">n_likes</span></code> column value is equal to <code class="docutils literal notranslate"><span class="pre">5</span></code> or <code class="docutils literal notranslate"><span class="pre">_id</span></code> column value is
not equal to 1 and <code class="docutils literal notranslate"><span class="pre">n_likes</span></code> column value is equal to <code class="docutils literal notranslate"><span class="pre">3</span></code>.</p>
</div>
<div class="section" id="grouping">
<h2><span class="section-number">7.13.2.5. </span>Grouping<a class="headerlink" href="#grouping" title="Permalink to this headline">¶</a></h2>
<p>Its syntax is <code class="docutils literal notranslate"><span class="pre">(...)</span></code>. <code class="docutils literal notranslate"><span class="pre">...</span></code> is comma separated expression list.</p>
<p><code class="docutils literal notranslate"><span class="pre">(...)</span></code> groups one ore more expressions and they can be processed as
an expression. <code class="docutils literal notranslate"><span class="pre">a</span> <span class="pre">&amp;&amp;</span> <span class="pre">b</span> <span class="pre">||</span> <span class="pre">c</span></code> means that <code class="docutils literal notranslate"><span class="pre">a</span></code> and <code class="docutils literal notranslate"><span class="pre">b</span></code> are matched
or <code class="docutils literal notranslate"><span class="pre">c</span></code> is matched. <code class="docutils literal notranslate"><span class="pre">a</span> <span class="pre">&amp;&amp;</span> <span class="pre">(b</span> <span class="pre">||</span> <span class="pre">c)</span></code> means that <code class="docutils literal notranslate"><span class="pre">a</span></code> and one of
<code class="docutils literal notranslate"><span class="pre">b</span></code> and <code class="docutils literal notranslate"><span class="pre">c</span></code> are matched.</p>
<p>Here is a simple example:</p>
<p>Execution example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">select</span> <span class="n">Entries</span> <span class="o">--</span><span class="nb">filter</span> <span class="s1">&#39;n_likes &lt; 5 &amp;&amp; content @ &quot;senna&quot; || content @ &quot;fast&quot;&#39;</span>
<span class="c1"># [</span>
<span class="c1">#   [</span>
<span class="c1">#     0,</span>
<span class="c1">#     1337566253.89858,</span>
<span class="c1">#     0.000355720520019531</span>
<span class="c1">#   ],</span>
<span class="c1">#   [</span>
<span class="c1">#     [</span>
<span class="c1">#       [</span>
<span class="c1">#         3</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;_id&quot;,</span>
<span class="c1">#           &quot;UInt32&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;_key&quot;,</span>
<span class="c1">#           &quot;ShortText&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;content&quot;,</span>
<span class="c1">#           &quot;Text&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;n_likes&quot;,</span>
<span class="c1">#           &quot;UInt32&quot;</span>
<span class="c1">#         ]</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         4,</span>
<span class="c1">#         &quot;Good-bye Senna&quot;,</span>
<span class="c1">#         &quot;I migrated all Senna system!&quot;,</span>
<span class="c1">#         3</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         2,</span>
<span class="c1">#         &quot;Groonga&quot;,</span>
<span class="c1">#         &quot;I started to use Groonga. It&#39;s very fast!&quot;,</span>
<span class="c1">#         10</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         3,</span>
<span class="c1">#         &quot;Mroonga&quot;,</span>
<span class="c1">#         &quot;I also started to use Mroonga. It&#39;s also very fast! Really fast!&quot;,</span>
<span class="c1">#         15</span>
<span class="c1">#       ]</span>
<span class="c1">#     ]</span>
<span class="c1">#   ]</span>
<span class="c1"># ]</span>
<span class="n">select</span> <span class="n">Entries</span> <span class="o">--</span><span class="nb">filter</span> <span class="s1">&#39;n_likes &lt; 5 &amp;&amp; (content @ &quot;senna&quot; || content @ &quot;fast&quot;)&#39;</span>
<span class="c1"># [</span>
<span class="c1">#   [</span>
<span class="c1">#     0,</span>
<span class="c1">#     1337566253.89858,</span>
<span class="c1">#     0.000355720520019531</span>
<span class="c1">#   ],</span>
<span class="c1">#   [</span>
<span class="c1">#     [</span>
<span class="c1">#       [</span>
<span class="c1">#         1</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;_id&quot;,</span>
<span class="c1">#           &quot;UInt32&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;_key&quot;,</span>
<span class="c1">#           &quot;ShortText&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;content&quot;,</span>
<span class="c1">#           &quot;Text&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;n_likes&quot;,</span>
<span class="c1">#           &quot;UInt32&quot;</span>
<span class="c1">#         ]</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         4,</span>
<span class="c1">#         &quot;Good-bye Senna&quot;,</span>
<span class="c1">#         &quot;I migrated all Senna system!&quot;,</span>
<span class="c1">#         3</span>
<span class="c1">#       ]</span>
<span class="c1">#     ]</span>
<span class="c1">#   ]</span>
<span class="c1"># ]</span>
</pre></div>
</div>
<p>The first expression doesn’t use grouping. It matches records that
<code class="docutils literal notranslate"><span class="pre">n_likes</span> <span class="pre">&lt;</span> <span class="pre">5</span></code> and <code class="docutils literal notranslate"><span class="pre">content</span> <span class="pre">&#64;</span> <span class="pre">&quot;senna&quot;</span></code> are matched or
<code class="docutils literal notranslate"><span class="pre">content</span> <span class="pre">&#64;</span> <span class="pre">&quot;fast&quot;</span></code> is matched.</p>
<p>The second expression uses grouping. It matches records that <code class="docutils literal notranslate"><span class="pre">n_likes</span>
<span class="pre">&lt;</span> <span class="pre">5</span></code> and one of <code class="docutils literal notranslate"><span class="pre">content</span> <span class="pre">&#64;</span> <span class="pre">&quot;senna&quot;</span></code> or <code class="docutils literal notranslate"><span class="pre">content</span> <span class="pre">&#64;</span> <span class="pre">&quot;fast&quot;</span></code> are
matched.</p>
</div>
<div class="section" id="function-call">
<h2><span class="section-number">7.13.2.6. </span>Function call<a class="headerlink" href="#function-call" title="Permalink to this headline">¶</a></h2>
<p>Its syntax is <code class="docutils literal notranslate"><span class="pre">name(arugment1,</span> <span class="pre">argument2,</span> <span class="pre">...)</span></code>.</p>
<p><code class="docutils literal notranslate"><span class="pre">name(argument1,</span> <span class="pre">argument2,</span> <span class="pre">...)</span></code> calls a function that is named
<code class="docutils literal notranslate"><span class="pre">name</span></code> with arguments <code class="docutils literal notranslate"><span class="pre">argument1</span></code>, <code class="docutils literal notranslate"><span class="pre">argument2</span></code> and <code class="docutils literal notranslate"><span class="pre">...</span></code>.</p>
<p>See <a class="reference internal" href="../function.html"><span class="doc">Function</span></a> for available functin list.</p>
<p>Here is a simple example:</p>
<p>Execution example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">select</span> <span class="n">Entries</span> <span class="o">--</span><span class="nb">filter</span> <span class="s1">&#39;edit_distance(_key, &quot;Groonga&quot;) &lt;= 1&#39;</span>
<span class="c1"># [</span>
<span class="c1">#   [</span>
<span class="c1">#     0,</span>
<span class="c1">#     1337566253.89858,</span>
<span class="c1">#     0.000355720520019531</span>
<span class="c1">#   ],</span>
<span class="c1">#   [</span>
<span class="c1">#     [</span>
<span class="c1">#       [</span>
<span class="c1">#         2</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;_id&quot;,</span>
<span class="c1">#           &quot;UInt32&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;_key&quot;,</span>
<span class="c1">#           &quot;ShortText&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;content&quot;,</span>
<span class="c1">#           &quot;Text&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;n_likes&quot;,</span>
<span class="c1">#           &quot;UInt32&quot;</span>
<span class="c1">#         ]</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         2,</span>
<span class="c1">#         &quot;Groonga&quot;,</span>
<span class="c1">#         &quot;I started to use Groonga. It&#39;s very fast!&quot;,</span>
<span class="c1">#         10</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         3,</span>
<span class="c1">#         &quot;Mroonga&quot;,</span>
<span class="c1">#         &quot;I also started to use Mroonga. It&#39;s also very fast! Really fast!&quot;,</span>
<span class="c1">#         15</span>
<span class="c1">#       ]</span>
<span class="c1">#     ]</span>
<span class="c1">#   ]</span>
<span class="c1"># ]</span>
</pre></div>
</div>
<p>The expression uses <a class="reference internal" href="../functions/edit_distance.html"><span class="doc">edit_distance</span></a>. It
matches records that <code class="docutils literal notranslate"><span class="pre">_key</span></code> column value is similar to
<code class="docutils literal notranslate"><span class="pre">&quot;Groonga&quot;</span></code>. Similality of <code class="docutils literal notranslate"><span class="pre">&quot;Groonga&quot;</span></code> is computed as edit
distance. If edit distance is less than or equal to 1, the value is
treated as similar. In this case, <code class="docutils literal notranslate"><span class="pre">&quot;Groonga&quot;</span></code> and <code class="docutils literal notranslate"><span class="pre">&quot;Mroonga&quot;</span></code> are
treated as similar.</p>
</div>
<div class="section" id="basic-operators">
<h2><span class="section-number">7.13.2.7. </span>Basic operators<a class="headerlink" href="#basic-operators" title="Permalink to this headline">¶</a></h2>
<p>Groonga supports operators defined in ECMAScript.</p>
<div class="section" id="arithmetic-operators">
<h3><span class="section-number">7.13.2.7.1. </span>Arithmetic operators<a class="headerlink" href="#arithmetic-operators" title="Permalink to this headline">¶</a></h3>
<p>Here are arithmetic operators.</p>
<div class="section" id="addition-operator">
<h4><span class="section-number">7.13.2.7.1.1. </span>Addition operator<a class="headerlink" href="#addition-operator" title="Permalink to this headline">¶</a></h4>
<p>Its syntax is <code class="docutils literal notranslate"><span class="pre">number1</span> <span class="pre">+</span> <span class="pre">number2</span></code>.</p>
<p>The operator adds <code class="docutils literal notranslate"><span class="pre">number1</span></code> and <code class="docutils literal notranslate"><span class="pre">number2</span></code> and returns the result.</p>
<p>Here is a simple example:</p>
<p>Execution example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">select</span> <span class="n">Entries</span> <span class="o">--</span><span class="nb">filter</span> <span class="s1">&#39;n_likes == 10 + 5&#39;</span>
<span class="c1"># [</span>
<span class="c1">#   [</span>
<span class="c1">#     0,</span>
<span class="c1">#     1337566253.89858,</span>
<span class="c1">#     0.000355720520019531</span>
<span class="c1">#   ],</span>
<span class="c1">#   [</span>
<span class="c1">#     [</span>
<span class="c1">#       [</span>
<span class="c1">#         1</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;_id&quot;,</span>
<span class="c1">#           &quot;UInt32&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;_key&quot;,</span>
<span class="c1">#           &quot;ShortText&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;content&quot;,</span>
<span class="c1">#           &quot;Text&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;n_likes&quot;,</span>
<span class="c1">#           &quot;UInt32&quot;</span>
<span class="c1">#         ]</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         3,</span>
<span class="c1">#         &quot;Mroonga&quot;,</span>
<span class="c1">#         &quot;I also started to use Mroonga. It&#39;s also very fast! Really fast!&quot;,</span>
<span class="c1">#         15</span>
<span class="c1">#       ]</span>
<span class="c1">#     ]</span>
<span class="c1">#   ]</span>
<span class="c1"># ]</span>
</pre></div>
</div>
<p>The expression matches records that <code class="docutils literal notranslate"><span class="pre">n_likes</span></code> column value is equal
to <code class="docutils literal notranslate"><span class="pre">15</span></code> (= <code class="docutils literal notranslate"><span class="pre">10</span> <span class="pre">+</span> <span class="pre">5</span></code>).</p>
</div>
<div class="section" id="subtraction-operator">
<h4><span class="section-number">7.13.2.7.1.2. </span>Subtraction operator<a class="headerlink" href="#subtraction-operator" title="Permalink to this headline">¶</a></h4>
<p>Its syntax is <code class="docutils literal notranslate"><span class="pre">number1</span> <span class="pre">-</span> <span class="pre">number2</span></code>.</p>
<p>The operator subtracts <code class="docutils literal notranslate"><span class="pre">number2</span></code> from <code class="docutils literal notranslate"><span class="pre">number1</span></code> and returns the result.</p>
<p>Here is a simple example:</p>
<p>Execution example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">select</span> <span class="n">Entries</span> <span class="o">--</span><span class="nb">filter</span> <span class="s1">&#39;n_likes == 20 - 5&#39;</span>
<span class="c1"># [</span>
<span class="c1">#   [</span>
<span class="c1">#     0,</span>
<span class="c1">#     1337566253.89858,</span>
<span class="c1">#     0.000355720520019531</span>
<span class="c1">#   ],</span>
<span class="c1">#   [</span>
<span class="c1">#     [</span>
<span class="c1">#       [</span>
<span class="c1">#         1</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;_id&quot;,</span>
<span class="c1">#           &quot;UInt32&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;_key&quot;,</span>
<span class="c1">#           &quot;ShortText&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;content&quot;,</span>
<span class="c1">#           &quot;Text&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;n_likes&quot;,</span>
<span class="c1">#           &quot;UInt32&quot;</span>
<span class="c1">#         ]</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         3,</span>
<span class="c1">#         &quot;Mroonga&quot;,</span>
<span class="c1">#         &quot;I also started to use Mroonga. It&#39;s also very fast! Really fast!&quot;,</span>
<span class="c1">#         15</span>
<span class="c1">#       ]</span>
<span class="c1">#     ]</span>
<span class="c1">#   ]</span>
<span class="c1"># ]</span>
</pre></div>
</div>
<p>The expression matches records that <code class="docutils literal notranslate"><span class="pre">n_likes</span></code> column value is equal
to <code class="docutils literal notranslate"><span class="pre">15</span></code> (= <code class="docutils literal notranslate"><span class="pre">20</span> <span class="pre">-</span> <span class="pre">5</span></code>).</p>
</div>
<div class="section" id="multiplication-operator">
<h4><span class="section-number">7.13.2.7.1.3. </span>Multiplication operator<a class="headerlink" href="#multiplication-operator" title="Permalink to this headline">¶</a></h4>
<p>Its syntax is <code class="docutils literal notranslate"><span class="pre">number1</span> <span class="pre">*</span> <span class="pre">number2</span></code>.</p>
<p>The operator multiplies <code class="docutils literal notranslate"><span class="pre">number1</span></code> and <code class="docutils literal notranslate"><span class="pre">number2</span></code> and returns the result.</p>
<p>Here is a simple example:</p>
<p>Execution example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">select</span> <span class="n">Entries</span> <span class="o">--</span><span class="nb">filter</span> <span class="s1">&#39;n_likes == 3 * 5&#39;</span>
<span class="c1"># [</span>
<span class="c1">#   [</span>
<span class="c1">#     0,</span>
<span class="c1">#     1337566253.89858,</span>
<span class="c1">#     0.000355720520019531</span>
<span class="c1">#   ],</span>
<span class="c1">#   [</span>
<span class="c1">#     [</span>
<span class="c1">#       [</span>
<span class="c1">#         1</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;_id&quot;,</span>
<span class="c1">#           &quot;UInt32&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;_key&quot;,</span>
<span class="c1">#           &quot;ShortText&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;content&quot;,</span>
<span class="c1">#           &quot;Text&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;n_likes&quot;,</span>
<span class="c1">#           &quot;UInt32&quot;</span>
<span class="c1">#         ]</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         3,</span>
<span class="c1">#         &quot;Mroonga&quot;,</span>
<span class="c1">#         &quot;I also started to use Mroonga. It&#39;s also very fast! Really fast!&quot;,</span>
<span class="c1">#         15</span>
<span class="c1">#       ]</span>
<span class="c1">#     ]</span>
<span class="c1">#   ]</span>
<span class="c1"># ]</span>
</pre></div>
</div>
<p>The expression matches records that <code class="docutils literal notranslate"><span class="pre">n_likes</span></code> column value is equal
to <code class="docutils literal notranslate"><span class="pre">15</span></code> (= <code class="docutils literal notranslate"><span class="pre">3</span> <span class="pre">*</span> <span class="pre">5</span></code>).</p>
</div>
<div class="section" id="division-operator">
<h4><span class="section-number">7.13.2.7.1.4. </span>Division operator<a class="headerlink" href="#division-operator" title="Permalink to this headline">¶</a></h4>
<p>Its syntax is <code class="docutils literal notranslate"><span class="pre">number1</span> <span class="pre">/</span> <span class="pre">number2</span></code> and <code class="docutils literal notranslate"><span class="pre">number1</span> <span class="pre">%</span> <span class="pre">number2</span></code>.</p>
<p>The operator divides <code class="docutils literal notranslate"><span class="pre">number2</span></code> by <code class="docutils literal notranslate"><span class="pre">number1</span></code>. <code class="docutils literal notranslate"><span class="pre">/</span></code> returns the
quotient of result. <code class="docutils literal notranslate"><span class="pre">%</span></code> returns the remainder of result.</p>
<p>Here is simple examples.</p>
<p>Execution example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">select</span> <span class="n">Entries</span> <span class="o">--</span><span class="nb">filter</span> <span class="s1">&#39;n_likes == 26 / 7&#39;</span>
<span class="c1"># [</span>
<span class="c1">#   [</span>
<span class="c1">#     0,</span>
<span class="c1">#     1337566253.89858,</span>
<span class="c1">#     0.000355720520019531</span>
<span class="c1">#   ],</span>
<span class="c1">#   [</span>
<span class="c1">#     [</span>
<span class="c1">#       [</span>
<span class="c1">#         2</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;_id&quot;,</span>
<span class="c1">#           &quot;UInt32&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;_key&quot;,</span>
<span class="c1">#           &quot;ShortText&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;content&quot;,</span>
<span class="c1">#           &quot;Text&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;n_likes&quot;,</span>
<span class="c1">#           &quot;UInt32&quot;</span>
<span class="c1">#         ]</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         4,</span>
<span class="c1">#         &quot;Good-bye Senna&quot;,</span>
<span class="c1">#         &quot;I migrated all Senna system!&quot;,</span>
<span class="c1">#         3</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         5,</span>
<span class="c1">#         &quot;Good-bye Tritonn&quot;,</span>
<span class="c1">#         &quot;I also migrated all Tritonn system!&quot;,</span>
<span class="c1">#         3</span>
<span class="c1">#       ]</span>
<span class="c1">#     ]</span>
<span class="c1">#   ]</span>
<span class="c1"># ]</span>
</pre></div>
</div>
<p>The expression matches records that <code class="docutils literal notranslate"><span class="pre">n_likes</span></code> column value is equal
to <code class="docutils literal notranslate"><span class="pre">3</span></code> (= <code class="docutils literal notranslate"><span class="pre">26</span> <span class="pre">/</span> <span class="pre">7</span></code>).</p>
<p>Execution example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">select</span> <span class="n">Entries</span> <span class="o">--</span><span class="nb">filter</span> <span class="s1">&#39;n_likes == 26 % 7&#39;</span>
<span class="c1"># [</span>
<span class="c1">#   [</span>
<span class="c1">#     0,</span>
<span class="c1">#     1337566253.89858,</span>
<span class="c1">#     0.000355720520019531</span>
<span class="c1">#   ],</span>
<span class="c1">#   [</span>
<span class="c1">#     [</span>
<span class="c1">#       [</span>
<span class="c1">#         1</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;_id&quot;,</span>
<span class="c1">#           &quot;UInt32&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;_key&quot;,</span>
<span class="c1">#           &quot;ShortText&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;content&quot;,</span>
<span class="c1">#           &quot;Text&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;n_likes&quot;,</span>
<span class="c1">#           &quot;UInt32&quot;</span>
<span class="c1">#         ]</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         1,</span>
<span class="c1">#         &quot;The first post!&quot;,</span>
<span class="c1">#         &quot;Welcome! This is my first post!&quot;,</span>
<span class="c1">#         5</span>
<span class="c1">#       ]</span>
<span class="c1">#     ]</span>
<span class="c1">#   ]</span>
<span class="c1"># ]</span>
</pre></div>
</div>
<p>The expression matches records that <code class="docutils literal notranslate"><span class="pre">n_likes</span></code> column value is equal
to <code class="docutils literal notranslate"><span class="pre">5</span></code> (= <code class="docutils literal notranslate"><span class="pre">26</span> <span class="pre">%</span> <span class="pre">7</span></code>).</p>
</div>
</div>
<div class="section" id="logical-operators">
<h3><span class="section-number">7.13.2.7.2. </span>Logical operators<a class="headerlink" href="#logical-operators" title="Permalink to this headline">¶</a></h3>
<p>Here are logical operators.</p>
<div class="section" id="logical-not-operator">
<h4><span class="section-number">7.13.2.7.2.1. </span>Logical NOT operator<a class="headerlink" href="#logical-not-operator" title="Permalink to this headline">¶</a></h4>
<p>Its syntax is <code class="docutils literal notranslate"><span class="pre">!condition</span></code>.</p>
<p>The operator inverts boolean value of <code class="docutils literal notranslate"><span class="pre">condition</span></code>.</p>
<p>Here is a simple example:</p>
<p>Execution example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">select</span> <span class="n">Entries</span> <span class="o">--</span><span class="nb">filter</span> <span class="s1">&#39;!(n_likes == 5)&#39;</span>
<span class="c1"># [</span>
<span class="c1">#   [</span>
<span class="c1">#     0,</span>
<span class="c1">#     1337566253.89858,</span>
<span class="c1">#     0.000355720520019531</span>
<span class="c1">#   ],</span>
<span class="c1">#   [</span>
<span class="c1">#     [</span>
<span class="c1">#       [</span>
<span class="c1">#         4</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;_id&quot;,</span>
<span class="c1">#           &quot;UInt32&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;_key&quot;,</span>
<span class="c1">#           &quot;ShortText&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;content&quot;,</span>
<span class="c1">#           &quot;Text&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;n_likes&quot;,</span>
<span class="c1">#           &quot;UInt32&quot;</span>
<span class="c1">#         ]</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         4,</span>
<span class="c1">#         &quot;Good-bye Senna&quot;,</span>
<span class="c1">#         &quot;I migrated all Senna system!&quot;,</span>
<span class="c1">#         3</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         5,</span>
<span class="c1">#         &quot;Good-bye Tritonn&quot;,</span>
<span class="c1">#         &quot;I also migrated all Tritonn system!&quot;,</span>
<span class="c1">#         3</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         2,</span>
<span class="c1">#         &quot;Groonga&quot;,</span>
<span class="c1">#         &quot;I started to use Groonga. It&#39;s very fast!&quot;,</span>
<span class="c1">#         10</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         3,</span>
<span class="c1">#         &quot;Mroonga&quot;,</span>
<span class="c1">#         &quot;I also started to use Mroonga. It&#39;s also very fast! Really fast!&quot;,</span>
<span class="c1">#         15</span>
<span class="c1">#       ]</span>
<span class="c1">#     ]</span>
<span class="c1">#   ]</span>
<span class="c1"># ]</span>
</pre></div>
</div>
<p>The expression matches records that <code class="docutils literal notranslate"><span class="pre">n_likes</span></code> column value is not
equal to <code class="docutils literal notranslate"><span class="pre">5</span></code>.</p>
</div>
<div class="section" id="logical-and-operator">
<h4><span class="section-number">7.13.2.7.2.2. </span>Logical AND operator<a class="headerlink" href="#logical-and-operator" title="Permalink to this headline">¶</a></h4>
<p>Its syntax is <code class="docutils literal notranslate"><span class="pre">condition1</span> <span class="pre">&amp;&amp;</span> <span class="pre">condition2</span></code>.</p>
<p>The operator returns true if both of <code class="docutils literal notranslate"><span class="pre">condition1</span></code> and
<code class="docutils literal notranslate"><span class="pre">condition2</span></code> are true, false otherwise.</p>
<p>Here is a simple example:</p>
<p>Execution example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">select</span> <span class="n">Entries</span> <span class="o">--</span><span class="nb">filter</span> <span class="s1">&#39;content @ &quot;fast&quot; &amp;&amp; n_likes &gt;= 10&#39;</span>
<span class="c1"># [</span>
<span class="c1">#   [</span>
<span class="c1">#     0,</span>
<span class="c1">#     1337566253.89858,</span>
<span class="c1">#     0.000355720520019531</span>
<span class="c1">#   ],</span>
<span class="c1">#   [</span>
<span class="c1">#     [</span>
<span class="c1">#       [</span>
<span class="c1">#         2</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;_id&quot;,</span>
<span class="c1">#           &quot;UInt32&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;_key&quot;,</span>
<span class="c1">#           &quot;ShortText&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;content&quot;,</span>
<span class="c1">#           &quot;Text&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;n_likes&quot;,</span>
<span class="c1">#           &quot;UInt32&quot;</span>
<span class="c1">#         ]</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         2,</span>
<span class="c1">#         &quot;Groonga&quot;,</span>
<span class="c1">#         &quot;I started to use Groonga. It&#39;s very fast!&quot;,</span>
<span class="c1">#         10</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         3,</span>
<span class="c1">#         &quot;Mroonga&quot;,</span>
<span class="c1">#         &quot;I also started to use Mroonga. It&#39;s also very fast! Really fast!&quot;,</span>
<span class="c1">#         15</span>
<span class="c1">#       ]</span>
<span class="c1">#     ]</span>
<span class="c1">#   ]</span>
<span class="c1"># ]</span>
</pre></div>
</div>
<p>The expression matches records that <code class="docutils literal notranslate"><span class="pre">content</span></code> column value has the
word <code class="docutils literal notranslate"><span class="pre">fast</span></code> and <code class="docutils literal notranslate"><span class="pre">n_likes</span></code> column value is greater or equal to
<code class="docutils literal notranslate"><span class="pre">10</span></code>.</p>
</div>
<div class="section" id="logical-or-operator">
<h4><span class="section-number">7.13.2.7.2.3. </span>Logical OR operator<a class="headerlink" href="#logical-or-operator" title="Permalink to this headline">¶</a></h4>
<p>Its syntax is <code class="docutils literal notranslate"><span class="pre">condition1</span> <span class="pre">||</span> <span class="pre">condition2</span></code>.</p>
<p>The operator returns true if either <code class="docutils literal notranslate"><span class="pre">condition1</span></code> or <code class="docutils literal notranslate"><span class="pre">condition2</span></code> is
true, false otherwise.</p>
<p>Here is a simple example:</p>
<p>Execution example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">select</span> <span class="n">Entries</span> <span class="o">--</span><span class="nb">filter</span> <span class="s1">&#39;n_likes == 5 || n_likes == 10&#39;</span>
<span class="c1"># [</span>
<span class="c1">#   [</span>
<span class="c1">#     0,</span>
<span class="c1">#     1337566253.89858,</span>
<span class="c1">#     0.000355720520019531</span>
<span class="c1">#   ],</span>
<span class="c1">#   [</span>
<span class="c1">#     [</span>
<span class="c1">#       [</span>
<span class="c1">#         2</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;_id&quot;,</span>
<span class="c1">#           &quot;UInt32&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;_key&quot;,</span>
<span class="c1">#           &quot;ShortText&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;content&quot;,</span>
<span class="c1">#           &quot;Text&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;n_likes&quot;,</span>
<span class="c1">#           &quot;UInt32&quot;</span>
<span class="c1">#         ]</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         1,</span>
<span class="c1">#         &quot;The first post!&quot;,</span>
<span class="c1">#         &quot;Welcome! This is my first post!&quot;,</span>
<span class="c1">#         5</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         2,</span>
<span class="c1">#         &quot;Groonga&quot;,</span>
<span class="c1">#         &quot;I started to use Groonga. It&#39;s very fast!&quot;,</span>
<span class="c1">#         10</span>
<span class="c1">#       ]</span>
<span class="c1">#     ]</span>
<span class="c1">#   ]</span>
<span class="c1"># ]</span>
</pre></div>
</div>
<p>The expression matches records that <code class="docutils literal notranslate"><span class="pre">n_likes</span></code> column value is equal
to <code class="docutils literal notranslate"><span class="pre">5</span></code> or <code class="docutils literal notranslate"><span class="pre">10</span></code>.</p>
</div>
<div class="section" id="logical-and-not-operator">
<h4><span class="section-number">7.13.2.7.2.4. </span>Logical AND NOT operator<a class="headerlink" href="#logical-and-not-operator" title="Permalink to this headline">¶</a></h4>
<p>Its syntax is <code class="docutils literal notranslate"><span class="pre">condition1</span> <span class="pre">&amp;!</span> <span class="pre">condition2</span></code>.</p>
<p>The operator returns true if <code class="docutils literal notranslate"><span class="pre">condition1</span></code> is true but <code class="docutils literal notranslate"><span class="pre">condition2</span></code>
is false, false otherwise. It returns difference set.</p>
<p>Here is a simple example:</p>
<p>Execution example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">select</span> <span class="n">Entries</span> <span class="o">--</span><span class="nb">filter</span> <span class="s1">&#39;content @ &quot;fast&quot; &amp;! content @ &quot;mroonga&quot;&#39;</span>
<span class="c1"># [</span>
<span class="c1">#   [</span>
<span class="c1">#     0,</span>
<span class="c1">#     1337566253.89858,</span>
<span class="c1">#     0.000355720520019531</span>
<span class="c1">#   ],</span>
<span class="c1">#   [</span>
<span class="c1">#     [</span>
<span class="c1">#       [</span>
<span class="c1">#         1</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;_id&quot;,</span>
<span class="c1">#           &quot;UInt32&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;_key&quot;,</span>
<span class="c1">#           &quot;ShortText&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;content&quot;,</span>
<span class="c1">#           &quot;Text&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;n_likes&quot;,</span>
<span class="c1">#           &quot;UInt32&quot;</span>
<span class="c1">#         ]</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         2,</span>
<span class="c1">#         &quot;Groonga&quot;,</span>
<span class="c1">#         &quot;I started to use Groonga. It&#39;s very fast!&quot;,</span>
<span class="c1">#         10</span>
<span class="c1">#       ]</span>
<span class="c1">#     ]</span>
<span class="c1">#   ]</span>
<span class="c1"># ]</span>
</pre></div>
</div>
<p>The expression matches records that <code class="docutils literal notranslate"><span class="pre">content</span></code> column value has the
word <code class="docutils literal notranslate"><span class="pre">fast</span></code> but doesn’t have the word <code class="docutils literal notranslate"><span class="pre">mroonga</span></code>.</p>
</div>
</div>
<div class="section" id="bitwise-operators">
<span id="script-syntax-bitwise-operators"></span><h3><span class="section-number">7.13.2.7.3. </span>Bitwise operators<a class="headerlink" href="#bitwise-operators" title="Permalink to this headline">¶</a></h3>
<p>Here are bitwise operators.</p>
<div class="section" id="bitwise-not-operator">
<span id="script-syntax-bitwise-not"></span><h4><span class="section-number">7.13.2.7.3.1. </span>Bitwise NOT operator<a class="headerlink" href="#bitwise-not-operator" title="Permalink to this headline">¶</a></h4>
<p>Its syntax is <code class="docutils literal notranslate"><span class="pre">~number</span></code>.</p>
<p>The operator returns bitwise NOT of <code class="docutils literal notranslate"><span class="pre">number</span></code>.</p>
<p>Here is a simple example:</p>
<p>Execution example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">select</span> <span class="n">Entries</span> <span class="o">--</span><span class="nb">filter</span> <span class="s1">&#39;~n_likes == -6&#39;</span>
<span class="c1"># [</span>
<span class="c1">#   [</span>
<span class="c1">#     0,</span>
<span class="c1">#     1337566253.89858,</span>
<span class="c1">#     0.000355720520019531</span>
<span class="c1">#   ],</span>
<span class="c1">#   [</span>
<span class="c1">#     [</span>
<span class="c1">#       [</span>
<span class="c1">#         1</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;_id&quot;,</span>
<span class="c1">#           &quot;UInt32&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;_key&quot;,</span>
<span class="c1">#           &quot;ShortText&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;content&quot;,</span>
<span class="c1">#           &quot;Text&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;n_likes&quot;,</span>
<span class="c1">#           &quot;UInt32&quot;</span>
<span class="c1">#         ]</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         1,</span>
<span class="c1">#         &quot;The first post!&quot;,</span>
<span class="c1">#         &quot;Welcome! This is my first post!&quot;,</span>
<span class="c1">#         5</span>
<span class="c1">#       ]</span>
<span class="c1">#     ]</span>
<span class="c1">#   ]</span>
<span class="c1"># ]</span>
</pre></div>
</div>
<p>The expression matches records that <code class="docutils literal notranslate"><span class="pre">n_likes</span></code> column value is equal
to <code class="docutils literal notranslate"><span class="pre">5</span></code> because bitwise NOT of <code class="docutils literal notranslate"><span class="pre">5</span></code> is equal to <code class="docutils literal notranslate"><span class="pre">-6</span></code>.</p>
</div>
<div class="section" id="bitwise-and-operator">
<span id="script-syntax-bitwise-and"></span><h4><span class="section-number">7.13.2.7.3.2. </span>Bitwise AND operator<a class="headerlink" href="#bitwise-and-operator" title="Permalink to this headline">¶</a></h4>
<p>Its syntax is <code class="docutils literal notranslate"><span class="pre">number1</span> <span class="pre">&amp;</span> <span class="pre">number2</span></code>.</p>
<p>The operator returns bitwise AND between <code class="docutils literal notranslate"><span class="pre">number1</span></code> and <code class="docutils literal notranslate"><span class="pre">number2</span></code>.</p>
<p>Here is a simple example:</p>
<p>Execution example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">select</span> <span class="n">Entries</span> <span class="o">--</span><span class="nb">filter</span> <span class="s1">&#39;(n_likes &amp; 1) == 1&#39;</span>
<span class="c1"># [</span>
<span class="c1">#   [</span>
<span class="c1">#     0,</span>
<span class="c1">#     1337566253.89858,</span>
<span class="c1">#     0.000355720520019531</span>
<span class="c1">#   ],</span>
<span class="c1">#   [</span>
<span class="c1">#     [</span>
<span class="c1">#       [</span>
<span class="c1">#         4</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;_id&quot;,</span>
<span class="c1">#           &quot;UInt32&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;_key&quot;,</span>
<span class="c1">#           &quot;ShortText&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;content&quot;,</span>
<span class="c1">#           &quot;Text&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;n_likes&quot;,</span>
<span class="c1">#           &quot;UInt32&quot;</span>
<span class="c1">#         ]</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         4,</span>
<span class="c1">#         &quot;Good-bye Senna&quot;,</span>
<span class="c1">#         &quot;I migrated all Senna system!&quot;,</span>
<span class="c1">#         3</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         5,</span>
<span class="c1">#         &quot;Good-bye Tritonn&quot;,</span>
<span class="c1">#         &quot;I also migrated all Tritonn system!&quot;,</span>
<span class="c1">#         3</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         3,</span>
<span class="c1">#         &quot;Mroonga&quot;,</span>
<span class="c1">#         &quot;I also started to use Mroonga. It&#39;s also very fast! Really fast!&quot;,</span>
<span class="c1">#         15</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         1,</span>
<span class="c1">#         &quot;The first post!&quot;,</span>
<span class="c1">#         &quot;Welcome! This is my first post!&quot;,</span>
<span class="c1">#         5</span>
<span class="c1">#       ]</span>
<span class="c1">#     ]</span>
<span class="c1">#   ]</span>
<span class="c1"># ]</span>
</pre></div>
</div>
<p>The expression matches records that <code class="docutils literal notranslate"><span class="pre">n_likes</span></code> column value is even
number because bitwise AND between an even number and <code class="docutils literal notranslate"><span class="pre">1</span></code> is equal
to <code class="docutils literal notranslate"><span class="pre">1</span></code> and bitwise AND between an odd number and <code class="docutils literal notranslate"><span class="pre">1</span></code> is equal to
<code class="docutils literal notranslate"><span class="pre">0</span></code>.</p>
</div>
</div>
<div class="section" id="bitwise-or-operator">
<span id="script-syntax-bitwise-or"></span><h3><span class="section-number">7.13.2.7.4. </span>Bitwise OR operator<a class="headerlink" href="#bitwise-or-operator" title="Permalink to this headline">¶</a></h3>
<p>Its syntax is <code class="docutils literal notranslate"><span class="pre">number1</span> <span class="pre">|</span> <span class="pre">number2</span></code>.</p>
<p>The operator returns bitwise OR between <code class="docutils literal notranslate"><span class="pre">number1</span></code> and <code class="docutils literal notranslate"><span class="pre">number2</span></code>.</p>
<p>Here is a simple example:</p>
<p>Execution example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">select</span> <span class="n">Entries</span> <span class="o">--</span><span class="nb">filter</span> <span class="s1">&#39;n_likes == (1 | 4)&#39;</span>
<span class="c1"># [</span>
<span class="c1">#   [</span>
<span class="c1">#     0,</span>
<span class="c1">#     1337566253.89858,</span>
<span class="c1">#     0.000355720520019531</span>
<span class="c1">#   ],</span>
<span class="c1">#   [</span>
<span class="c1">#     [</span>
<span class="c1">#       [</span>
<span class="c1">#         1</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;_id&quot;,</span>
<span class="c1">#           &quot;UInt32&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;_key&quot;,</span>
<span class="c1">#           &quot;ShortText&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;content&quot;,</span>
<span class="c1">#           &quot;Text&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;n_likes&quot;,</span>
<span class="c1">#           &quot;UInt32&quot;</span>
<span class="c1">#         ]</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         1,</span>
<span class="c1">#         &quot;The first post!&quot;,</span>
<span class="c1">#         &quot;Welcome! This is my first post!&quot;,</span>
<span class="c1">#         5</span>
<span class="c1">#       ]</span>
<span class="c1">#     ]</span>
<span class="c1">#   ]</span>
<span class="c1"># ]</span>
</pre></div>
</div>
<p>The expression matches records that <code class="docutils literal notranslate"><span class="pre">n_likes</span></code> column value is equal
to <code class="docutils literal notranslate"><span class="pre">5</span></code> (= <code class="docutils literal notranslate"><span class="pre">1</span> <span class="pre">|</span> <span class="pre">4</span></code>).</p>
</div>
<div class="section" id="bitwise-xor-operator">
<span id="script-syntax-bitwise-xor"></span><h3><span class="section-number">7.13.2.7.5. </span>Bitwise XOR operator<a class="headerlink" href="#bitwise-xor-operator" title="Permalink to this headline">¶</a></h3>
<p>Its syntax is <code class="docutils literal notranslate"><span class="pre">number1</span> <span class="pre">^</span> <span class="pre">number2</span></code>.</p>
<p>The operator returns bitwise XOR between <code class="docutils literal notranslate"><span class="pre">number1</span></code> and <code class="docutils literal notranslate"><span class="pre">number2</span></code>.</p>
<p>Here is a simple example:</p>
<p>Execution example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">select</span> <span class="n">Entries</span> <span class="o">--</span><span class="nb">filter</span> <span class="s1">&#39;n_likes == (10 ^ 15)&#39;</span>
<span class="c1"># [</span>
<span class="c1">#   [</span>
<span class="c1">#     0,</span>
<span class="c1">#     1337566253.89858,</span>
<span class="c1">#     0.000355720520019531</span>
<span class="c1">#   ],</span>
<span class="c1">#   [</span>
<span class="c1">#     [</span>
<span class="c1">#       [</span>
<span class="c1">#         1</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;_id&quot;,</span>
<span class="c1">#           &quot;UInt32&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;_key&quot;,</span>
<span class="c1">#           &quot;ShortText&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;content&quot;,</span>
<span class="c1">#           &quot;Text&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;n_likes&quot;,</span>
<span class="c1">#           &quot;UInt32&quot;</span>
<span class="c1">#         ]</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         1,</span>
<span class="c1">#         &quot;The first post!&quot;,</span>
<span class="c1">#         &quot;Welcome! This is my first post!&quot;,</span>
<span class="c1">#         5</span>
<span class="c1">#       ]</span>
<span class="c1">#     ]</span>
<span class="c1">#   ]</span>
<span class="c1"># ]</span>
</pre></div>
</div>
<p>The expression matches records that <code class="docutils literal notranslate"><span class="pre">n_likes</span></code> column value is equal
to <code class="docutils literal notranslate"><span class="pre">5</span></code> (= <code class="docutils literal notranslate"><span class="pre">10</span> <span class="pre">^</span> <span class="pre">15</span></code>).</p>
</div>
<div class="section" id="shift-operators">
<span id="script-syntax-shift-operators"></span><h3><span class="section-number">7.13.2.7.6. </span>Shift operators<a class="headerlink" href="#shift-operators" title="Permalink to this headline">¶</a></h3>
<p>Here are shift operators.</p>
<div class="section" id="left-shift-operator">
<span id="script-syntax-shift-left"></span><h4><span class="section-number">7.13.2.7.6.1. </span>Left shift operator<a class="headerlink" href="#left-shift-operator" title="Permalink to this headline">¶</a></h4>
<p>Its syntax is <code class="docutils literal notranslate"><span class="pre">number1</span> <span class="pre">&lt;&lt;</span> <span class="pre">number2</span></code>.</p>
<p>The operator performs a bitwise left shift operation on <code class="docutils literal notranslate"><span class="pre">number1</span></code> by
<code class="docutils literal notranslate"><span class="pre">number2</span></code>.</p>
<p>Here is a simple example:</p>
<p>Execution example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">select</span> <span class="n">Entries</span> <span class="o">--</span><span class="nb">filter</span> <span class="s1">&#39;n_likes == (5 &lt;&lt; 1)&#39;</span>
<span class="c1"># [</span>
<span class="c1">#   [</span>
<span class="c1">#     0,</span>
<span class="c1">#     1337566253.89858,</span>
<span class="c1">#     0.000355720520019531</span>
<span class="c1">#   ],</span>
<span class="c1">#   [</span>
<span class="c1">#     [</span>
<span class="c1">#       [</span>
<span class="c1">#         1</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;_id&quot;,</span>
<span class="c1">#           &quot;UInt32&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;_key&quot;,</span>
<span class="c1">#           &quot;ShortText&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;content&quot;,</span>
<span class="c1">#           &quot;Text&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;n_likes&quot;,</span>
<span class="c1">#           &quot;UInt32&quot;</span>
<span class="c1">#         ]</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         2,</span>
<span class="c1">#         &quot;Groonga&quot;,</span>
<span class="c1">#         &quot;I started to use Groonga. It&#39;s very fast!&quot;,</span>
<span class="c1">#         10</span>
<span class="c1">#       ]</span>
<span class="c1">#     ]</span>
<span class="c1">#   ]</span>
<span class="c1"># ]</span>
</pre></div>
</div>
<p>The expression matches records that <code class="docutils literal notranslate"><span class="pre">n_likes</span></code> column value is equal
to <code class="docutils literal notranslate"><span class="pre">10</span></code> (= <code class="docutils literal notranslate"><span class="pre">5</span> <span class="pre">&lt;&lt;</span> <span class="pre">1</span></code>).</p>
</div>
<div class="section" id="signed-right-shift-operator">
<span id="script-syntax-shift-signed-right"></span><h4><span class="section-number">7.13.2.7.6.2. </span>Signed right shift operator<a class="headerlink" href="#signed-right-shift-operator" title="Permalink to this headline">¶</a></h4>
<p>Its syntax is <code class="docutils literal notranslate"><span class="pre">number1</span> <span class="pre">&gt;&gt;</span> <span class="pre">number2</span></code>.</p>
<p>The operator shifts bits of <code class="docutils literal notranslate"><span class="pre">number1</span></code> to right by <code class="docutils literal notranslate"><span class="pre">number2</span></code>. The sign
of the result is the same as <code class="docutils literal notranslate"><span class="pre">number1</span></code>.</p>
<p>Here is a simple example:</p>
<p>Execution example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">select</span> <span class="n">Entries</span> <span class="o">--</span><span class="nb">filter</span> <span class="s1">&#39;n_likes == -(-10 &gt;&gt; 1)&#39;</span>
<span class="c1"># [</span>
<span class="c1">#   [</span>
<span class="c1">#     0,</span>
<span class="c1">#     1337566253.89858,</span>
<span class="c1">#     0.000355720520019531</span>
<span class="c1">#   ],</span>
<span class="c1">#   [</span>
<span class="c1">#     [</span>
<span class="c1">#       [</span>
<span class="c1">#         1</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;_id&quot;,</span>
<span class="c1">#           &quot;UInt32&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;_key&quot;,</span>
<span class="c1">#           &quot;ShortText&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;content&quot;,</span>
<span class="c1">#           &quot;Text&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;n_likes&quot;,</span>
<span class="c1">#           &quot;UInt32&quot;</span>
<span class="c1">#         ]</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         1,</span>
<span class="c1">#         &quot;The first post!&quot;,</span>
<span class="c1">#         &quot;Welcome! This is my first post!&quot;,</span>
<span class="c1">#         5</span>
<span class="c1">#       ]</span>
<span class="c1">#     ]</span>
<span class="c1">#   ]</span>
<span class="c1"># ]</span>
</pre></div>
</div>
<p>The expression matches records that <code class="docutils literal notranslate"><span class="pre">n_likes</span></code> column value is equal
to <code class="docutils literal notranslate"><span class="pre">5</span></code> (= <code class="docutils literal notranslate"><span class="pre">-(-10</span> <span class="pre">&gt;&gt;</span> <span class="pre">1)</span></code> = <code class="docutils literal notranslate"><span class="pre">-(-5)</span></code>).</p>
</div>
<div class="section" id="unsigned-right-shift-operator">
<span id="script-syntax-shift-unsigned-right"></span><h4><span class="section-number">7.13.2.7.6.3. </span>Unsigned right shift operator<a class="headerlink" href="#unsigned-right-shift-operator" title="Permalink to this headline">¶</a></h4>
<p>Its syntax is <code class="docutils literal notranslate"><span class="pre">number1</span> <span class="pre">&gt;&gt;&gt;</span> <span class="pre">number2</span></code>.</p>
<p>The operator shifts bits of <code class="docutils literal notranslate"><span class="pre">number1</span></code> to right by <code class="docutils literal notranslate"><span class="pre">number2</span></code>. The
leftmost <code class="docutils literal notranslate"><span class="pre">number2</span></code> bits are filled by <code class="docutils literal notranslate"><span class="pre">0</span></code>.</p>
<p>Here is a simple example:</p>
<p>Execution example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">select</span> <span class="n">Entries</span> <span class="o">--</span><span class="nb">filter</span> <span class="s1">&#39;n_likes == (2147483648 - (-10 &gt;&gt;&gt; 1))&#39;</span>
<span class="c1"># [</span>
<span class="c1">#   [</span>
<span class="c1">#     0,</span>
<span class="c1">#     1337566253.89858,</span>
<span class="c1">#     0.000355720520019531</span>
<span class="c1">#   ],</span>
<span class="c1">#   [</span>
<span class="c1">#     [</span>
<span class="c1">#       [</span>
<span class="c1">#         1</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;_id&quot;,</span>
<span class="c1">#           &quot;UInt32&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;_key&quot;,</span>
<span class="c1">#           &quot;ShortText&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;content&quot;,</span>
<span class="c1">#           &quot;Text&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;n_likes&quot;,</span>
<span class="c1">#           &quot;UInt32&quot;</span>
<span class="c1">#         ]</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         1,</span>
<span class="c1">#         &quot;The first post!&quot;,</span>
<span class="c1">#         &quot;Welcome! This is my first post!&quot;,</span>
<span class="c1">#         5</span>
<span class="c1">#       ]</span>
<span class="c1">#     ]</span>
<span class="c1">#   ]</span>
<span class="c1"># ]</span>
</pre></div>
</div>
<p>The expression matches records that <code class="docutils literal notranslate"><span class="pre">n_likes</span></code> column value is equal
to <code class="docutils literal notranslate"><span class="pre">5</span></code> (= <code class="docutils literal notranslate"><span class="pre">2147483648</span> <span class="pre">-</span> <span class="pre">(-10</span> <span class="pre">&gt;&gt;&gt;</span> <span class="pre">1)</span></code> = <code class="docutils literal notranslate"><span class="pre">2147483648</span> <span class="pre">-</span> <span class="pre">2147483643</span></code>).</p>
</div>
</div>
<div class="section" id="comparison-operators">
<h3><span class="section-number">7.13.2.7.7. </span>Comparison operators<a class="headerlink" href="#comparison-operators" title="Permalink to this headline">¶</a></h3>
<p>Here are comparison operators.</p>
<div class="section" id="equal-operator">
<span id="script-syntax-equal-operator"></span><h4><span class="section-number">7.13.2.7.7.1. </span>Equal operator<a class="headerlink" href="#equal-operator" title="Permalink to this headline">¶</a></h4>
<p>Its syntax is <code class="docutils literal notranslate"><span class="pre">object1</span> <span class="pre">==</span> <span class="pre">object2</span></code>.</p>
<p>The operator returns true if <code class="docutils literal notranslate"><span class="pre">object1</span></code> equals to <code class="docutils literal notranslate"><span class="pre">object2</span></code>, false
otherwise.</p>
<p>Here is a simple example:</p>
<p>Execution example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">select</span> <span class="n">Entries</span> <span class="o">--</span><span class="nb">filter</span> <span class="s1">&#39;n_likes == 5&#39;</span>
<span class="c1"># [</span>
<span class="c1">#   [</span>
<span class="c1">#     0,</span>
<span class="c1">#     1337566253.89858,</span>
<span class="c1">#     0.000355720520019531</span>
<span class="c1">#   ],</span>
<span class="c1">#   [</span>
<span class="c1">#     [</span>
<span class="c1">#       [</span>
<span class="c1">#         1</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;_id&quot;,</span>
<span class="c1">#           &quot;UInt32&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;_key&quot;,</span>
<span class="c1">#           &quot;ShortText&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;content&quot;,</span>
<span class="c1">#           &quot;Text&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;n_likes&quot;,</span>
<span class="c1">#           &quot;UInt32&quot;</span>
<span class="c1">#         ]</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         1,</span>
<span class="c1">#         &quot;The first post!&quot;,</span>
<span class="c1">#         &quot;Welcome! This is my first post!&quot;,</span>
<span class="c1">#         5</span>
<span class="c1">#       ]</span>
<span class="c1">#     ]</span>
<span class="c1">#   ]</span>
<span class="c1"># ]</span>
</pre></div>
</div>
<p>The expression matches records that <code class="docutils literal notranslate"><span class="pre">n_likes</span></code> column value is equal
to <code class="docutils literal notranslate"><span class="pre">5</span></code>.</p>
</div>
<div class="section" id="not-equal-operator">
<h4><span class="section-number">7.13.2.7.7.2. </span>Not equal operator<a class="headerlink" href="#not-equal-operator" title="Permalink to this headline">¶</a></h4>
<p>Its syntax is <code class="docutils literal notranslate"><span class="pre">object1</span> <span class="pre">!=</span> <span class="pre">object2</span></code>.</p>
<p>The operator returns true if <code class="docutils literal notranslate"><span class="pre">object1</span></code> does not equal to
<code class="docutils literal notranslate"><span class="pre">object2</span></code>, false otherwise.</p>
<p>Here is a simple example:</p>
<p>Execution example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">select</span> <span class="n">Entries</span> <span class="o">--</span><span class="nb">filter</span> <span class="s1">&#39;n_likes != 5&#39;</span>
<span class="c1"># [</span>
<span class="c1">#   [</span>
<span class="c1">#     0,</span>
<span class="c1">#     1337566253.89858,</span>
<span class="c1">#     0.000355720520019531</span>
<span class="c1">#   ],</span>
<span class="c1">#   [</span>
<span class="c1">#     [</span>
<span class="c1">#       [</span>
<span class="c1">#         4</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;_id&quot;,</span>
<span class="c1">#           &quot;UInt32&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;_key&quot;,</span>
<span class="c1">#           &quot;ShortText&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;content&quot;,</span>
<span class="c1">#           &quot;Text&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;n_likes&quot;,</span>
<span class="c1">#           &quot;UInt32&quot;</span>
<span class="c1">#         ]</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         4,</span>
<span class="c1">#         &quot;Good-bye Senna&quot;,</span>
<span class="c1">#         &quot;I migrated all Senna system!&quot;,</span>
<span class="c1">#         3</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         5,</span>
<span class="c1">#         &quot;Good-bye Tritonn&quot;,</span>
<span class="c1">#         &quot;I also migrated all Tritonn system!&quot;,</span>
<span class="c1">#         3</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         2,</span>
<span class="c1">#         &quot;Groonga&quot;,</span>
<span class="c1">#         &quot;I started to use Groonga. It&#39;s very fast!&quot;,</span>
<span class="c1">#         10</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         3,</span>
<span class="c1">#         &quot;Mroonga&quot;,</span>
<span class="c1">#         &quot;I also started to use Mroonga. It&#39;s also very fast! Really fast!&quot;,</span>
<span class="c1">#         15</span>
<span class="c1">#       ]</span>
<span class="c1">#     ]</span>
<span class="c1">#   ]</span>
<span class="c1"># ]</span>
</pre></div>
</div>
<p>The expression matches records that <code class="docutils literal notranslate"><span class="pre">n_likes</span></code> column value is not
equal to <code class="docutils literal notranslate"><span class="pre">5</span></code>.</p>
</div>
<div class="section" id="less-than-operator">
<h4><span class="section-number">7.13.2.7.7.3. </span>Less than operator<a class="headerlink" href="#less-than-operator" title="Permalink to this headline">¶</a></h4>
<p>TODO: …</p>
</div>
<div class="section" id="less-than-or-equal-to-operator">
<h4><span class="section-number">7.13.2.7.7.4. </span>Less than or equal to operator<a class="headerlink" href="#less-than-or-equal-to-operator" title="Permalink to this headline">¶</a></h4>
<p>TODO: …</p>
</div>
<div class="section" id="greater-than-operator">
<h4><span class="section-number">7.13.2.7.7.5. </span>Greater than operator<a class="headerlink" href="#greater-than-operator" title="Permalink to this headline">¶</a></h4>
<p>TODO: …</p>
</div>
<div class="section" id="greater-than-or-equal-to-operator">
<h4><span class="section-number">7.13.2.7.7.6. </span>Greater than or equal to operator<a class="headerlink" href="#greater-than-or-equal-to-operator" title="Permalink to this headline">¶</a></h4>
<p>TODO: …</p>
</div>
</div>
</div>
<div class="section" id="assignment-operators">
<h2><span class="section-number">7.13.2.8. </span>Assignment operators<a class="headerlink" href="#assignment-operators" title="Permalink to this headline">¶</a></h2>
<div class="section" id="addition-assignment-operator">
<h3><span class="section-number">7.13.2.8.1. </span>Addition assignment operator<a class="headerlink" href="#addition-assignment-operator" title="Permalink to this headline">¶</a></h3>
<p>Its syntax is <code class="docutils literal notranslate"><span class="pre">column1</span> <span class="pre">+=</span> <span class="pre">column2</span></code>.</p>
<p>The operator performs addition assignment operation on column1 by column2.</p>
<p>Execution example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">select</span> <span class="n">Entries</span> <span class="o">--</span><span class="n">output_columns</span> <span class="n">_key</span><span class="p">,</span><span class="n">n_likes</span><span class="p">,</span><span class="n">_score</span> <span class="o">--</span><span class="nb">filter</span> <span class="n">true</span> <span class="o">--</span><span class="n">scorer</span> <span class="s1">&#39;_score += n_likes&#39;</span>
<span class="c1"># [</span>
<span class="c1">#   [</span>
<span class="c1">#     0,</span>
<span class="c1">#     1337566253.89858,</span>
<span class="c1">#     0.000355720520019531</span>
<span class="c1">#   ],</span>
<span class="c1">#   [</span>
<span class="c1">#     [</span>
<span class="c1">#       [</span>
<span class="c1">#         5</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;_key&quot;,</span>
<span class="c1">#           &quot;ShortText&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;n_likes&quot;,</span>
<span class="c1">#           &quot;UInt32&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;_score&quot;,</span>
<span class="c1">#           &quot;Int32&quot;</span>
<span class="c1">#         ]</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         &quot;Good-bye Senna&quot;,</span>
<span class="c1">#         3,</span>
<span class="c1">#         4</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         &quot;Good-bye Tritonn&quot;,</span>
<span class="c1">#         3,</span>
<span class="c1">#         4</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         &quot;Groonga&quot;,</span>
<span class="c1">#         10,</span>
<span class="c1">#         11</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         &quot;Mroonga&quot;,</span>
<span class="c1">#         15,</span>
<span class="c1">#         16</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         &quot;The first post!&quot;,</span>
<span class="c1">#         5,</span>
<span class="c1">#         6</span>
<span class="c1">#       ]</span>
<span class="c1">#     ]</span>
<span class="c1">#   ]</span>
<span class="c1"># ]</span>
</pre></div>
</div>
<p>The value of <code class="docutils literal notranslate"><span class="pre">_score</span></code> by <code class="docutils literal notranslate"><span class="pre">--filter</span></code> is always 1 in this case,
then performs addition assignment operation such as ‘_score = _score + n_likes’ for each records.</p>
<p>For example, the value of <code class="docutils literal notranslate"><span class="pre">_score</span></code> about the record which stores “Good-bye Senna” as the <code class="docutils literal notranslate"><span class="pre">_key</span></code>
is 3.</p>
<p>So the expression <code class="docutils literal notranslate"><span class="pre">1</span> <span class="pre">+</span> <span class="pre">3</span></code> is evaluated and stored to <code class="docutils literal notranslate"><span class="pre">_score</span></code> column as the execution result.</p>
</div>
<div class="section" id="subtraction-assignment-operator">
<h3><span class="section-number">7.13.2.8.2. </span>Subtraction assignment operator<a class="headerlink" href="#subtraction-assignment-operator" title="Permalink to this headline">¶</a></h3>
<p>Its syntax is <code class="docutils literal notranslate"><span class="pre">column1</span> <span class="pre">-=</span> <span class="pre">column2</span></code>.</p>
<p>The operator performs subtraction assignment operation on column1 by column2.</p>
<p>Execution example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">select</span> <span class="n">Entries</span> <span class="o">--</span><span class="n">output_columns</span> <span class="n">_key</span><span class="p">,</span><span class="n">n_likes</span><span class="p">,</span><span class="n">_score</span> <span class="o">--</span><span class="nb">filter</span> <span class="n">true</span> <span class="o">--</span><span class="n">scorer</span> <span class="s1">&#39;_score -= n_likes&#39;</span>
<span class="c1"># [</span>
<span class="c1">#   [</span>
<span class="c1">#     0,</span>
<span class="c1">#     1337566253.89858,</span>
<span class="c1">#     0.000355720520019531</span>
<span class="c1">#   ],</span>
<span class="c1">#   [</span>
<span class="c1">#     [</span>
<span class="c1">#       [</span>
<span class="c1">#         5</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;_key&quot;,</span>
<span class="c1">#           &quot;ShortText&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;n_likes&quot;,</span>
<span class="c1">#           &quot;UInt32&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;_score&quot;,</span>
<span class="c1">#           &quot;Int32&quot;</span>
<span class="c1">#         ]</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         &quot;Good-bye Senna&quot;,</span>
<span class="c1">#         3,</span>
<span class="c1">#         -2</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         &quot;Good-bye Tritonn&quot;,</span>
<span class="c1">#         3,</span>
<span class="c1">#         -2</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         &quot;Groonga&quot;,</span>
<span class="c1">#         10,</span>
<span class="c1">#         -9</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         &quot;Mroonga&quot;,</span>
<span class="c1">#         15,</span>
<span class="c1">#         -14</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         &quot;The first post!&quot;,</span>
<span class="c1">#         5,</span>
<span class="c1">#         -4</span>
<span class="c1">#       ]</span>
<span class="c1">#     ]</span>
<span class="c1">#   ]</span>
<span class="c1"># ]</span>
</pre></div>
</div>
<p>The value of <code class="docutils literal notranslate"><span class="pre">_score</span></code> by <code class="docutils literal notranslate"><span class="pre">--filter</span></code> is always 1 in this case,
then performs subtraction assignment operation such as ‘_score = _score - n_likes’ for each records.</p>
<p>For example, the value of <code class="docutils literal notranslate"><span class="pre">_score</span></code> about the record which stores “Good-bye Senna” as the <code class="docutils literal notranslate"><span class="pre">_key</span></code>
is 3.</p>
<p>So the expression <code class="docutils literal notranslate"><span class="pre">1</span> <span class="pre">-</span> <span class="pre">3</span></code> is evaluated and stored to <code class="docutils literal notranslate"><span class="pre">_score</span></code> column as the execution result.</p>
</div>
<div class="section" id="multiplication-assignment-operator">
<h3><span class="section-number">7.13.2.8.3. </span>Multiplication assignment operator<a class="headerlink" href="#multiplication-assignment-operator" title="Permalink to this headline">¶</a></h3>
<p>Its syntax is <code class="docutils literal notranslate"><span class="pre">column1</span> <span class="pre">*=</span> <span class="pre">column2</span></code>.</p>
<p>The operator performs multiplication assignment operation on column1 by column2.</p>
<p>Execution example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">select</span> <span class="n">Entries</span> <span class="o">--</span><span class="n">output_columns</span> <span class="n">_key</span><span class="p">,</span><span class="n">n_likes</span><span class="p">,</span><span class="n">_score</span> <span class="o">--</span><span class="nb">filter</span> <span class="n">true</span> <span class="o">--</span><span class="n">scorer</span> <span class="s1">&#39;_score *= n_likes&#39;</span>
<span class="c1"># [</span>
<span class="c1">#   [</span>
<span class="c1">#     0,</span>
<span class="c1">#     1337566253.89858,</span>
<span class="c1">#     0.000355720520019531</span>
<span class="c1">#   ],</span>
<span class="c1">#   [</span>
<span class="c1">#     [</span>
<span class="c1">#       [</span>
<span class="c1">#         5</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;_key&quot;,</span>
<span class="c1">#           &quot;ShortText&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;n_likes&quot;,</span>
<span class="c1">#           &quot;UInt32&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;_score&quot;,</span>
<span class="c1">#           &quot;Int32&quot;</span>
<span class="c1">#         ]</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         &quot;Good-bye Senna&quot;,</span>
<span class="c1">#         3,</span>
<span class="c1">#         3</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         &quot;Good-bye Tritonn&quot;,</span>
<span class="c1">#         3,</span>
<span class="c1">#         3</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         &quot;Groonga&quot;,</span>
<span class="c1">#         10,</span>
<span class="c1">#         10</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         &quot;Mroonga&quot;,</span>
<span class="c1">#         15,</span>
<span class="c1">#         15</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         &quot;The first post!&quot;,</span>
<span class="c1">#         5,</span>
<span class="c1">#         5</span>
<span class="c1">#       ]</span>
<span class="c1">#     ]</span>
<span class="c1">#   ]</span>
<span class="c1"># ]</span>
</pre></div>
</div>
<p>The value of <code class="docutils literal notranslate"><span class="pre">_score</span></code> by <code class="docutils literal notranslate"><span class="pre">--filter</span></code> is always 1 in this case,
then performs subtraction assignment operation such as ‘_score = _score * n_likes’ for each records.</p>
<p>For example, the value of <code class="docutils literal notranslate"><span class="pre">_score</span></code> about the record which stores “Good-bye Senna” as the <code class="docutils literal notranslate"><span class="pre">_key</span></code>
is 3.</p>
<p>So the expression <code class="docutils literal notranslate"><span class="pre">1</span> <span class="pre">*</span> <span class="pre">3</span></code> is evaluated and stored to <code class="docutils literal notranslate"><span class="pre">_score</span></code> column as the execution result.</p>
</div>
<div class="section" id="division-assignment-operator">
<h3><span class="section-number">7.13.2.8.4. </span>Division assignment operator<a class="headerlink" href="#division-assignment-operator" title="Permalink to this headline">¶</a></h3>
<p>Its syntax is <code class="docutils literal notranslate"><span class="pre">column1</span> <span class="pre">/=</span> <span class="pre">column2</span></code>.</p>
<p>The operator performs division assignment operation on column1 by column2.</p>
<p>Execution example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">select</span> <span class="n">Entries</span> <span class="o">--</span><span class="n">output_columns</span> <span class="n">_key</span><span class="p">,</span><span class="n">n_likes</span><span class="p">,</span><span class="n">_score</span> <span class="o">--</span><span class="nb">filter</span> <span class="n">true</span> <span class="o">--</span><span class="n">scorer</span> <span class="s1">&#39;_score /= n_likes&#39;</span>
<span class="c1"># [</span>
<span class="c1">#   [</span>
<span class="c1">#     0,</span>
<span class="c1">#     1337566253.89858,</span>
<span class="c1">#     0.000355720520019531</span>
<span class="c1">#   ],</span>
<span class="c1">#   [</span>
<span class="c1">#     [</span>
<span class="c1">#       [</span>
<span class="c1">#         5</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;_key&quot;,</span>
<span class="c1">#           &quot;ShortText&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;n_likes&quot;,</span>
<span class="c1">#           &quot;UInt32&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;_score&quot;,</span>
<span class="c1">#           &quot;Int32&quot;</span>
<span class="c1">#         ]</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         &quot;Good-bye Senna&quot;,</span>
<span class="c1">#         3,</span>
<span class="c1">#         0</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         &quot;Good-bye Tritonn&quot;,</span>
<span class="c1">#         3,</span>
<span class="c1">#         0</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         &quot;Groonga&quot;,</span>
<span class="c1">#         10,</span>
<span class="c1">#         0</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         &quot;Mroonga&quot;,</span>
<span class="c1">#         15,</span>
<span class="c1">#         0</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         &quot;The first post!&quot;,</span>
<span class="c1">#         5,</span>
<span class="c1">#         0</span>
<span class="c1">#       ]</span>
<span class="c1">#     ]</span>
<span class="c1">#   ]</span>
<span class="c1"># ]</span>
</pre></div>
</div>
<p>The value of <code class="docutils literal notranslate"><span class="pre">_score</span></code> by <code class="docutils literal notranslate"><span class="pre">--filter</span></code> is always 1 in this case,
then performs subtraction assignment operation such as ‘_score = _score / n_likes’ for each records.</p>
<p>For example, the value of <code class="docutils literal notranslate"><span class="pre">_score</span></code> about the record which stores “Good-bye Senna” as the <code class="docutils literal notranslate"><span class="pre">_key</span></code>
is 3.</p>
<p>So the expression <code class="docutils literal notranslate"><span class="pre">1</span> <span class="pre">/</span> <span class="pre">3</span></code> is evaluated and stored to <code class="docutils literal notranslate"><span class="pre">_score</span></code> column as the execution result.</p>
</div>
<div class="section" id="modulo-assignment-operator">
<h3><span class="section-number">7.13.2.8.5. </span>Modulo assignment operator<a class="headerlink" href="#modulo-assignment-operator" title="Permalink to this headline">¶</a></h3>
<p>Its syntax is <code class="docutils literal notranslate"><span class="pre">column1</span> <span class="pre">%=</span> <span class="pre">column2</span></code>.</p>
<p>The operator performs modulo assignment operation on column1 by column2.</p>
<p>Execution example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">select</span> <span class="n">Entries</span> <span class="o">--</span><span class="n">output_columns</span> <span class="n">_key</span><span class="p">,</span><span class="n">n_likes</span><span class="p">,</span><span class="n">_score</span> <span class="o">--</span><span class="nb">filter</span> <span class="n">true</span> <span class="o">--</span><span class="n">scorer</span> <span class="s1">&#39;_score %= n_likes&#39;</span>
<span class="c1"># [</span>
<span class="c1">#   [</span>
<span class="c1">#     0,</span>
<span class="c1">#     1337566253.89858,</span>
<span class="c1">#     0.000355720520019531</span>
<span class="c1">#   ],</span>
<span class="c1">#   [</span>
<span class="c1">#     [</span>
<span class="c1">#       [</span>
<span class="c1">#         5</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;_key&quot;,</span>
<span class="c1">#           &quot;ShortText&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;n_likes&quot;,</span>
<span class="c1">#           &quot;UInt32&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;_score&quot;,</span>
<span class="c1">#           &quot;Int32&quot;</span>
<span class="c1">#         ]</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         &quot;Good-bye Senna&quot;,</span>
<span class="c1">#         3,</span>
<span class="c1">#         1</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         &quot;Good-bye Tritonn&quot;,</span>
<span class="c1">#         3,</span>
<span class="c1">#         1</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         &quot;Groonga&quot;,</span>
<span class="c1">#         10,</span>
<span class="c1">#         1</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         &quot;Mroonga&quot;,</span>
<span class="c1">#         15,</span>
<span class="c1">#         1</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         &quot;The first post!&quot;,</span>
<span class="c1">#         5,</span>
<span class="c1">#         1</span>
<span class="c1">#       ]</span>
<span class="c1">#     ]</span>
<span class="c1">#   ]</span>
<span class="c1"># ]</span>
</pre></div>
</div>
<p>The value of <code class="docutils literal notranslate"><span class="pre">_score</span></code> by <code class="docutils literal notranslate"><span class="pre">--filter</span></code> is always 1 in this case,
then performs subtraction assignment operation such as ‘_score = _score % n_likes’ for each records.</p>
<p>For example, the value of <code class="docutils literal notranslate"><span class="pre">_score</span></code> about the record which stores “Good-bye Senna” as the <code class="docutils literal notranslate"><span class="pre">_key</span></code>
is 3.</p>
<p>So the expression <code class="docutils literal notranslate"><span class="pre">1</span> <span class="pre">%</span> <span class="pre">3</span></code> is evaluated and stored to <code class="docutils literal notranslate"><span class="pre">_score</span></code> column as the execution result.</p>
</div>
<div class="section" id="bitwise-left-shift-assignment-operator">
<h3><span class="section-number">7.13.2.8.6. </span>Bitwise left shift assignment operator<a class="headerlink" href="#bitwise-left-shift-assignment-operator" title="Permalink to this headline">¶</a></h3>
<p>Its syntax is <code class="docutils literal notranslate"><span class="pre">column1</span> <span class="pre">&lt;&lt;=</span> <span class="pre">column2</span></code>.</p>
<p>The operator performs left shift assignment operation on column1 by column2.</p>
<p>Execution example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">select</span> <span class="n">Entries</span> <span class="o">--</span><span class="n">output_columns</span> <span class="n">_key</span><span class="p">,</span><span class="n">n_likes</span><span class="p">,</span><span class="n">_score</span> <span class="o">--</span><span class="nb">filter</span> <span class="n">true</span> <span class="o">--</span><span class="n">scorer</span> <span class="s1">&#39;_score &lt;&lt;= n_likes&#39;</span>
<span class="c1"># [</span>
<span class="c1">#   [</span>
<span class="c1">#     0,</span>
<span class="c1">#     1337566253.89858,</span>
<span class="c1">#     0.000355720520019531</span>
<span class="c1">#   ],</span>
<span class="c1">#   [</span>
<span class="c1">#     [</span>
<span class="c1">#       [</span>
<span class="c1">#         5</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;_key&quot;,</span>
<span class="c1">#           &quot;ShortText&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;n_likes&quot;,</span>
<span class="c1">#           &quot;UInt32&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;_score&quot;,</span>
<span class="c1">#           &quot;Int32&quot;</span>
<span class="c1">#         ]</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         &quot;Good-bye Senna&quot;,</span>
<span class="c1">#         3,</span>
<span class="c1">#         8</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         &quot;Good-bye Tritonn&quot;,</span>
<span class="c1">#         3,</span>
<span class="c1">#         8</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         &quot;Groonga&quot;,</span>
<span class="c1">#         10,</span>
<span class="c1">#         1024</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         &quot;Mroonga&quot;,</span>
<span class="c1">#         15,</span>
<span class="c1">#         32768</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         &quot;The first post!&quot;,</span>
<span class="c1">#         5,</span>
<span class="c1">#         32</span>
<span class="c1">#       ]</span>
<span class="c1">#     ]</span>
<span class="c1">#   ]</span>
<span class="c1"># ]</span>
</pre></div>
</div>
<p>The value of <code class="docutils literal notranslate"><span class="pre">_score</span></code> by <code class="docutils literal notranslate"><span class="pre">--filter</span></code> is always 1 in this case,
then performs subtraction assignment operation such as ‘_score = _score &lt;&lt; n_likes’ for each records.</p>
<p>For example, the value of <code class="docutils literal notranslate"><span class="pre">_score</span></code> about the record which stores “Good-bye Senna” as the <code class="docutils literal notranslate"><span class="pre">_key</span></code>
is 3.</p>
<p>So the expression <code class="docutils literal notranslate"><span class="pre">1</span> <span class="pre">&lt;&lt;</span> <span class="pre">3</span></code> is evaluated and stored to <code class="docutils literal notranslate"><span class="pre">_score</span></code> column as the execution result.</p>
</div>
<div class="section" id="bitwise-signed-right-shift-assignment-operator">
<h3><span class="section-number">7.13.2.8.7. </span>Bitwise signed right shift assignment operator<a class="headerlink" href="#bitwise-signed-right-shift-assignment-operator" title="Permalink to this headline">¶</a></h3>
<p>Its syntax is <code class="docutils literal notranslate"><span class="pre">column2</span> <span class="pre">&gt;&gt;=</span> <span class="pre">column2</span></code>.</p>
<p>The operator performs signed right shift assignment operation on column1 by column2.</p>
</div>
<div class="section" id="bitwise-unsigned-right-shift-assignment-operator">
<h3><span class="section-number">7.13.2.8.8. </span>Bitwise unsigned right shift assignment operator<a class="headerlink" href="#bitwise-unsigned-right-shift-assignment-operator" title="Permalink to this headline">¶</a></h3>
<p>Its syntax is <code class="docutils literal notranslate"><span class="pre">column1</span> <span class="pre">&gt;&gt;&gt;=</span> <span class="pre">column2</span></code>.</p>
<p>The operator performs unsigned right shift assignment operation on column1 by column2.</p>
</div>
<div class="section" id="bitwise-and-assignment-operator">
<h3><span class="section-number">7.13.2.8.9. </span>Bitwise AND assignment operator<a class="headerlink" href="#bitwise-and-assignment-operator" title="Permalink to this headline">¶</a></h3>
<p>Its syntax is <code class="docutils literal notranslate"><span class="pre">column1</span> <span class="pre">&amp;=</span> <span class="pre">column2</span></code>.</p>
<p>The operator performs bitwise AND assignment operation on column1 by column2.</p>
<p>Execution example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">select</span> <span class="n">Entries</span> <span class="o">--</span><span class="n">output_columns</span> <span class="n">_key</span><span class="p">,</span><span class="n">n_likes</span><span class="p">,</span><span class="n">_score</span> <span class="o">--</span><span class="nb">filter</span> <span class="n">true</span> <span class="o">--</span><span class="n">scorer</span> <span class="s1">&#39;_score &amp;= n_likes&#39;</span>
<span class="c1"># [</span>
<span class="c1">#   [</span>
<span class="c1">#     0,</span>
<span class="c1">#     1337566253.89858,</span>
<span class="c1">#     0.000355720520019531</span>
<span class="c1">#   ],</span>
<span class="c1">#   [</span>
<span class="c1">#     [</span>
<span class="c1">#       [</span>
<span class="c1">#         5</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;_key&quot;,</span>
<span class="c1">#           &quot;ShortText&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;n_likes&quot;,</span>
<span class="c1">#           &quot;UInt32&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;_score&quot;,</span>
<span class="c1">#           &quot;Int32&quot;</span>
<span class="c1">#         ]</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         &quot;Good-bye Senna&quot;,</span>
<span class="c1">#         3,</span>
<span class="c1">#         1</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         &quot;Good-bye Tritonn&quot;,</span>
<span class="c1">#         3,</span>
<span class="c1">#         1</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         &quot;Groonga&quot;,</span>
<span class="c1">#         10,</span>
<span class="c1">#         0</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         &quot;Mroonga&quot;,</span>
<span class="c1">#         15,</span>
<span class="c1">#         1</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         &quot;The first post!&quot;,</span>
<span class="c1">#         5,</span>
<span class="c1">#         1</span>
<span class="c1">#       ]</span>
<span class="c1">#     ]</span>
<span class="c1">#   ]</span>
<span class="c1"># ]</span>
</pre></div>
</div>
<p>The value of <code class="docutils literal notranslate"><span class="pre">_score</span></code> by <code class="docutils literal notranslate"><span class="pre">--filter</span></code> is always 1 in this case,
then performs subtraction assignment operation such as ‘_score = _score &amp; n_likes’ for each records.</p>
<p>For example, the value of <code class="docutils literal notranslate"><span class="pre">_score</span></code> about the record which stores “Groonga” as the <code class="docutils literal notranslate"><span class="pre">_key</span></code>
is 10.</p>
<p>So the expression <code class="docutils literal notranslate"><span class="pre">1</span> <span class="pre">&amp;</span> <span class="pre">10</span></code> is evaluated and stored to <code class="docutils literal notranslate"><span class="pre">_score</span></code> column as the execution result.</p>
</div>
<div class="section" id="bitwise-or-assignment-operator">
<span id="script-syntax-bitwise-or-assign"></span><h3><span class="section-number">7.13.2.8.10. </span>Bitwise OR assignment operator<a class="headerlink" href="#bitwise-or-assignment-operator" title="Permalink to this headline">¶</a></h3>
<p>Its syntax is <code class="docutils literal notranslate"><span class="pre">column1</span> <span class="pre">|=</span> <span class="pre">column2</span></code>.</p>
<p>The operator performs bitwise OR assignment operation on column1 by column2.</p>
<p>Execution example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">select</span> <span class="n">Entries</span> <span class="o">--</span><span class="n">output_columns</span> <span class="n">_key</span><span class="p">,</span><span class="n">n_likes</span><span class="p">,</span><span class="n">_score</span> <span class="o">--</span><span class="nb">filter</span> <span class="n">true</span> <span class="o">--</span><span class="n">scorer</span> <span class="s1">&#39;_score |= n_likes&#39;</span>
<span class="c1"># [</span>
<span class="c1">#   [</span>
<span class="c1">#     0,</span>
<span class="c1">#     1337566253.89858,</span>
<span class="c1">#     0.000355720520019531</span>
<span class="c1">#   ],</span>
<span class="c1">#   [</span>
<span class="c1">#     [</span>
<span class="c1">#       [</span>
<span class="c1">#         5</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;_key&quot;,</span>
<span class="c1">#           &quot;ShortText&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;n_likes&quot;,</span>
<span class="c1">#           &quot;UInt32&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;_score&quot;,</span>
<span class="c1">#           &quot;Int32&quot;</span>
<span class="c1">#         ]</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         &quot;Good-bye Senna&quot;,</span>
<span class="c1">#         3,</span>
<span class="c1">#         3</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         &quot;Good-bye Tritonn&quot;,</span>
<span class="c1">#         3,</span>
<span class="c1">#         3</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         &quot;Groonga&quot;,</span>
<span class="c1">#         10,</span>
<span class="c1">#         11</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         &quot;Mroonga&quot;,</span>
<span class="c1">#         15,</span>
<span class="c1">#         15</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         &quot;The first post!&quot;,</span>
<span class="c1">#         5,</span>
<span class="c1">#         5</span>
<span class="c1">#       ]</span>
<span class="c1">#     ]</span>
<span class="c1">#   ]</span>
<span class="c1"># ]</span>
</pre></div>
</div>
<p>The value of <code class="docutils literal notranslate"><span class="pre">_score</span></code> by <code class="docutils literal notranslate"><span class="pre">--filter</span></code> is always 1 in this case,
then performs subtraction assignment operation such as ‘_score = _score | n_likes’ for each records.</p>
<p>For example, the value of <code class="docutils literal notranslate"><span class="pre">_score</span></code> about the record which stores “Groonga” as the <code class="docutils literal notranslate"><span class="pre">_key</span></code>
is 10.</p>
<p>So the expression <code class="docutils literal notranslate"><span class="pre">1</span> <span class="pre">|</span> <span class="pre">10</span></code> is evaluated and stored to <code class="docutils literal notranslate"><span class="pre">_score</span></code> column as the execution result.</p>
</div>
<div class="section" id="bitwise-xor-assignment-operator">
<h3><span class="section-number">7.13.2.8.11. </span>Bitwise XOR assignment operator<a class="headerlink" href="#bitwise-xor-assignment-operator" title="Permalink to this headline">¶</a></h3>
<p>Its syntax is <code class="docutils literal notranslate"><span class="pre">column1</span> <span class="pre">^=</span> <span class="pre">column2</span></code>.</p>
<p>The operator performs bitwise XOR assignment operation on column1 by column2.</p>
<p>Execution example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">select</span> <span class="n">Entries</span> <span class="o">--</span><span class="n">output_columns</span> <span class="n">_key</span><span class="p">,</span><span class="n">n_likes</span><span class="p">,</span><span class="n">_score</span> <span class="o">--</span><span class="nb">filter</span> <span class="n">true</span> <span class="o">--</span><span class="n">scorer</span> <span class="s1">&#39;_score ^= n_likes&#39;</span>
<span class="c1"># [</span>
<span class="c1">#   [</span>
<span class="c1">#     0,</span>
<span class="c1">#     1337566253.89858,</span>
<span class="c1">#     0.000355720520019531</span>
<span class="c1">#   ],</span>
<span class="c1">#   [</span>
<span class="c1">#     [</span>
<span class="c1">#       [</span>
<span class="c1">#         5</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;_key&quot;,</span>
<span class="c1">#           &quot;ShortText&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;n_likes&quot;,</span>
<span class="c1">#           &quot;UInt32&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;_score&quot;,</span>
<span class="c1">#           &quot;Int32&quot;</span>
<span class="c1">#         ]</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         &quot;Good-bye Senna&quot;,</span>
<span class="c1">#         3,</span>
<span class="c1">#         2</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         &quot;Good-bye Tritonn&quot;,</span>
<span class="c1">#         3,</span>
<span class="c1">#         2</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         &quot;Groonga&quot;,</span>
<span class="c1">#         10,</span>
<span class="c1">#         11</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         &quot;Mroonga&quot;,</span>
<span class="c1">#         15,</span>
<span class="c1">#         14</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         &quot;The first post!&quot;,</span>
<span class="c1">#         5,</span>
<span class="c1">#         4</span>
<span class="c1">#       ]</span>
<span class="c1">#     ]</span>
<span class="c1">#   ]</span>
<span class="c1"># ]</span>
</pre></div>
</div>
<p>The value of <code class="docutils literal notranslate"><span class="pre">_score</span></code> by <code class="docutils literal notranslate"><span class="pre">--filter</span></code> is always 1 in this case,
then performs subtraction assignment operation such as ‘_score = _score ^ n_likes’ for each records.</p>
<p>For example, the value of <code class="docutils literal notranslate"><span class="pre">_score</span></code> about the record which stores “Good-bye Senna” as the <code class="docutils literal notranslate"><span class="pre">_key</span></code>
is 3.</p>
<p>So the expression <code class="docutils literal notranslate"><span class="pre">1</span> <span class="pre">^</span> <span class="pre">3</span></code> is evaluated and stored to <code class="docutils literal notranslate"><span class="pre">_score</span></code> column as the execution result.</p>
</div>
</div>
<div class="section" id="original-operators">
<h2><span class="section-number">7.13.2.9. </span>Original operators<a class="headerlink" href="#original-operators" title="Permalink to this headline">¶</a></h2>
<p>Script syntax adds the original binary opearators to ECMAScript
syntax. They operate search specific operations. They are starts with
<code class="docutils literal notranslate"><span class="pre">&#64;</span></code> or <code class="docutils literal notranslate"><span class="pre">*</span></code>.</p>
<div class="section" id="match-operator">
<span id="script-syntax-match-operator"></span><h3><span class="section-number">7.13.2.9.1. </span>Match operator<a class="headerlink" href="#match-operator" title="Permalink to this headline">¶</a></h3>
<p>Its syntax is <code class="docutils literal notranslate"><span class="pre">column</span> <span class="pre">&#64;</span> <span class="pre">value</span></code>.</p>
<p>The operator searches <code class="docutils literal notranslate"><span class="pre">value</span></code> by inverted index of <code class="docutils literal notranslate"><span class="pre">column</span></code>.
Normally, full text search is operated but tag search can be operated.
Because tag search is also implemented by inverted index.</p>
<p><a class="reference internal" href="query_syntax.html"><span class="doc">Query syntax</span></a> uses this operator by default.</p>
<p>Here is a simple example:</p>
<p>Execution example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">select</span> <span class="n">Entries</span> <span class="o">--</span><span class="nb">filter</span> <span class="s1">&#39;content @ &quot;fast&quot;&#39;</span> <span class="o">--</span><span class="n">output_columns</span> <span class="n">content</span>
<span class="c1"># [</span>
<span class="c1">#   [</span>
<span class="c1">#     0,</span>
<span class="c1">#     1337566253.89858,</span>
<span class="c1">#     0.000355720520019531</span>
<span class="c1">#   ],</span>
<span class="c1">#   [</span>
<span class="c1">#     [</span>
<span class="c1">#       [</span>
<span class="c1">#         2</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;content&quot;,</span>
<span class="c1">#           &quot;Text&quot;</span>
<span class="c1">#         ]</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         &quot;I started to use Groonga. It&#39;s very fast!&quot;</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         &quot;I also started to use Mroonga. It&#39;s also very fast! Really fast!&quot;</span>
<span class="c1">#       ]</span>
<span class="c1">#     ]</span>
<span class="c1">#   ]</span>
<span class="c1"># ]</span>
</pre></div>
</div>
<p>The expression matches records that contain a word <code class="docutils literal notranslate"><span class="pre">fast</span></code> in
<code class="docutils literal notranslate"><span class="pre">content</span></code> column value.</p>
</div>
<div class="section" id="prefix-search-operator">
<span id="script-syntax-prefix-search-operator"></span><h3><span class="section-number">7.13.2.9.2. </span>Prefix search operator<a class="headerlink" href="#prefix-search-operator" title="Permalink to this headline">¶</a></h3>
<p>Its syntax is <code class="docutils literal notranslate"><span class="pre">column</span> <span class="pre">&#64;^</span> <span class="pre">value</span></code>.</p>
<p>The operator does prefix search with <code class="docutils literal notranslate"><span class="pre">value</span></code>. Prefix search searches
records that contain a word that starts with <code class="docutils literal notranslate"><span class="pre">value</span></code>.</p>
<p>You can use fast prefix search against a column. The column must be
indexed and index table must be patricia trie table
(<code class="docutils literal notranslate"><span class="pre">TABLE_PAT_KEY</span></code>) or double array trie table
(<code class="docutils literal notranslate"><span class="pre">TABLE_DAT_KEY</span></code>). You can also use fast prefix search against
<code class="docutils literal notranslate"><span class="pre">_key</span></code> pseudo column of patricia trie table or double array trie
table. You don’t need to index <code class="docutils literal notranslate"><span class="pre">_key</span></code>.</p>
<p>Prefix search can be used with other table types but it causes all
records scan. It’s not problem for small records but it spends more
time for large records.</p>
<p>Here is a simple example:</p>
<p>Execution example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">select</span> <span class="n">Entries</span> <span class="o">--</span><span class="nb">filter</span> <span class="s1">&#39;_key @^ &quot;Goo&quot;&#39;</span> <span class="o">--</span><span class="n">output_columns</span> <span class="n">_key</span>
<span class="c1"># [</span>
<span class="c1">#   [</span>
<span class="c1">#     0,</span>
<span class="c1">#     1337566253.89858,</span>
<span class="c1">#     0.000355720520019531</span>
<span class="c1">#   ],</span>
<span class="c1">#   [</span>
<span class="c1">#     [</span>
<span class="c1">#       [</span>
<span class="c1">#         2</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;_key&quot;,</span>
<span class="c1">#           &quot;ShortText&quot;</span>
<span class="c1">#         ]</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         &quot;Good-bye Senna&quot;</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         &quot;Good-bye Tritonn&quot;</span>
<span class="c1">#       ]</span>
<span class="c1">#     ]</span>
<span class="c1">#   ]</span>
<span class="c1"># ]</span>
</pre></div>
</div>
<p>The expression matches records that contain a word that starts with
<code class="docutils literal notranslate"><span class="pre">Goo</span></code> in <code class="docutils literal notranslate"><span class="pre">_key</span></code> pseudo column value. <code class="docutils literal notranslate"><span class="pre">Good-bye</span> <span class="pre">Senna</span></code> and
<code class="docutils literal notranslate"><span class="pre">Good-bye</span> <span class="pre">Tritonn</span></code> are matched with the expression.</p>
</div>
<div class="section" id="suffix-search-operator">
<span id="script-syntax-suffix-search-operator"></span><h3><span class="section-number">7.13.2.9.3. </span>Suffix search operator<a class="headerlink" href="#suffix-search-operator" title="Permalink to this headline">¶</a></h3>
<p>Its syntax is <code class="docutils literal notranslate"><span class="pre">column</span> <span class="pre">&#64;$</span> <span class="pre">value</span></code>.</p>
<p>This operator does suffix search with <code class="docutils literal notranslate"><span class="pre">value</span></code>. Suffix search
searches records that contain a word that ends with <code class="docutils literal notranslate"><span class="pre">value</span></code>.</p>
<p>You can use fast suffix search against a column. The column must be
indexed and index table must be patricia trie table
(<code class="docutils literal notranslate"><span class="pre">TABLE_PAT_KEY</span></code>) with <code class="docutils literal notranslate"><span class="pre">KEY_WITH_SIS</span></code> flag. You can also use fast
suffix search against <code class="docutils literal notranslate"><span class="pre">_key</span></code> pseudo column of patricia trie table
(<code class="docutils literal notranslate"><span class="pre">TABLE_PAT_KEY</span></code>) with <code class="docutils literal notranslate"><span class="pre">KEY_WITH_SIS</span></code> flag. You don’t need to
index <code class="docutils literal notranslate"><span class="pre">_key</span></code>. We recommended that you use index column based fast
suffix search instead of <code class="docutils literal notranslate"><span class="pre">_key</span></code> based fast suffix search. <code class="docutils literal notranslate"><span class="pre">_key</span></code>
based fast suffix search returns automatically registered
substrings. (TODO: write document about suffix search and link to it
from here.)</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Fast suffix search can be used only for non-ASCII characters such
as hiragana in Japanese. You cannot use fast suffix search for
ASCII character.</p>
</div>
<p>Suffix search can be used with other table types or patricia trie
table without <code class="docutils literal notranslate"><span class="pre">KEY_WITH_SIS</span></code> flag but it causes all records
scan. It’s not problem for small records but it spends more time for
large records.</p>
<p>Here is a simple example. It uses fast suffix search for hiragana in
Japanese that is one of non-ASCII characters.</p>
<p>Execution example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">table_create</span> <span class="n">Titles</span> <span class="n">TABLE_NO_KEY</span>
<span class="c1"># [[0, 1337566253.89858, 0.000355720520019531], true]</span>
<span class="n">column_create</span> <span class="n">Titles</span> <span class="n">content</span> <span class="n">COLUMN_SCALAR</span> <span class="n">ShortText</span>
<span class="c1"># [[0, 1337566253.89858, 0.000355720520019531], true]</span>
<span class="n">table_create</span> <span class="n">SuffixSearchTerms</span> <span class="n">TABLE_PAT_KEY</span><span class="o">|</span><span class="n">KEY_WITH_SIS</span> <span class="n">ShortText</span>
<span class="c1"># [[0, 1337566253.89858, 0.000355720520019531], true]</span>
<span class="n">column_create</span> <span class="n">SuffixSearchTerms</span> <span class="n">index</span> <span class="n">COLUMN_INDEX</span> <span class="n">Titles</span> <span class="n">content</span>
<span class="c1"># [[0, 1337566253.89858, 0.000355720520019531], true]</span>
<span class="n">load</span> <span class="o">--</span><span class="n">table</span> <span class="n">Titles</span>
<span class="p">[</span>
<span class="p">{</span><span class="s2">&quot;content&quot;</span><span class="p">:</span> <span class="s2">&quot;ぐるんが&quot;</span><span class="p">},</span>
<span class="p">{</span><span class="s2">&quot;content&quot;</span><span class="p">:</span> <span class="s2">&quot;むるんが&quot;</span><span class="p">},</span>
<span class="p">{</span><span class="s2">&quot;content&quot;</span><span class="p">:</span> <span class="s2">&quot;せな&quot;</span><span class="p">},</span>
<span class="p">{</span><span class="s2">&quot;content&quot;</span><span class="p">:</span> <span class="s2">&quot;とりとん&quot;</span><span class="p">}</span>
<span class="p">]</span>
<span class="c1"># [[0, 1337566253.89858, 0.000355720520019531], 4]</span>
<span class="n">select</span> <span class="n">Titles</span> <span class="o">--</span><span class="n">query</span> <span class="s1">&#39;content:$んが&#39;</span>
<span class="c1"># [</span>
<span class="c1">#   [</span>
<span class="c1">#     0,</span>
<span class="c1">#     1337566253.89858,</span>
<span class="c1">#     0.000355720520019531</span>
<span class="c1">#   ],</span>
<span class="c1">#   [</span>
<span class="c1">#     [</span>
<span class="c1">#       [</span>
<span class="c1">#         2</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;_id&quot;,</span>
<span class="c1">#           &quot;UInt32&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;content&quot;,</span>
<span class="c1">#           &quot;ShortText&quot;</span>
<span class="c1">#         ]</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         2,</span>
<span class="c1">#         &quot;むるんが&quot;</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         1,</span>
<span class="c1">#         &quot;ぐるんが&quot;</span>
<span class="c1">#       ]</span>
<span class="c1">#     ]</span>
<span class="c1">#   ]</span>
<span class="c1"># ]</span>
</pre></div>
</div>
<p>The expression matches records that have value that ends with <code class="docutils literal notranslate"><span class="pre">んが</span></code>
in <code class="docutils literal notranslate"><span class="pre">content</span></code> column value. <code class="docutils literal notranslate"><span class="pre">ぐるんが</span></code> and <code class="docutils literal notranslate"><span class="pre">むるんが</span></code> are matched
with the expression.</p>
</div>
<div class="section" id="near-search-operator">
<span id="script-syntax-near-search-operator"></span><h3><span class="section-number">7.13.2.9.4. </span>Near search operator<a class="headerlink" href="#near-search-operator" title="Permalink to this headline">¶</a></h3>
<p>Its syntax is one of them:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>column *N &quot;word1 word2 ...&quot;
column *N${MAX_INTERVAL} &quot;word1 word2 ...&quot;
column *N${MAX_INTERVAL},${MAX_TOKEN_INTERVAL_1}|${MAX_TOKEN_INTERVAL_2}|... &quot;word1 word2 ...&quot;
</pre></div>
</div>
<p>Here are the examples of the second form:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">column</span> <span class="o">*</span><span class="n">N29</span> <span class="s2">&quot;word1 word2 ...&quot;</span>
<span class="n">column</span> <span class="o">*</span><span class="n">N</span><span class="o">-</span><span class="mi">1</span> <span class="s2">&quot;word1 word2 ...&quot;</span>
</pre></div>
</div>
<p>The first example means that <code class="docutils literal notranslate"><span class="pre">29</span></code> is used for the max interval.</p>
<p>The second example means that <code class="docutils literal notranslate"><span class="pre">-1</span></code> is used for the max interval.
<code class="docutils literal notranslate"><span class="pre">-1</span></code> max interval means no limit.</p>
<p>Here are examples of the third form:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">column</span> <span class="o">*</span><span class="n">N10</span><span class="p">,</span><span class="mi">2</span><span class="o">|</span><span class="mi">3</span> <span class="s2">&quot;word1 word2 word3&quot;</span>
<span class="n">column</span> <span class="o">*</span><span class="n">N10</span><span class="p">,</span><span class="mi">2</span> <span class="s2">&quot;word1 word2 word3&quot;</span>
</pre></div>
</div>
<p>The first example means that <code class="docutils literal notranslate"><span class="pre">2</span></code> is used for the max interval of the
first interval and <code class="docutils literal notranslate"><span class="pre">3</span></code> is used for the max interval of the second
interval.</p>
<p>The second example means that <code class="docutils literal notranslate"><span class="pre">2</span></code> is used for the first max interval
of the first interval and <code class="docutils literal notranslate"><span class="pre">-1</span></code> is used for the max interval of the
second interval. Because the omitted max interval is treated as
<code class="docutils literal notranslate"><span class="pre">-1</span></code>.</p>
<p>The max intervals of each token (word) are described later.</p>
<p>The operator does near search with words <code class="docutils literal notranslate"><span class="pre">word1</span> <span class="pre">word2</span> <span class="pre">...</span></code>. Near
search searches records that contain the words and the words are
appeared in the specified order and the max interval.</p>
<p>The max interval is <code class="docutils literal notranslate"><span class="pre">10</span></code> by default. The unit of the max interval is
the number of characters in N-gram family tokenizers and the number of
words in morphological analysis family tokenizers.</p>
<p>However, <code class="docutils literal notranslate"><span class="pre">TokenBigram</span></code> doesn’t split ASCII only word into tokens.
Because <code class="docutils literal notranslate"><span class="pre">TokenBigram</span></code> uses white-space-separate like tokenize method
for ASCII characters in this case.</p>
<p>So the unit for ASCII words with <code class="docutils literal notranslate"><span class="pre">TokenBigram</span></code> is the number of
words even if <code class="docutils literal notranslate"><span class="pre">TokenBigram</span></code> is a N-gram family tokenizer.</p>
<p>Note that an index column for full text search must be defined for
<code class="docutils literal notranslate"><span class="pre">column</span></code>.</p>
<p>Here is a simple example:</p>
<p>Execution example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">select</span> <span class="n">Entries</span> <span class="o">--</span><span class="nb">filter</span> <span class="s1">&#39;content *N &quot;I fast&quot;&#39;</span>      <span class="o">--</span><span class="n">output_columns</span> <span class="n">content</span>
<span class="c1"># [</span>
<span class="c1">#   [</span>
<span class="c1">#     0,</span>
<span class="c1">#     1337566253.89858,</span>
<span class="c1">#     0.000355720520019531</span>
<span class="c1">#   ],</span>
<span class="c1">#   [</span>
<span class="c1">#     [</span>
<span class="c1">#       [</span>
<span class="c1">#         1</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;content&quot;,</span>
<span class="c1">#           &quot;Text&quot;</span>
<span class="c1">#         ]</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         &quot;I started to use Groonga. It&#39;s very fast!&quot;</span>
<span class="c1">#       ]</span>
<span class="c1">#     ]</span>
<span class="c1">#   ]</span>
<span class="c1"># ]</span>
<span class="n">select</span> <span class="n">Entries</span> <span class="o">--</span><span class="nb">filter</span> <span class="s1">&#39;content *N &quot;I Really&quot;&#39;</span>    <span class="o">--</span><span class="n">output_columns</span> <span class="n">content</span>
<span class="c1"># [[0, 1337566253.89858, 0.000355720520019531], [[[0], [[&quot;content&quot;, &quot;Text&quot;]]]]]</span>
<span class="n">select</span> <span class="n">Entries</span> <span class="o">--</span><span class="nb">filter</span> <span class="s1">&#39;content *N &quot;also Really&quot;&#39;</span> <span class="o">--</span><span class="n">output_columns</span> <span class="n">content</span>
<span class="c1"># [</span>
<span class="c1">#   [</span>
<span class="c1">#     0,</span>
<span class="c1">#     1337566253.89858,</span>
<span class="c1">#     0.000355720520019531</span>
<span class="c1">#   ],</span>
<span class="c1">#   [</span>
<span class="c1">#     [</span>
<span class="c1">#       [</span>
<span class="c1">#         1</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;content&quot;,</span>
<span class="c1">#           &quot;Text&quot;</span>
<span class="c1">#         ]</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         &quot;I also started to use Mroonga. It&#39;s also very fast! Really fast!&quot;</span>
<span class="c1">#       ]</span>
<span class="c1">#     ]</span>
<span class="c1">#   ]</span>
<span class="c1"># ]</span>
</pre></div>
</div>
<p>The first expression matches records that contain <code class="docutils literal notranslate"><span class="pre">I</span></code> and <code class="docutils literal notranslate"><span class="pre">fast</span></code>
and the max interval of those words are in 10 words. So the record
that its content is <code class="docutils literal notranslate"><span class="pre">I</span> <span class="pre">also</span> <span class="pre">started</span> <span class="pre">to</span> <span class="pre">use</span> <span class="pre">mroonga.</span> <span class="pre">It's</span> <span class="pre">also</span> <span class="pre">very</span>
<span class="pre">fast!</span> <span class="pre">...</span></code> is matched. The number of words between <code class="docutils literal notranslate"><span class="pre">I</span></code> and <code class="docutils literal notranslate"><span class="pre">fast</span></code>
is just 10.</p>
<p>The second expression matches records that contain <code class="docutils literal notranslate"><span class="pre">I</span></code> and
<code class="docutils literal notranslate"><span class="pre">Really</span></code> and the max interval of those words are in 10 words. So the
record that its content is <code class="docutils literal notranslate"><span class="pre">I</span> <span class="pre">also</span> <span class="pre">started</span> <span class="pre">to</span> <span class="pre">use</span> <span class="pre">mroonga.</span> <span class="pre">It's</span> <span class="pre">also</span>
<span class="pre">very</span> <span class="pre">fast!</span> <span class="pre">Really</span> <span class="pre">fast!</span></code> is not matched. The number of words between
<code class="docutils literal notranslate"><span class="pre">I</span></code> and <code class="docutils literal notranslate"><span class="pre">Really</span></code> is 11.</p>
<p>The third expression matches records that contain <code class="docutils literal notranslate"><span class="pre">also</span></code> and
<code class="docutils literal notranslate"><span class="pre">Really</span></code> and the max interval of those words are in 10 words. So
the record that its content is <code class="docutils literal notranslate"><span class="pre">I</span> <span class="pre">also</span> <span class="pre">st</span> <span class="pre">arted</span> <span class="pre">to</span> <span class="pre">use</span> <span class="pre">mroonga.</span> <span class="pre">It's</span>
<span class="pre">also</span> <span class="pre">very</span> <span class="pre">fast!</span> <span class="pre">Really</span> <span class="pre">fast!</span></code> is matched. The number of words between
<code class="docutils literal notranslate"><span class="pre">also</span></code> and <code class="docutils literal notranslate"><span class="pre">Really</span></code> is 10.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 12.0.1: </span>The max intervals of each token.</p>
</div>
<p>You can specify the max intervals of each token. The default is no
limit. It means that all intervals of each token are valid as long as
the max interval is satisfied.</p>
<p>Here is an example that use <code class="docutils literal notranslate"><span class="pre">2</span></code> for the max interval of the first
interval and <code class="docutils literal notranslate"><span class="pre">4</span></code> for the max interval of the second interval:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">content</span> <span class="o">*</span><span class="n">N10</span><span class="p">,</span><span class="mi">2</span><span class="o">|</span><span class="mi">4</span> <span class="s2">&quot;a b c&quot;</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">10</span></code> is the max interval.</p>
<p><code class="docutils literal notranslate"><span class="pre">|</span></code> is the separator of the max intervals of each token.</p>
<p>This matches <code class="docutils literal notranslate"><span class="pre">a</span> <span class="pre">x</span> <span class="pre">b</span> <span class="pre">x</span> <span class="pre">x</span> <span class="pre">x</span> <span class="pre">c</span></code>. But this doesn’t match <code class="docutils literal notranslate"><span class="pre">a</span> <span class="pre">x</span> <span class="pre">x</span> <span class="pre">b</span> <span class="pre">c</span></code>,
<code class="docutils literal notranslate"><span class="pre">a</span> <span class="pre">b</span> <span class="pre">x</span> <span class="pre">x</span> <span class="pre">x</span> <span class="pre">x</span> <span class="pre">c</span></code> and so on because the former has <code class="docutils literal notranslate"><span class="pre">3</span></code> interval for
the first interval that is larger than <code class="docutils literal notranslate"><span class="pre">2</span></code> and the latter has <code class="docutils literal notranslate"><span class="pre">5</span></code>
interval for the second interval that is later than <code class="docutils literal notranslate"><span class="pre">4</span></code>.</p>
<p>Here is an example that specifies the max intervals of each token:</p>
<p>Execution example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">select</span> <span class="n">Entries</span> <span class="o">--</span><span class="nb">filter</span> <span class="s1">&#39;content *N11,5|3 &quot;first welcome post&quot;&#39;</span>
<span class="c1"># [</span>
<span class="c1">#   [</span>
<span class="c1">#     0,</span>
<span class="c1">#     1337566253.89858,</span>
<span class="c1">#     0.000355720520019531</span>
<span class="c1">#   ],</span>
<span class="c1">#   [</span>
<span class="c1">#     [</span>
<span class="c1">#       [</span>
<span class="c1">#         1</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;_id&quot;,</span>
<span class="c1">#           &quot;UInt32&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;_key&quot;,</span>
<span class="c1">#           &quot;ShortText&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;content&quot;,</span>
<span class="c1">#           &quot;Text&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;n_likes&quot;,</span>
<span class="c1">#           &quot;UInt32&quot;</span>
<span class="c1">#         ]</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         1,</span>
<span class="c1">#         &quot;The first post!&quot;,</span>
<span class="c1">#         &quot;Welcome! This is my first post!&quot;,</span>
<span class="c1">#         5</span>
<span class="c1">#       ]</span>
<span class="c1">#     ]</span>
<span class="c1">#   ]</span>
<span class="c1"># ]</span>
<span class="n">select</span> <span class="n">Entries</span> <span class="o">--</span><span class="nb">filter</span> <span class="s1">&#39;content *N11,4|3 &quot;first welcome post&quot;&#39;</span>
<span class="c1"># [</span>
<span class="c1">#   [</span>
<span class="c1">#     0,</span>
<span class="c1">#     1337566253.89858,</span>
<span class="c1">#     0.000355720520019531</span>
<span class="c1">#   ],</span>
<span class="c1">#   [</span>
<span class="c1">#     [</span>
<span class="c1">#       [</span>
<span class="c1">#         0</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;_id&quot;,</span>
<span class="c1">#           &quot;UInt32&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;_key&quot;,</span>
<span class="c1">#           &quot;ShortText&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;content&quot;,</span>
<span class="c1">#           &quot;Text&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;n_likes&quot;,</span>
<span class="c1">#           &quot;UInt32&quot;</span>
<span class="c1">#         ]</span>
<span class="c1">#       ]</span>
<span class="c1">#     ]</span>
<span class="c1">#   ]</span>
<span class="c1"># ]</span>
</pre></div>
</div>
<p>You can omit one or more intervals. Omitted intervals are treated as
<code class="docutils literal notranslate"><span class="pre">-1</span></code>. It means that <code class="docutils literal notranslate"><span class="pre">*N11,5</span></code> equals <code class="docutils literal notranslate"><span class="pre">*N11,5|-1</span></code>. <code class="docutils literal notranslate"><span class="pre">-1</span></code> means
that no limit.</p>
<p>Here is an example that omits an interval:</p>
<p>Execution example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">select</span> <span class="n">Entries</span> <span class="o">--</span><span class="nb">filter</span> <span class="s1">&#39;content *N11,5 &quot;first welcome post&quot;&#39;</span>
<span class="c1"># [</span>
<span class="c1">#   [</span>
<span class="c1">#     0,</span>
<span class="c1">#     1337566253.89858,</span>
<span class="c1">#     0.000355720520019531</span>
<span class="c1">#   ],</span>
<span class="c1">#   [</span>
<span class="c1">#     [</span>
<span class="c1">#       [</span>
<span class="c1">#         1</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;_id&quot;,</span>
<span class="c1">#           &quot;UInt32&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;_key&quot;,</span>
<span class="c1">#           &quot;ShortText&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;content&quot;,</span>
<span class="c1">#           &quot;Text&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;n_likes&quot;,</span>
<span class="c1">#           &quot;UInt32&quot;</span>
<span class="c1">#         ]</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         1,</span>
<span class="c1">#         &quot;The first post!&quot;,</span>
<span class="c1">#         &quot;Welcome! This is my first post!&quot;,</span>
<span class="c1">#         5</span>
<span class="c1">#       ]</span>
<span class="c1">#     ]</span>
<span class="c1">#   ]</span>
<span class="c1"># ]</span>
<span class="n">select</span> <span class="n">Entries</span> <span class="o">--</span><span class="nb">filter</span> <span class="s1">&#39;content *N11,5|-1 &quot;first welcome post&quot;&#39;</span>
<span class="c1"># [</span>
<span class="c1">#   [</span>
<span class="c1">#     0,</span>
<span class="c1">#     1337566253.89858,</span>
<span class="c1">#     0.000355720520019531</span>
<span class="c1">#   ],</span>
<span class="c1">#   [</span>
<span class="c1">#     [</span>
<span class="c1">#       [</span>
<span class="c1">#         1</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;_id&quot;,</span>
<span class="c1">#           &quot;UInt32&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;_key&quot;,</span>
<span class="c1">#           &quot;ShortText&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;content&quot;,</span>
<span class="c1">#           &quot;Text&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;n_likes&quot;,</span>
<span class="c1">#           &quot;UInt32&quot;</span>
<span class="c1">#         ]</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         1,</span>
<span class="c1">#         &quot;The first post!&quot;,</span>
<span class="c1">#         &quot;Welcome! This is my first post!&quot;,</span>
<span class="c1">#         5</span>
<span class="c1">#       ]</span>
<span class="c1">#     ]</span>
<span class="c1">#   ]</span>
<span class="c1"># ]</span>
</pre></div>
</div>
<p>You can specify extra intervals. They are just ignored:</p>
<p>Execution example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">select</span> <span class="n">Entries</span> <span class="o">--</span><span class="nb">filter</span> <span class="s1">&#39;content *N11,5|6|1|2|3 &quot;first welcome post&quot;&#39;</span>
<span class="c1"># [</span>
<span class="c1">#   [</span>
<span class="c1">#     0,</span>
<span class="c1">#     1337566253.89858,</span>
<span class="c1">#     0.000355720520019531</span>
<span class="c1">#   ],</span>
<span class="c1">#   [</span>
<span class="c1">#     [</span>
<span class="c1">#       [</span>
<span class="c1">#         1</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;_id&quot;,</span>
<span class="c1">#           &quot;UInt32&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;_key&quot;,</span>
<span class="c1">#           &quot;ShortText&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;content&quot;,</span>
<span class="c1">#           &quot;Text&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;n_likes&quot;,</span>
<span class="c1">#           &quot;UInt32&quot;</span>
<span class="c1">#         ]</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         1,</span>
<span class="c1">#         &quot;The first post!&quot;,</span>
<span class="c1">#         &quot;Welcome! This is my first post!&quot;,</span>
<span class="c1">#         5</span>
<span class="c1">#       ]</span>
<span class="c1">#     ]</span>
<span class="c1">#   ]</span>
<span class="c1"># ]</span>
<span class="n">select</span> <span class="n">Entries</span> <span class="o">--</span><span class="nb">filter</span> <span class="s1">&#39;content *N11,5|6 &quot;first welcome post&quot;&#39;</span>
<span class="c1"># [</span>
<span class="c1">#   [</span>
<span class="c1">#     0,</span>
<span class="c1">#     1337566253.89858,</span>
<span class="c1">#     0.000355720520019531</span>
<span class="c1">#   ],</span>
<span class="c1">#   [</span>
<span class="c1">#     [</span>
<span class="c1">#       [</span>
<span class="c1">#         1</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;_id&quot;,</span>
<span class="c1">#           &quot;UInt32&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;_key&quot;,</span>
<span class="c1">#           &quot;ShortText&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;content&quot;,</span>
<span class="c1">#           &quot;Text&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;n_likes&quot;,</span>
<span class="c1">#           &quot;UInt32&quot;</span>
<span class="c1">#         ]</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         1,</span>
<span class="c1">#         &quot;The first post!&quot;,</span>
<span class="c1">#         &quot;Welcome! This is my first post!&quot;,</span>
<span class="c1">#         5</span>
<span class="c1">#       ]</span>
<span class="c1">#     ]</span>
<span class="c1">#   ]</span>
<span class="c1"># ]</span>
</pre></div>
</div>
</div>
<div class="section" id="near-phrase-search-operator">
<span id="script-syntax-near-phrase-search-operator"></span><h3><span class="section-number">7.13.2.9.5. </span>Near phrase search operator<a class="headerlink" href="#near-phrase-search-operator" title="Permalink to this headline">¶</a></h3>
<p>Its syntax is one of them:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>column *NP &quot;phrase1 phrase2 ...&quot;
column *NP${MAX_INTERVAL} &quot;phrase1 phrase2 ...&quot;
column *NP${MAX_INTERVAL},${ADDITIONAL_LAST_INTERVAL} &quot;phrase1 phrase2 ...&quot;
column *NP${MAX_INTERVAL},${ADDITIONAL_LAST_INTERVAL},${MAX_PHRASE_INTERVAL_1}|${MAX_PHRASE_INTERVAL_2}|... &quot;phrase1 phrase2 ...&quot;
</pre></div>
</div>
<p>Here are examples of the second form:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">column</span> <span class="o">*</span><span class="n">NP29</span> <span class="s2">&quot;phrase1 phrase2 ...&quot;</span>
<span class="n">column</span> <span class="o">*</span><span class="n">NP</span><span class="o">-</span><span class="mi">1</span> <span class="s2">&quot;phrase1 phrase2 ...&quot;</span>
</pre></div>
</div>
<p>The first example means that <code class="docutils literal notranslate"><span class="pre">29</span></code> is used for the max interval.</p>
<p>The second example means that <code class="docutils literal notranslate"><span class="pre">-1</span></code> is used for the max interval.</p>
<p>The max interval is described later.</p>
<p>Here are examples of the third form:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">column</span> <span class="o">*</span><span class="n">NP10</span><span class="p">,</span><span class="mi">29</span> <span class="s2">&quot;phrase1 phrase2 ...&quot;</span>
<span class="n">column</span> <span class="o">*</span><span class="n">NP10</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span> <span class="s2">&quot;phrase1 phrase2 ...&quot;</span>
</pre></div>
</div>
<p>The first example means that <code class="docutils literal notranslate"><span class="pre">29</span></code> is used for the additional last
interval.</p>
<p>The second example means that <code class="docutils literal notranslate"><span class="pre">-1</span></code> is used for the additional last
interval.</p>
<p>The additional last interval is described later.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 12.0.1: </span>The max intervals of each phrase.</p>
</div>
<p>Here are examples of the forth form:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">column</span> <span class="o">*</span><span class="n">NP10</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="o">|</span><span class="mi">3</span> <span class="s2">&quot;phrase1 phrase2 phrase3&quot;</span>
<span class="n">column</span> <span class="o">*</span><span class="n">NP10</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span> <span class="s2">&quot;phrase1 phrase2 phrase3&quot;</span>
</pre></div>
</div>
<p>The first example means that <code class="docutils literal notranslate"><span class="pre">2</span></code> is used for the max interval of the
first interval and <code class="docutils literal notranslate"><span class="pre">3</span></code> is used for the max interval of the second
interval.</p>
<p>The second example means that <code class="docutils literal notranslate"><span class="pre">2</span></code> is used for the first max interval
of the first interval and <code class="docutils literal notranslate"><span class="pre">-1</span></code> is used for the max interval of the
second interval. Because the omitted max interval is treated as
<code class="docutils literal notranslate"><span class="pre">-1</span></code>.</p>
<p>See <a class="reference internal" href="#script-syntax-near-phrase-search-operator"><span class="std std-ref">Near phrase search operator</span></a> for the max
intervals of each phrase.</p>
<p>The operator does near phrase search with phrases <code class="docutils literal notranslate"><span class="pre">phrase1</span> <span class="pre">phrase2</span>
<span class="pre">...</span></code>. Near phrase search searches records that contain the phrases
and the phrases are appeared in the specified order and the max
interval.</p>
<p>The max interval is <code class="docutils literal notranslate"><span class="pre">10</span></code> by default. The unit of the max interval is
the number of characters in N-gram family tokenizers and the number of
words in morphological analysis family tokenizers.</p>
<p>However, <code class="docutils literal notranslate"><span class="pre">TokenBigram</span></code> doesn’t split ASCII only word into tokens.
Because <code class="docutils literal notranslate"><span class="pre">TokenBigram</span></code> uses white-space-separate like tokenize method
for ASCII characters in this case.</p>
<p>So the unit for ASCII words with <code class="docutils literal notranslate"><span class="pre">TokenBigram</span></code> is the number of
words even if <code class="docutils literal notranslate"><span class="pre">TokenBigram</span></code> is a N-gram family tokenizer.</p>
<p>Note that an index column for full text search must be defined for
<code class="docutils literal notranslate"><span class="pre">column</span></code>.</p>
<p>TODO: Use index that has <code class="docutils literal notranslate"><span class="pre">TokenNgram(&quot;unify_alphabet&quot;,</span> <span class="pre">false)</span></code>
tokenizer to show difference with near search with English text.</p>
<p>Here is a simple example:</p>
<p>Execution example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">select</span> <span class="n">Entries</span> <span class="o">--</span><span class="nb">filter</span> <span class="s1">&#39;content *NP &quot;I fast&quot;&#39;</span>      <span class="o">--</span><span class="n">output_columns</span> <span class="n">content</span>
<span class="c1"># [</span>
<span class="c1">#   [</span>
<span class="c1">#     0,</span>
<span class="c1">#     1337566253.89858,</span>
<span class="c1">#     0.000355720520019531</span>
<span class="c1">#   ],</span>
<span class="c1">#   [</span>
<span class="c1">#     [</span>
<span class="c1">#       [</span>
<span class="c1">#         1</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;content&quot;,</span>
<span class="c1">#           &quot;Text&quot;</span>
<span class="c1">#         ]</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         &quot;I started to use Groonga. It&#39;s very fast!&quot;</span>
<span class="c1">#       ]</span>
<span class="c1">#     ]</span>
<span class="c1">#   ]</span>
<span class="c1"># ]</span>
<span class="n">select</span> <span class="n">Entries</span> <span class="o">--</span><span class="nb">filter</span> <span class="s1">&#39;content *NP &quot;I Really&quot;&#39;</span>    <span class="o">--</span><span class="n">output_columns</span> <span class="n">content</span>
<span class="c1"># [[0, 1337566253.89858, 0.000355720520019531], [[[0], [[&quot;content&quot;, &quot;Text&quot;]]]]]</span>
<span class="n">select</span> <span class="n">Entries</span> <span class="o">--</span><span class="nb">filter</span> <span class="s1">&#39;content *NP &quot;also Really&quot;&#39;</span> <span class="o">--</span><span class="n">output_columns</span> <span class="n">content</span>
<span class="c1"># [</span>
<span class="c1">#   [</span>
<span class="c1">#     0,</span>
<span class="c1">#     1337566253.89858,</span>
<span class="c1">#     0.000355720520019531</span>
<span class="c1">#   ],</span>
<span class="c1">#   [</span>
<span class="c1">#     [</span>
<span class="c1">#       [</span>
<span class="c1">#         1</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;content&quot;,</span>
<span class="c1">#           &quot;Text&quot;</span>
<span class="c1">#         ]</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         &quot;I also started to use Mroonga. It&#39;s also very fast! Really fast!&quot;</span>
<span class="c1">#       ]</span>
<span class="c1">#     ]</span>
<span class="c1">#   ]</span>
<span class="c1"># ]</span>
</pre></div>
</div>
<p>The first expression matches records that contain <code class="docutils literal notranslate"><span class="pre">I</span></code> and <code class="docutils literal notranslate"><span class="pre">fast</span></code>
and the max interval of those words are in 10 words. So the record
that its content is <code class="docutils literal notranslate"><span class="pre">I</span> <span class="pre">also</span> <span class="pre">started</span> <span class="pre">to</span> <span class="pre">use</span> <span class="pre">mroonga.</span> <span class="pre">It's</span> <span class="pre">also</span> <span class="pre">very</span>
<span class="pre">fast!</span> <span class="pre">...</span></code> is matched. The number of words between <code class="docutils literal notranslate"><span class="pre">I</span></code> and <code class="docutils literal notranslate"><span class="pre">fast</span></code>
is just 10.</p>
<p>The second expression matches records that contain <code class="docutils literal notranslate"><span class="pre">I</span></code> and
<code class="docutils literal notranslate"><span class="pre">Really</span></code> and the max interval of those words are in 10 words. So the
record that its content is <code class="docutils literal notranslate"><span class="pre">I</span> <span class="pre">also</span> <span class="pre">started</span> <span class="pre">to</span> <span class="pre">use</span> <span class="pre">mroonga.</span> <span class="pre">It's</span> <span class="pre">also</span>
<span class="pre">very</span> <span class="pre">fast!</span> <span class="pre">Really</span> <span class="pre">fast!</span></code> is not matched. The number of words between
<code class="docutils literal notranslate"><span class="pre">I</span></code> and <code class="docutils literal notranslate"><span class="pre">Really</span></code> is 14.</p>
<p>The third expression matches records that contain <code class="docutils literal notranslate"><span class="pre">also</span></code> and
<code class="docutils literal notranslate"><span class="pre">Really</span></code> and the max interval of those words are in 10 words. So
the record that its content is <code class="docutils literal notranslate"><span class="pre">I</span> <span class="pre">also</span> <span class="pre">st</span> <span class="pre">arted</span> <span class="pre">to</span> <span class="pre">use</span> <span class="pre">mroonga.</span> <span class="pre">It's</span>
<span class="pre">also</span> <span class="pre">very</span> <span class="pre">fast!</span> <span class="pre">Really</span> <span class="pre">fast!</span></code> is matched. The number of words between
<code class="docutils literal notranslate"><span class="pre">also</span></code> and <code class="docutils literal notranslate"><span class="pre">Really</span></code> is 10.</p>
<p>Here is an example to use the custom max interval:</p>
<p>Execution example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">select</span> <span class="n">Entries</span> <span class="o">--</span><span class="nb">filter</span> <span class="s1">&#39;content *NP14 &quot;I Really&quot;&#39;</span> <span class="o">--</span><span class="n">output_columns</span> <span class="n">content</span>
<span class="c1"># [</span>
<span class="c1">#   [</span>
<span class="c1">#     0,</span>
<span class="c1">#     1337566253.89858,</span>
<span class="c1">#     0.000355720520019531</span>
<span class="c1">#   ],</span>
<span class="c1">#   [</span>
<span class="c1">#     [</span>
<span class="c1">#       [</span>
<span class="c1">#         1</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;content&quot;,</span>
<span class="c1">#           &quot;Text&quot;</span>
<span class="c1">#         ]</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         &quot;I also started to use Mroonga. It&#39;s also very fast! Really fast!&quot;</span>
<span class="c1">#       ]</span>
<span class="c1">#     ]</span>
<span class="c1">#   ]</span>
<span class="c1"># ]</span>
<span class="n">select</span> <span class="n">Entries</span> <span class="o">--</span><span class="nb">filter</span> <span class="s1">&#39;content *NP-1 &quot;I Really&quot;&#39;</span> <span class="o">--</span><span class="n">output_columns</span> <span class="n">content</span>
<span class="c1"># [</span>
<span class="c1">#   [</span>
<span class="c1">#     0,</span>
<span class="c1">#     1337566253.89858,</span>
<span class="c1">#     0.000355720520019531</span>
<span class="c1">#   ],</span>
<span class="c1">#   [</span>
<span class="c1">#     [</span>
<span class="c1">#       [</span>
<span class="c1">#         1</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;content&quot;,</span>
<span class="c1">#           &quot;Text&quot;</span>
<span class="c1">#         ]</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         &quot;I also started to use Mroonga. It&#39;s also very fast! Really fast!&quot;</span>
<span class="c1">#       ]</span>
<span class="c1">#     ]</span>
<span class="c1">#   ]</span>
<span class="c1"># ]</span>
</pre></div>
</div>
<p>The first expression matches <code class="docutils literal notranslate"><span class="pre">I</span> <span class="pre">also</span> <span class="pre">started</span> <span class="pre">to</span> <span class="pre">use</span>
<span class="pre">mroonga.</span> <span class="pre">It's</span> <span class="pre">also</span> <span class="pre">very</span> <span class="pre">fast!</span> <span class="pre">Really</span> <span class="pre">fast!</span></code> because the number of
words between <code class="docutils literal notranslate"><span class="pre">I</span></code> and <code class="docutils literal notranslate"><span class="pre">Really</span></code> is 14.</p>
<p>The second expression also matches <code class="docutils literal notranslate"><span class="pre">I</span> <span class="pre">also</span> <span class="pre">started</span> <span class="pre">to</span> <span class="pre">use</span>
<span class="pre">mroonga.</span> <span class="pre">It's</span> <span class="pre">also</span> <span class="pre">very</span> <span class="pre">fast!</span> <span class="pre">Really</span> <span class="pre">fast!</span></code> because <code class="docutils literal notranslate"><span class="pre">-1</span></code> means that
there is no limitation the number of words between <code class="docutils literal notranslate"><span class="pre">I</span></code> and
<code class="docutils literal notranslate"><span class="pre">Really</span></code>.</p>
<p>You can use additional interval only for the last phrase. It means
that you can accept more distance only between the second to last
phrase and the last phrase. This is useful for implementing a near
phrase search in the same sentence. If you specify <code class="docutils literal notranslate"><span class="pre">.</span></code> (sentence end
phrase) as the last phrase and specify <code class="docutils literal notranslate"><span class="pre">-1</span></code> as the additional last
interval, the other specified phrases must be appeared before
<code class="docutils literal notranslate"><span class="pre">.</span></code>. You must append <code class="docutils literal notranslate"><span class="pre">$</span></code> to the last phrase like <code class="docutils literal notranslate"><span class="pre">.$</span></code>.</p>
<p>Here is an example that uses <code class="docutils literal notranslate"><span class="pre">-1</span></code> as the additional last interval of
the given phrases:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">column</span> <span class="o">*</span><span class="n">NP10</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span> <span class="s2">&quot;a b .$&quot;</span>
</pre></div>
</div>
<p>Here is an example to customize the additional last interval of the
given phrases:</p>
<p>Execution example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">select</span> <span class="n">Entries</span> <span class="o">--</span><span class="nb">filter</span> <span class="s1">&#39;content *NP1,-1 &quot;I started .$&quot;&#39;</span> <span class="o">--</span><span class="n">output_columns</span> <span class="n">content</span>
<span class="c1"># [</span>
<span class="c1">#   [</span>
<span class="c1">#     0,</span>
<span class="c1">#     1337566253.89858,</span>
<span class="c1">#     0.000355720520019531</span>
<span class="c1">#   ],</span>
<span class="c1">#   [</span>
<span class="c1">#     [</span>
<span class="c1">#       [</span>
<span class="c1">#         1</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;content&quot;,</span>
<span class="c1">#           &quot;Text&quot;</span>
<span class="c1">#         ]</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         &quot;I started to use Groonga. It&#39;s very fast!&quot;</span>
<span class="c1">#       ]</span>
<span class="c1">#     ]</span>
<span class="c1">#   ]</span>
<span class="c1"># ]</span>
</pre></div>
</div>
<p>You can also use positive number for the additional last interval. If
you specify positive number as the additional last interval, all of
the following conditions must be satisfied:</p>
<ol class="arabic simple">
<li><p>The interval between the first phrase and the second to last
phrase is less than or equals to <code class="docutils literal notranslate"><span class="pre">the</span> <span class="pre">max</span> <span class="pre">interval</span></code>.</p></li>
<li><p>The interval between the first phrase and the last phrase is less
than or equals to <code class="docutils literal notranslate"><span class="pre">the</span> <span class="pre">max</span> <span class="pre">interval</span></code> + <code class="docutils literal notranslate"><span class="pre">the</span> <span class="pre">additional</span> <span class="pre">last</span>
<span class="pre">interval</span></code>.</p></li>
</ol>
<p>If you specify negative number as the additional last interval, the
second condition isn’t required. Appearing the last phrase is just
needed.</p>
<p>Here is an example to use positive number as the additional last interval:</p>
<p>Execution example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">select</span> <span class="n">Entries</span> <span class="o">--</span><span class="nb">filter</span> <span class="s1">&#39;content *NP1,4 &quot;I started .$&quot;&#39;</span> <span class="o">--</span><span class="n">output_columns</span> <span class="n">content</span>
<span class="c1"># [</span>
<span class="c1">#   [</span>
<span class="c1">#     0,</span>
<span class="c1">#     1337566253.89858,</span>
<span class="c1">#     0.000355720520019531</span>
<span class="c1">#   ],</span>
<span class="c1">#   [</span>
<span class="c1">#     [</span>
<span class="c1">#       [</span>
<span class="c1">#         1</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;content&quot;,</span>
<span class="c1">#           &quot;Text&quot;</span>
<span class="c1">#         ]</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         &quot;I started to use Groonga. It&#39;s very fast!&quot;</span>
<span class="c1">#       ]</span>
<span class="c1">#     ]</span>
<span class="c1">#   ]</span>
<span class="c1"># ]</span>
</pre></div>
</div>
</div>
<div class="section" id="near-phrase-product-search-operator">
<span id="script-syntax-near-phrase-product-search-operator"></span><h3><span class="section-number">7.13.2.9.6. </span>Near phrase product search operator<a class="headerlink" href="#near-phrase-product-search-operator" title="Permalink to this headline">¶</a></h3>
<div class="versionadded">
<p><span class="versionmodified added">New in version 11.1.1.</span></p>
</div>
<p>Its syntax is one of them:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>column *NPP &quot;(phrase1-1 phrase1-2 ...) (phrase2-1 phrase2-2 ...) ...&quot;
column *NPP${MAX_INTERVAL} &quot;(phrase1-1 phrase1-2 ...) (phrase2-1 phrase2-2 ...) ...&quot;
column *NPP${MAX_INTERVAL},${ADDITIONAL_LAST_INTERVAL} &quot;(phrase1-1 phrase1-2 ...) (phrase2-1 phrase2-2 ...) ...&quot;
column *NPP${MAX_INTERVAL},${ADDITIONAL_LAST_INTERVAL},${MAX_PHRASE_INTERVAL_1}|${MAX_PHRASE_INTERVAL_2}|... &quot;(phrase1-1 phrase1-2 ...) (phrase2-1 phrase2-2 ...) ...&quot;
</pre></div>
</div>
<p>Here are examples of the second form:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">column</span> <span class="o">*</span><span class="n">NPP29</span> <span class="s2">&quot;(phrase1-1 phrase1-2 ...) (phrase2-1 phrase2-2 ...) ...&quot;</span>
<span class="n">column</span> <span class="o">*</span><span class="n">NPP</span><span class="o">-</span><span class="mi">1</span> <span class="s2">&quot;(phrase1-1 phrase1-2 ...) (phrase2-1 phrase2-2 ...) ...&quot;</span>
</pre></div>
</div>
<p>The first example means that <code class="docutils literal notranslate"><span class="pre">29</span></code> is used for the max interval.</p>
<p>The second example means that <code class="docutils literal notranslate"><span class="pre">-1</span></code> is used for the max interval.</p>
<p>Here are examples of the third form:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">column</span> <span class="o">*</span><span class="n">NPP10</span><span class="p">,</span><span class="mi">29</span> <span class="s2">&quot;(phrase1-1 phrase1-2 ...) (phrase2-1 phrase2-2 ...) ...&quot;</span>
<span class="n">column</span> <span class="o">*</span><span class="n">NPP10</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span> <span class="s2">&quot;(phrase1-1 phrase1-2 ...) (phrase2-1 phrase2-2 ...) ...&quot;</span>
</pre></div>
</div>
<p>The first example means that <code class="docutils literal notranslate"><span class="pre">29</span></code> is used for the additional last
interval.</p>
<p>The second example means that <code class="docutils literal notranslate"><span class="pre">-1</span></code> is used for the additional last
interval.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 12.0.1: </span>The max intervals of each phrase.</p>
</div>
<p>Here are examples of the forth form:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">column</span> <span class="o">*</span><span class="n">NPP10</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="o">|</span><span class="mi">3</span> <span class="s2">&quot;(phrase1-1 phrase1-2 ...) (phrase2-1 phrase2-2 ...) (phrase3-1 phrase3-2 ...)&quot;</span>
<span class="n">column</span> <span class="o">*</span><span class="n">NPP10</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span> <span class="s2">&quot;(phrase1-1 phrase1-2 ...) (phrase2-1 phrase2-2 ...) (phrase3-1 phrase3-2 ...)&quot;</span>
</pre></div>
</div>
<p>The first example means that <code class="docutils literal notranslate"><span class="pre">2</span></code> is used for the max interval of the
first interval and <code class="docutils literal notranslate"><span class="pre">3</span></code> is used for the max interval of the second
interval.</p>
<p>The second example means that <code class="docutils literal notranslate"><span class="pre">2</span></code> is used for the first max interval
of the first interval and <code class="docutils literal notranslate"><span class="pre">-1</span></code> is used for the max interval of the
second interval. Because the omitted max interval is treated as
<code class="docutils literal notranslate"><span class="pre">-1</span></code>.</p>
<p>See <a class="reference internal" href="#script-syntax-near-phrase-search-operator"><span class="std std-ref">Near phrase search operator</span></a> for the max
intervals of each phrase.</p>
<p>This operator does multiple
<a class="reference internal" href="#script-syntax-near-phrase-search-operator"><span class="std std-ref">Near phrase search operator</span></a>. Phrases for each
<a class="reference internal" href="#script-syntax-near-phrase-search-operator"><span class="std std-ref">Near phrase search operator</span></a> are computed as
product of <code class="docutils literal notranslate"><span class="pre">{phrase1_1,</span> <span class="pre">phrase1_2,</span> <span class="pre">...}</span></code>, <code class="docutils literal notranslate"><span class="pre">{phrase2_1,</span> <span class="pre">phrase2_2,</span>
<span class="pre">...}</span></code> and <code class="docutils literal notranslate"><span class="pre">...</span></code>. For example, <code class="docutils literal notranslate"><span class="pre">column</span> <span class="pre">*NPP</span> <span class="pre">&quot;(a</span> <span class="pre">b</span> <span class="pre">c)</span> <span class="pre">(d</span> <span class="pre">e)&quot;</span></code> uses
the following phrases for near phrase searches:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">a</span> <span class="pre">d</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">a</span> <span class="pre">e</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">b</span> <span class="pre">d</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">b</span> <span class="pre">e</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">c</span> <span class="pre">d</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">c</span> <span class="pre">e</span></code></p></li>
</ul>
<p>Here is a simple example:</p>
<p>Execution example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">select</span> <span class="n">Entries</span> \
  <span class="o">--</span><span class="nb">filter</span> <span class="s1">&#39;content *NPP &quot;(I It) (migrated fast)&quot;&#39;</span> \
  <span class="o">--</span><span class="n">output_columns</span> <span class="n">content</span>
<span class="c1"># [</span>
<span class="c1">#   [</span>
<span class="c1">#     0,</span>
<span class="c1">#     1337566253.89858,</span>
<span class="c1">#     0.000355720520019531</span>
<span class="c1">#   ],</span>
<span class="c1">#   [</span>
<span class="c1">#     [</span>
<span class="c1">#       [</span>
<span class="c1">#         4</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;content&quot;,</span>
<span class="c1">#           &quot;Text&quot;</span>
<span class="c1">#         ]</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         &quot;I started to use Groonga. It&#39;s very fast!&quot;</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         &quot;I also started to use Mroonga. It&#39;s also very fast! Really fast!&quot;</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         &quot;I migrated all Senna system!&quot;</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         &quot;I also migrated all Tritonn system!&quot;</span>
<span class="c1">#       ]</span>
<span class="c1">#     ]</span>
<span class="c1">#   ]</span>
<span class="c1"># ]</span>
</pre></div>
</div>
<p>You can use the all features of
<a class="reference internal" href="#script-syntax-near-phrase-search-operator"><span class="std std-ref">Near phrase search operator</span></a> such as the max
interval, <code class="docutils literal notranslate"><span class="pre">$</span></code> for the last phrase and the additional last interval.</p>
<p>Execution example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">select</span> <span class="n">Entries</span> \
  <span class="o">--</span><span class="nb">filter</span> <span class="s1">&#39;content *NPP2,-1 &quot;(I It) (migrated fast) (.$)&quot;&#39;</span> \
  <span class="o">--</span><span class="n">output_columns</span> <span class="n">content</span>
<span class="c1"># [[0, 1337566253.89858, 0.000355720520019531], [[[0], [[&quot;content&quot;, &quot;Text&quot;]]]]]</span>
</pre></div>
</div>
<p>This is more effective than multiple
<a class="reference internal" href="#script-syntax-near-phrase-search-operator"><span class="std std-ref">Near phrase search operator</span></a> .</p>
</div>
<div class="section" id="ordered-near-phrase-search-operator">
<span id="script-syntax-ordered-near-phrase-search-operator"></span><h3><span class="section-number">7.13.2.9.7. </span>Ordered near phrase search operator<a class="headerlink" href="#ordered-near-phrase-search-operator" title="Permalink to this headline">¶</a></h3>
<div class="versionadded">
<p><span class="versionmodified added">New in version 11.0.9.</span></p>
</div>
<p>Its syntax is one of them:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>column *ONP &quot;phrase1 phrase2 ...&quot;
column *ONP${MAX_INTERVAL} &quot;phrase1 phrase2 ...&quot;
column *ONP${MAX_INTERVAL},${ADDITIONAL_LAST_INTERVAL} &quot;phrase1 phrase2 ...&quot;
column *ONP${MAX_INTERVAL},${ADDITIONAL_LAST_INTERVAL},${MAX_PHRASE_INTERVAL_1}|${MAX_PHRASE_INTERVAL_2}|... &quot;phrase1 phrase2 ...&quot;
</pre></div>
</div>
<p>Here are examples of the second form:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">column</span> <span class="o">*</span><span class="n">ONP29</span> <span class="s2">&quot;phrase1 phrase2 ...&quot;</span>
<span class="n">column</span> <span class="o">*</span><span class="n">ONP</span><span class="o">-</span><span class="mi">1</span> <span class="s2">&quot;phrase1 phrase2 ...&quot;</span>
</pre></div>
</div>
<p>The first example means that <code class="docutils literal notranslate"><span class="pre">29</span></code> is used for the max interval.</p>
<p>The second example means that <code class="docutils literal notranslate"><span class="pre">-1</span></code> is used for the max interval.</p>
<p>Here are examples of the third form:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">column</span> <span class="o">*</span><span class="n">ONP10</span><span class="p">,</span><span class="mi">29</span> <span class="s2">&quot;phrase1 phrase2 ...&quot;</span>
<span class="n">column</span> <span class="o">*</span><span class="n">ONP10</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span> <span class="s2">&quot;phrase1 phrase2 ...&quot;</span>
</pre></div>
</div>
<p>The first example means that <code class="docutils literal notranslate"><span class="pre">29</span></code> is used for the additional last
interval.</p>
<p>The second example means that <code class="docutils literal notranslate"><span class="pre">-1</span></code> is used for the additional last
interval.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 12.0.1: </span>The max intervals of each phrase.</p>
</div>
<p>Here are examples of the forth form:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">column</span> <span class="o">*</span><span class="n">ONP10</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="o">|</span><span class="mi">3</span> <span class="s2">&quot;phrase1 phrase2 phrase3&quot;</span>
<span class="n">column</span> <span class="o">*</span><span class="n">ONP10</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span> <span class="s2">&quot;phrase1 phrase2 phrase3&quot;</span>
</pre></div>
</div>
<p>The first example means that <code class="docutils literal notranslate"><span class="pre">2</span></code> is used for the max interval of the
first interval and <code class="docutils literal notranslate"><span class="pre">3</span></code> is used for the max interval of the second
interval.</p>
<p>The second example means that <code class="docutils literal notranslate"><span class="pre">2</span></code> is used for the first max interval
of the first interval and <code class="docutils literal notranslate"><span class="pre">-1</span></code> is used for the max interval of the
second interval. Because the omitted max interval is treated as
<code class="docutils literal notranslate"><span class="pre">-1</span></code>.</p>
<p>See <a class="reference internal" href="#script-syntax-near-phrase-search-operator"><span class="std std-ref">Near phrase search operator</span></a> for the max
intervals of each phrase.</p>
<p>This operator does ordered near phrase search with <code class="docutils literal notranslate"><span class="pre">phrase1</span></code>,
<code class="docutils literal notranslate"><span class="pre">phrase2</span></code> and <code class="docutils literal notranslate"><span class="pre">...</span></code>. Ordered near phrase search is similar to
<a class="reference internal" href="#script-syntax-near-phrase-search-operator"><span class="std std-ref">Near phrase search operator</span></a> but ordered near
phrase search checks phrases order. For example, <code class="docutils literal notranslate"><span class="pre">column</span> <span class="pre">*ONP</span>
<span class="pre">&quot;groonga</span> <span class="pre">mroonga</span> <span class="pre">pgroonga&quot;</span></code> matches <code class="docutils literal notranslate"><span class="pre">groonga</span> <span class="pre">mroonga</span> <span class="pre">rroonga</span>
<span class="pre">pgroonga</span></code> but doesn’t match <code class="docutils literal notranslate"><span class="pre">groonga</span> <span class="pre">rroonga</span> <span class="pre">pgroonga</span>
<span class="pre">mroonga</span></code>. Because the latter uses different order.</p>
<p>Here is a simple example:</p>
<p>Execution example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">select</span> <span class="n">Entries</span> \
  <span class="o">--</span><span class="nb">filter</span> <span class="s1">&#39;content *ONP &quot;I Groonga&quot;&#39;</span> \
  <span class="o">--</span><span class="n">output_columns</span> <span class="n">content</span>
<span class="c1"># [</span>
<span class="c1">#   [</span>
<span class="c1">#     0,</span>
<span class="c1">#     1337566253.89858,</span>
<span class="c1">#     0.000355720520019531</span>
<span class="c1">#   ],</span>
<span class="c1">#   [</span>
<span class="c1">#     [</span>
<span class="c1">#       [</span>
<span class="c1">#         1</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;content&quot;,</span>
<span class="c1">#           &quot;Text&quot;</span>
<span class="c1">#         ]</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         &quot;I started to use Groonga. It&#39;s very fast!&quot;</span>
<span class="c1">#       ]</span>
<span class="c1">#     ]</span>
<span class="c1">#   ]</span>
<span class="c1"># ]</span>
<span class="n">select</span> <span class="n">Entries</span> \
  <span class="o">--</span><span class="nb">filter</span> <span class="s1">&#39;content *ONP &quot;Groonga I&quot;&#39;</span> \
  <span class="o">--</span><span class="n">output_columns</span> <span class="n">content</span>
<span class="c1"># [[0, 1337566253.89858, 0.000355720520019531], [[[0], [[&quot;content&quot;, &quot;Text&quot;]]]]]</span>
</pre></div>
</div>
<p>You can use the all features of
<a class="reference internal" href="#script-syntax-near-phrase-search-operator"><span class="std std-ref">Near phrase search operator</span></a> such as the max
interval and the additional last interval. But you don’t need to
specify <code class="docutils literal notranslate"><span class="pre">$</span></code> for the last phrase because the last phrase in query is
the last phrase.</p>
</div>
<div class="section" id="ordered-near-phrase-product-search-operator">
<span id="script-syntax-ordered-near-phrase-product-search-operator"></span><h3><span class="section-number">7.13.2.9.8. </span>Ordered near phrase product search operator<a class="headerlink" href="#ordered-near-phrase-product-search-operator" title="Permalink to this headline">¶</a></h3>
<div class="versionadded">
<p><span class="versionmodified added">New in version 11.1.1.</span></p>
</div>
<p>Its syntax is one of them:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>column *ONPP &quot;(phrase1-1 phrase1-2 ...) (phrase2-1 phrase2-2 ...) ...&quot;
column *ONPP${MAX_INTERVAL} &quot;(phrase1-1 phrase1-2 ...) (phrase2-1 phrase2-2 ...) ...&quot;
column *ONPP${MAX_INTERVAL},${ADDITIONAL_LAST_INTERVAL} &quot;(phrase1-1 phrase1-2 ...) (phrase2-1 phrase2-2 ...) ...&quot;
column *ONPP${MAX_INTERVAL},${ADDITIONAL_LAST_INTERVAL},${MAX_PHRASE_INTERVAL_1}|${MAX_PHRASE_INTERVAL_2}|... &quot;(phrase1-1 phrase1-2 ...) (phrase2-1 phrase2-2 ...) ...&quot;
</pre></div>
</div>
<p>Here are examples of the second form:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">column</span> <span class="o">*</span><span class="n">ONPP29</span> <span class="s2">&quot;(phrase1-1 phrase1-2 ...) (phrase2-1 phrase2-2 ...) ...&quot;</span>
<span class="n">column</span> <span class="o">*</span><span class="n">ONPP</span><span class="o">-</span><span class="mi">1</span> <span class="s2">&quot;(phrase1-1 phrase1-2 ...) (phrase2-1 phrase2-2 ...) ...&quot;</span>
</pre></div>
</div>
<p>The first example means that <code class="docutils literal notranslate"><span class="pre">29</span></code> is used for the max interval.</p>
<p>The second example means that <code class="docutils literal notranslate"><span class="pre">-1</span></code> is used for the max interval.</p>
<p>Here are examples of the third form:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">column</span> <span class="o">*</span><span class="n">ONPP10</span><span class="p">,</span><span class="mi">29</span> <span class="s2">&quot;(phrase1-1 phrase1-2 ...) (phrase2-1 phrase2-2 ...) ...&quot;</span>
<span class="n">column</span> <span class="o">*</span><span class="n">ONPP10</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span> <span class="s2">&quot;(phrase1-1 phrase1-2 ...) (phrase2-1 phrase2-2 ...) ...&quot;</span>
</pre></div>
</div>
<p>The first example means that <code class="docutils literal notranslate"><span class="pre">29</span></code> is used for the additional last
interval.</p>
<p>The second example means that <code class="docutils literal notranslate"><span class="pre">-1</span></code> is used for the additional last
interval.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 12.0.1: </span>The max intervals of each phrase.</p>
</div>
<p>Here are examples of the forth form:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">column</span> <span class="o">*</span><span class="n">ONPP10</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="o">|</span><span class="mi">3</span> <span class="s2">&quot;(phrase1-1 phrase1-2 ...) (phrase2-1 phrase2-2 ...) (phrase3-1 phrase3-2 ...)&quot;</span>
<span class="n">column</span> <span class="o">*</span><span class="n">ONPP10</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span> <span class="s2">&quot;(phrase1-1 phrase1-2 ...) (phrase2-1 phrase2-2 ...) (phrase3-1 phrase3-2 ...)&quot;</span>
</pre></div>
</div>
<p>The first example means that <code class="docutils literal notranslate"><span class="pre">2</span></code> is used for the max interval of the
first interval and <code class="docutils literal notranslate"><span class="pre">3</span></code> is used for the max interval of the second
interval.</p>
<p>The second example means that <code class="docutils literal notranslate"><span class="pre">2</span></code> is used for the first max interval
of the first interval and <code class="docutils literal notranslate"><span class="pre">-1</span></code> is used for the max interval of the
second interval. Because the omitted max interval is treated as
<code class="docutils literal notranslate"><span class="pre">-1</span></code>.</p>
<p>See <a class="reference internal" href="#script-syntax-near-phrase-search-operator"><span class="std std-ref">Near phrase search operator</span></a> for the max
intervals of each phrase.</p>
<p>This operator does ordered near phrase product search. Ordered near
phrase product search is similar to
<a class="reference internal" href="#script-syntax-near-phrase-product-search-operator"><span class="std std-ref">Near phrase product search operator</span></a> but ordered
near phrase product search checks phrases order like
<a class="reference internal" href="#script-syntax-ordered-near-phrase-search-operator"><span class="std std-ref">Ordered near phrase search operator</span></a>. For example,
<code class="docutils literal notranslate"><span class="pre">column</span> <span class="pre">*ONPP</span> <span class="pre">&quot;(a</span> <span class="pre">b</span> <span class="pre">c)</span> <span class="pre">(d</span> <span class="pre">e)&quot;</span></code> matches <code class="docutils literal notranslate"><span class="pre">a</span> <span class="pre">1</span> <span class="pre">d</span></code> but doesn’t match
<code class="docutils literal notranslate"><span class="pre">d</span> <span class="pre">1</span> <span class="pre">a</span></code>. Because the latter uses different order.</p>
<p>Here is a simple example:</p>
<p>Execution example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">select</span> <span class="n">Entries</span> \
  <span class="o">--</span><span class="nb">filter</span> <span class="s1">&#39;content *ONPP &quot;(I It) (migrated fast) (.)&quot;&#39;</span> \
  <span class="o">--</span><span class="n">output_columns</span> <span class="n">content</span>
<span class="c1"># [[0, 1337566253.89858, 0.000355720520019531], [[[0], [[&quot;content&quot;, &quot;Text&quot;]]]]]</span>
</pre></div>
</div>
<p>You can use the all features of
<a class="reference internal" href="#script-syntax-near-phrase-search-operator"><span class="std std-ref">Near phrase search operator</span></a> such as the max
interval and the additional last interval. But you don’t need to
specify <code class="docutils literal notranslate"><span class="pre">$</span></code> for the last phrase because the last phrase in query is
the last phrase.</p>
</div>
<div class="section" id="similar-search-operator">
<span id="script-syntax-similar-search-operator"></span><h3><span class="section-number">7.13.2.9.9. </span>Similar search operator<a class="headerlink" href="#similar-search-operator" title="Permalink to this headline">¶</a></h3>
<p>Its syntax is <code class="docutils literal notranslate"><span class="pre">column</span> <span class="pre">*S</span> <span class="pre">&quot;document&quot;</span></code>.</p>
<p>The operator does similar search with document <code class="docutils literal notranslate"><span class="pre">document</span></code>. Similar
search searches records that have similar content to
<code class="docutils literal notranslate"><span class="pre">document</span></code>.</p>
<p>Note that an index column for full text search must be defined for
<code class="docutils literal notranslate"><span class="pre">column</span></code>.</p>
<p>Here is a simple example:</p>
<p>Execution example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">select</span> <span class="n">Entries</span> <span class="o">--</span><span class="nb">filter</span> <span class="s1">&#39;content *S &quot;I migrated all Solr system!&quot;&#39;</span> <span class="o">--</span><span class="n">output_columns</span> <span class="n">content</span>
<span class="c1"># [</span>
<span class="c1">#   [</span>
<span class="c1">#     0,</span>
<span class="c1">#     1337566253.89858,</span>
<span class="c1">#     0.000355720520019531</span>
<span class="c1">#   ],</span>
<span class="c1">#   [</span>
<span class="c1">#     [</span>
<span class="c1">#       [</span>
<span class="c1">#         2</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;content&quot;,</span>
<span class="c1">#           &quot;Text&quot;</span>
<span class="c1">#         ]</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         &quot;I migrated all Senna system!&quot;</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         &quot;I also migrated all Tritonn system!&quot;</span>
<span class="c1">#       ]</span>
<span class="c1">#     ]</span>
<span class="c1">#   ]</span>
<span class="c1"># ]</span>
</pre></div>
</div>
<p>The expression matches records that have similar content to <code class="docutils literal notranslate"><span class="pre">I</span>
<span class="pre">migrated</span> <span class="pre">all</span> <span class="pre">Solr</span> <span class="pre">system!</span></code>. In this case, records that have <code class="docutils literal notranslate"><span class="pre">I</span>
<span class="pre">migrated</span> <span class="pre">all</span> <span class="pre">XXX</span> <span class="pre">system!</span></code> content are matched.</p>
<p>You should use <code class="docutils literal notranslate"><span class="pre">TokenMecab</span></code> tokenizer for similar search against Japanese documents.
Because <code class="docutils literal notranslate"><span class="pre">TokenMecab</span></code> will tokenize target documents to almost words, it improves similar search precision.</p>
</div>
<div class="section" id="term-extract-operator">
<span id="script-syntax-term-extract-operator"></span><h3><span class="section-number">7.13.2.9.10. </span>Term extract operator<a class="headerlink" href="#term-extract-operator" title="Permalink to this headline">¶</a></h3>
<p>Its syntax is <code class="docutils literal notranslate"><span class="pre">_key</span> <span class="pre">*T</span> <span class="pre">&quot;document&quot;</span></code>.</p>
<p>The operator extracts terms from <code class="docutils literal notranslate"><span class="pre">document</span></code>. Terms must be
registered as keys of the table of <code class="docutils literal notranslate"><span class="pre">_key</span></code>.</p>
<p>Note that the table must be patricia trie (<code class="docutils literal notranslate"><span class="pre">TABLE_PAT_KEY</span></code>) or
double array trie (<code class="docutils literal notranslate"><span class="pre">TABLE_DAT_KEY</span></code>). You can’t use hash table
(<code class="docutils literal notranslate"><span class="pre">TABLE_HASH_KEY</span></code>) and array (<code class="docutils literal notranslate"><span class="pre">TABLE_NO_KEY</span></code>) because they don’t
support longest common prefix search. Longest common prefix search is
used to implement the operator.</p>
<p>Here is a simple example:</p>
<p>Execution example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">table_create</span> <span class="n">Words</span> <span class="n">TABLE_PAT_KEY</span> <span class="n">ShortText</span> <span class="o">--</span><span class="n">normalizer</span> <span class="n">NormalizerAuto</span>
<span class="c1"># [[0, 1337566253.89858, 0.000355720520019531], true]</span>
<span class="n">load</span> <span class="o">--</span><span class="n">table</span> <span class="n">Words</span>
<span class="p">[</span>
<span class="p">{</span><span class="s2">&quot;_key&quot;</span><span class="p">:</span> <span class="s2">&quot;groonga&quot;</span><span class="p">},</span>
<span class="p">{</span><span class="s2">&quot;_key&quot;</span><span class="p">:</span> <span class="s2">&quot;mroonga&quot;</span><span class="p">},</span>
<span class="p">{</span><span class="s2">&quot;_key&quot;</span><span class="p">:</span> <span class="s2">&quot;Senna&quot;</span><span class="p">},</span>
<span class="p">{</span><span class="s2">&quot;_key&quot;</span><span class="p">:</span> <span class="s2">&quot;Tritonn&quot;</span><span class="p">}</span>
<span class="p">]</span>
<span class="c1"># [[0, 1337566253.89858, 0.000355720520019531], 4]</span>
<span class="n">select</span> <span class="n">Words</span> <span class="o">--</span><span class="nb">filter</span> <span class="s1">&#39;_key *T &quot;Groonga is the successor project to Senna.&quot;&#39;</span> <span class="o">--</span><span class="n">output_columns</span> <span class="n">_key</span>
<span class="c1"># [</span>
<span class="c1">#   [</span>
<span class="c1">#     0,</span>
<span class="c1">#     1337566253.89858,</span>
<span class="c1">#     0.000355720520019531</span>
<span class="c1">#   ],</span>
<span class="c1">#   [</span>
<span class="c1">#     [</span>
<span class="c1">#       [</span>
<span class="c1">#         2</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;_key&quot;,</span>
<span class="c1">#           &quot;ShortText&quot;</span>
<span class="c1">#         ]</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         &quot;groonga&quot;</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         &quot;senna&quot;</span>
<span class="c1">#       ]</span>
<span class="c1">#     ]</span>
<span class="c1">#   ]</span>
<span class="c1"># ]</span>
</pre></div>
</div>
<p>The expression extrcts terms that included in document <code class="docutils literal notranslate"><span class="pre">Groonga</span> <span class="pre">is</span>
<span class="pre">the</span> <span class="pre">successor</span> <span class="pre">project</span> <span class="pre">to</span> <span class="pre">Senna.</span></code>. In this case, <code class="docutils literal notranslate"><span class="pre">NormalizerAuto</span></code>
normalizer is specified to <code class="docutils literal notranslate"><span class="pre">Words</span></code>. So <code class="docutils literal notranslate"><span class="pre">Groonga</span></code> can be extracted
even if it is loaded as <code class="docutils literal notranslate"><span class="pre">groonga</span></code> into <code class="docutils literal notranslate"><span class="pre">Words</span></code>. All of extracted
terms are also normalized.</p>
</div>
<div class="section" id="regular-expression-operator">
<span id="script-syntax-regular-expression-operator"></span><h3><span class="section-number">7.13.2.9.11. </span>Regular expression operator<a class="headerlink" href="#regular-expression-operator" title="Permalink to this headline">¶</a></h3>
<div class="versionadded">
<p><span class="versionmodified added">New in version 5.0.1.</span></p>
</div>
<p>Its syntax is <code class="docutils literal notranslate"><span class="pre">column</span> <span class="pre">&#64;~</span> <span class="pre">&quot;pattern&quot;</span></code>.</p>
<p>The operator searches records by the regular expression
<code class="docutils literal notranslate"><span class="pre">pattern</span></code>. If a record’s <code class="docutils literal notranslate"><span class="pre">column</span></code> value is matched to <code class="docutils literal notranslate"><span class="pre">pattern</span></code>,
the record is matched.</p>
<p><code class="docutils literal notranslate"><span class="pre">pattern</span></code> must be valid regular expression syntax. See
<a class="reference internal" href="../regular_expression.html"><span class="doc">Regular expression</span></a> about regular expression syntax
details.</p>
<p>The following example uses <code class="docutils literal notranslate"><span class="pre">.roonga</span></code> as pattern. It matches
<code class="docutils literal notranslate"><span class="pre">Groonga</span></code>, <code class="docutils literal notranslate"><span class="pre">Mroonga</span></code> and so on.</p>
<p>Execution example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">select</span> <span class="n">Entries</span> <span class="o">--</span><span class="nb">filter</span> <span class="s1">&#39;content @~ &quot;.roonga&quot;&#39;</span>
<span class="c1"># [</span>
<span class="c1">#   [</span>
<span class="c1">#     0,</span>
<span class="c1">#     1337566253.89858,</span>
<span class="c1">#     0.000355720520019531</span>
<span class="c1">#   ],</span>
<span class="c1">#   [</span>
<span class="c1">#     [</span>
<span class="c1">#       [</span>
<span class="c1">#         2</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;_id&quot;,</span>
<span class="c1">#           &quot;UInt32&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;_key&quot;,</span>
<span class="c1">#           &quot;ShortText&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;content&quot;,</span>
<span class="c1">#           &quot;Text&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;n_likes&quot;,</span>
<span class="c1">#           &quot;UInt32&quot;</span>
<span class="c1">#         ]</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         2,</span>
<span class="c1">#         &quot;Groonga&quot;,</span>
<span class="c1">#         &quot;I started to use Groonga. It&#39;s very fast!&quot;,</span>
<span class="c1">#         10</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         3,</span>
<span class="c1">#         &quot;Mroonga&quot;,</span>
<span class="c1">#         &quot;I also started to use Mroonga. It&#39;s also very fast! Really fast!&quot;,</span>
<span class="c1">#         15</span>
<span class="c1">#       ]</span>
<span class="c1">#     ]</span>
<span class="c1">#   ]</span>
<span class="c1"># ]</span>
</pre></div>
</div>
<p>In most cases, regular expression is evaluated sequentially. So it may
be slow against many records.</p>
<p>In some cases, Groonga evaluates regular expression by index. It’s
very fast. See <a class="reference internal" href="../regular_expression.html"><span class="doc">Regular expression</span></a> for details.</p>
</div>
</div>
</div>


              </div>
              
              
              <!-- Previous / next buttons -->
<div class='prev-next-area'>
    <a class='left-prev' id="prev-link" href="query_syntax.html" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title"><span class="section-number">7.13.1. </span>Query syntax</p>
        </div>
    </a>
    <a class='right-next' id="next-link" href="../regular_expression.html" title="next page">
    <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title"><span class="section-number">7.14. </span>Regular expression</p>
    </div>
    <i class="fas fa-angle-right"></i>
    </a>
</div>
              
          </main>
          

      </div>
    </div>
  
    <script src="../../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf"></script>
  <footer class="footer mt-5 mt-md-0">
  <div class="container">
    
    <div class="footer-item">
      <p class="copyright">
    &copy; Copyright 2009-2022 Groonga Project.<br>
</p>
    </div>
    
    <div class="footer-item">
      <p class="sphinx-version">
Created using <a href="http://sphinx-doc.org/">Sphinx</a> 4.5.0.<br>
</p>
    </div>
    
  </div>
</footer>
  </body>
</html>